function Wf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Ed={exports:{}},gi={},Td={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vs=Symbol.for("react.element"),Yf=Symbol.for("react.portal"),Gf=Symbol.for("react.fragment"),Qf=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),Jf=Symbol.for("react.provider"),Xf=Symbol.for("react.context"),Zf=Symbol.for("react.forward_ref"),ep=Symbol.for("react.suspense"),tp=Symbol.for("react.memo"),np=Symbol.for("react.lazy"),Bc=Symbol.iterator;function rp(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var Dd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Md=Object.assign,Od={};function zr(e,t,n){this.props=e,this.context=t,this.refs=Od,this.updater=n||Dd}zr.prototype.isReactComponent={};zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ad(){}Ad.prototype=zr.prototype;function $o(e,t,n){this.props=e,this.context=t,this.refs=Od,this.updater=n||Dd}var Io=$o.prototype=new Ad;Io.constructor=$o;Md(Io,zr.prototype);Io.isPureReactComponent=!0;var qc=Array.isArray,$d=Object.prototype.hasOwnProperty,Ro={current:null},Id={key:!0,ref:!0,__self:!0,__source:!0};function Rd(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)$d.call(t,r)&&!Id.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Vs,type:e,key:i,ref:l,props:s,_owner:Ro.current}}function sp(e,t){return{$$typeof:Vs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Uo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vs}function ap(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wc=/\/+/g;function Wi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ap(""+e.key):t.toString(36)}function ka(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Vs:case Yf:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Wi(l,0):r,qc(s)?(n="",e!=null&&(n=e.replace(Wc,"$&/")+"/"),ka(s,t,n,"",function(u){return u})):s!=null&&(Uo(s)&&(s=sp(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Wc,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",qc(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+Wi(i,o);l+=ka(i,t,n,c,s)}else if(c=rp(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+Wi(i,o++),l+=ka(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function na(e,t,n){if(e==null)return e;var r=[],s=0;return ka(e,r,"","",function(i){return t.call(n,i,s++)}),r}function ip(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},Sa={transition:null},lp={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Sa,ReactCurrentOwner:Ro};function Ud(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:na,forEach:function(e,t,n){na(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return na(e,function(){t++}),t},toArray:function(e){return na(e,function(t){return t})||[]},only:function(e){if(!Uo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=zr;Z.Fragment=Gf;Z.Profiler=Kf;Z.PureComponent=$o;Z.StrictMode=Qf;Z.Suspense=ep;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lp;Z.act=Ud;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Md({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Ro.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)$d.call(t,c)&&!Id.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Vs,type:e.type,key:s,ref:i,props:r,_owner:l}};Z.createContext=function(e){return e={$$typeof:Xf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jf,_context:e},e.Consumer=e};Z.createElement=Rd;Z.createFactory=function(e){var t=Rd.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Zf,render:e}};Z.isValidElement=Uo;Z.lazy=function(e){return{$$typeof:np,_payload:{_status:-1,_result:e},_init:ip}};Z.memo=function(e,t){return{$$typeof:tp,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Sa.transition;Sa.transition={};try{e()}finally{Sa.transition=t}};Z.unstable_act=Ud;Z.useCallback=function(e,t){return Qe.current.useCallback(e,t)};Z.useContext=function(e){return Qe.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Qe.current.useEffect(e,t)};Z.useId=function(){return Qe.current.useId()};Z.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Qe.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};Z.useRef=function(e){return Qe.current.useRef(e)};Z.useState=function(e){return Qe.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Qe.current.useTransition()};Z.version="18.3.1";Td.exports=Z;var w=Td.exports;const op=Hf(w),cp=Wf({__proto__:null,default:op},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up=w,dp=Symbol.for("react.element"),hp=Symbol.for("react.fragment"),mp=Object.prototype.hasOwnProperty,fp=up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pp={key:!0,ref:!0,__self:!0,__source:!0};function Ld(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)mp.call(t,r)&&!pp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:dp,type:e,key:i,ref:l,props:s,_owner:fp.current}}gi.Fragment=hp;gi.jsx=Ld;gi.jsxs=Ld;Ed.exports=gi;var a=Ed.exports,Fd={exports:{}},ct={},zd={exports:{}},Bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,A){var R=$.length;$.push(A);e:for(;0<R;){var M=R-1>>>1,k=$[M];if(0<s(k,A))$[M]=A,$[R]=k,R=M;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var A=$[0],R=$.pop();if(R!==A){$[0]=R;e:for(var M=0,k=$.length,I=k>>>1;M<I;){var P=2*(M+1)-1,O=$[P],q=P+1,V=$[q];if(0>s(O,R))q<k&&0>s(V,O)?($[M]=V,$[q]=R,M=q):($[M]=O,$[P]=R,M=P);else if(q<k&&0>s(V,R))$[M]=V,$[q]=R,M=q;else break e}}return A}function s($,A){var R=$.sortIndex-A.sortIndex;return R!==0?R:$.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,m=3,p=!1,g=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=$)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function _($){if(v=!1,y($),!g)if(n(c)!==null)g=!0,Se(N);else{var A=n(u);A!==null&&be(_,A.startTime-$)}}function N($,A){g=!1,v&&(v=!1,x(T),T=-1),p=!0;var R=m;try{for(y(A),h=n(c);h!==null&&(!(h.expirationTime>A)||$&&!E());){var M=h.callback;if(typeof M=="function"){h.callback=null,m=h.priorityLevel;var k=M(h.expirationTime<=A);A=e.unstable_now(),typeof k=="function"?h.callback=k:h===n(c)&&r(c),y(A)}else r(c);h=n(c)}if(h!==null)var I=!0;else{var P=n(u);P!==null&&be(_,P.startTime-A),I=!1}return I}finally{h=null,m=R,p=!1}}var b=!1,S=null,T=-1,F=5,C=-1;function E(){return!(e.unstable_now()-C<F)}function z(){if(S!==null){var $=e.unstable_now();C=$;var A=!0;try{A=S(!0,$)}finally{A?X():(b=!1,S=null)}}else b=!1}var X;if(typeof f=="function")X=function(){f(z)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,je=oe.port2;oe.port1.onmessage=z,X=function(){je.postMessage(null)}}else X=function(){j(z,0)};function Se($){S=$,b||(b=!0,X())}function be($,A){T=j(function(){$(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,Se(N))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var R=m;m=A;try{return $()}finally{m=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,A){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var R=m;m=$;try{return A()}finally{m=R}},e.unstable_scheduleCallback=function($,A,R){var M=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?M+R:M):R=M,$){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=R+k,$={id:d++,callback:A,priorityLevel:$,startTime:R,expirationTime:k,sortIndex:-1},R>M?($.sortIndex=R,t(u,$),n(c)===null&&$===n(u)&&(v?(x(T),T=-1):v=!0,be(_,R-M))):($.sortIndex=k,t(c,$),g||p||(g=!0,Se(N))),$},e.unstable_shouldYield=E,e.unstable_wrapCallback=function($){var A=m;return function(){var R=m;m=A;try{return $.apply(this,arguments)}finally{m=R}}}})(Bd);zd.exports=Bd;var yp=zd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=w,ot=yp;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qd=new Set,ks={};function Xn(e,t){Er(e,t),Er(e+"Capture",t)}function Er(e,t){for(ks[e]=t,e=0;e<t.length;e++)qd.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sl=Object.prototype.hasOwnProperty,xp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hc={},Vc={};function vp(e){return Sl.call(Vc,e)?!0:Sl.call(Hc,e)?!1:xp.test(e)?Vc[e]=!0:(Hc[e]=!0,!1)}function wp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _p(e,t,n,r){if(t===null||typeof t>"u"||wp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lo=/[\-:]([a-z])/g;function Fo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lo,Fo);Ue[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lo,Fo);Ue[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lo,Fo);Ue[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function zo(e,t,n,r){var s=Ue.hasOwnProperty(t)?Ue[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_p(t,n,s,r)&&(n=null),r||s===null?vp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xt=gp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ra=Symbol.for("react.element"),ur=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),Bo=Symbol.for("react.strict_mode"),Cl=Symbol.for("react.profiler"),Wd=Symbol.for("react.provider"),Hd=Symbol.for("react.context"),qo=Symbol.for("react.forward_ref"),Pl=Symbol.for("react.suspense"),El=Symbol.for("react.suspense_list"),Wo=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),Vd=Symbol.for("react.offscreen"),Yc=Symbol.iterator;function Kr(e){return e===null||typeof e!="object"?null:(e=Yc&&e[Yc]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Hi;function os(e){if(Hi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hi=t&&t[1]||""}return`
`+Hi+e}var Vi=!1;function Yi(e,t){if(!e||Vi)return"";Vi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Vi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?os(e):""}function jp(e){switch(e.tag){case 5:return os(e.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 2:case 15:return e=Yi(e.type,!1),e;case 11:return e=Yi(e.type.render,!1),e;case 1:return e=Yi(e.type,!0),e;default:return""}}function Tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dr:return"Fragment";case ur:return"Portal";case Cl:return"Profiler";case Bo:return"StrictMode";case Pl:return"Suspense";case El:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hd:return(e.displayName||"Context")+".Consumer";case Wd:return(e._context.displayName||"Context")+".Provider";case qo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wo:return t=e.displayName||null,t!==null?t:Tl(e.type)||"Memo";case an:t=e._payload,e=e._init;try{return Tl(e(t))}catch{}}return null}function bp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tl(t);case 8:return t===Bo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Np(e){var t=Yd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sa(e){e._valueTracker||(e._valueTracker=Np(e))}function Gd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dl(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qd(e,t){t=t.checked,t!=null&&zo(e,"checked",t,!1)}function Ml(e,t){Qd(e,t);var n=kn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ol(e,t.type,kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ol(e,t,n){(t!=="number"||Ra(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cs=Array.isArray;function jr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Al(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(cs(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kn(n)}}function Kd(e,t){var n=kn(t.value),r=kn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $l(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var aa,Xd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(aa=aa||document.createElement("div"),aa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=aa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ss(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kp=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(e){kp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ms[t]=ms[e]})});function Zd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ms.hasOwnProperty(e)&&ms[e]?(""+t).trim():t+"px"}function eh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Zd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Sp=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(e,t){if(t){if(Sp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ul=null;function Ho(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ll=null,br=null,Nr=null;function Xc(e){if(e=Qs(e)){if(typeof Ll!="function")throw Error(D(280));var t=e.stateNode;t&&(t=ji(t),Ll(e.stateNode,e.type,t))}}function th(e){br?Nr?Nr.push(e):Nr=[e]:br=e}function nh(){if(br){var e=br,t=Nr;if(Nr=br=null,Xc(e),t)for(e=0;e<t.length;e++)Xc(t[e])}}function rh(e,t){return e(t)}function sh(){}var Gi=!1;function ah(e,t,n){if(Gi)return e(t,n);Gi=!0;try{return rh(e,t,n)}finally{Gi=!1,(br!==null||Nr!==null)&&(sh(),nh())}}function Cs(e,t){var n=e.stateNode;if(n===null)return null;var r=ji(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Fl=!1;if(Yt)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Fl=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Fl=!1}function Cp(e,t,n,r,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var fs=!1,Ua=null,La=!1,zl=null,Pp={onError:function(e){fs=!0,Ua=e}};function Ep(e,t,n,r,s,i,l,o,c){fs=!1,Ua=null,Cp.apply(Pp,arguments)}function Tp(e,t,n,r,s,i,l,o,c){if(Ep.apply(this,arguments),fs){if(fs){var u=Ua;fs=!1,Ua=null}else throw Error(D(198));La||(La=!0,zl=u)}}function Zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ih(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zc(e){if(Zn(e)!==e)throw Error(D(188))}function Dp(e){var t=e.alternate;if(!t){if(t=Zn(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Zc(s),e;if(i===r)return Zc(s),t;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function lh(e){return e=Dp(e),e!==null?oh(e):null}function oh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oh(e);if(t!==null)return t;e=e.sibling}return null}var ch=ot.unstable_scheduleCallback,eu=ot.unstable_cancelCallback,Mp=ot.unstable_shouldYield,Op=ot.unstable_requestPaint,_e=ot.unstable_now,Ap=ot.unstable_getCurrentPriorityLevel,Vo=ot.unstable_ImmediatePriority,uh=ot.unstable_UserBlockingPriority,Fa=ot.unstable_NormalPriority,$p=ot.unstable_LowPriority,dh=ot.unstable_IdlePriority,xi=null,Ot=null;function Ip(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(xi,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Lp,Rp=Math.log,Up=Math.LN2;function Lp(e){return e>>>=0,e===0?32:31-(Rp(e)/Up|0)|0}var ia=64,la=4194304;function us(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function za(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=us(o):(i&=l,i!==0&&(r=us(i)))}else l=n&~s,l!==0?r=us(l):i!==0&&(r=us(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kt(t),s=1<<n,r|=e[n],t&=~s;return r}function Fp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-kt(i),o=1<<l,c=s[l];c===-1?(!(o&n)||o&r)&&(s[l]=Fp(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hh(){var e=ia;return ia<<=1,!(ia&4194240)&&(ia=64),e}function Qi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ys(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=n}function Bp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-kt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Yo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var le=0;function mh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fh,Go,ph,yh,gh,ql=!1,oa=[],pn=null,yn=null,gn=null,Ps=new Map,Es=new Map,cn=[],qp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tu(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function Xr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Qs(t),t!==null&&Go(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Wp(e,t,n,r,s){switch(t){case"focusin":return pn=Xr(pn,e,t,n,r,s),!0;case"dragenter":return yn=Xr(yn,e,t,n,r,s),!0;case"mouseover":return gn=Xr(gn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ps.set(i,Xr(Ps.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Es.set(i,Xr(Es.get(i)||null,e,t,n,r,s)),!0}return!1}function xh(e){var t=Un(e.target);if(t!==null){var n=Zn(t);if(n!==null){if(t=n.tag,t===13){if(t=ih(n),t!==null){e.blockedOn=t,gh(e.priority,function(){ph(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ul=r,n.target.dispatchEvent(r),Ul=null}else return t=Qs(n),t!==null&&Go(t),e.blockedOn=n,!1;t.shift()}return!0}function nu(e,t,n){Ca(e)&&n.delete(t)}function Hp(){ql=!1,pn!==null&&Ca(pn)&&(pn=null),yn!==null&&Ca(yn)&&(yn=null),gn!==null&&Ca(gn)&&(gn=null),Ps.forEach(nu),Es.forEach(nu)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,ql||(ql=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Hp)))}function Ts(e){function t(s){return Zr(s,e)}if(0<oa.length){Zr(oa[0],e);for(var n=1;n<oa.length;n++){var r=oa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pn!==null&&Zr(pn,e),yn!==null&&Zr(yn,e),gn!==null&&Zr(gn,e),Ps.forEach(t),Es.forEach(t),n=0;n<cn.length;n++)r=cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cn.length&&(n=cn[0],n.blockedOn===null);)xh(n),n.blockedOn===null&&cn.shift()}var kr=Xt.ReactCurrentBatchConfig,Ba=!0;function Vp(e,t,n,r){var s=le,i=kr.transition;kr.transition=null;try{le=1,Qo(e,t,n,r)}finally{le=s,kr.transition=i}}function Yp(e,t,n,r){var s=le,i=kr.transition;kr.transition=null;try{le=4,Qo(e,t,n,r)}finally{le=s,kr.transition=i}}function Qo(e,t,n,r){if(Ba){var s=Wl(e,t,n,r);if(s===null)al(e,t,r,qa,n),tu(e,r);else if(Wp(s,e,t,n,r))r.stopPropagation();else if(tu(e,r),t&4&&-1<qp.indexOf(e)){for(;s!==null;){var i=Qs(s);if(i!==null&&fh(i),i=Wl(e,t,n,r),i===null&&al(e,t,r,qa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else al(e,t,r,null,n)}}var qa=null;function Wl(e,t,n,r){if(qa=null,e=Ho(r),e=Un(e),e!==null)if(t=Zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ih(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qa=e,null}function vh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ap()){case Vo:return 1;case uh:return 4;case Fa:case $p:return 16;case dh:return 536870912;default:return 16}default:return 16}}var hn=null,Ko=null,Pa=null;function wh(){if(Pa)return Pa;var e,t=Ko,n=t.length,r,s="value"in hn?hn.value:hn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return Pa=s.slice(e,1<r?1-r:void 0)}function Ea(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ca(){return!0}function ru(){return!1}function ut(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ca:ru,this.isPropagationStopped=ru,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),t}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=ut(Br),Gs=ve({},Br,{view:0,detail:0}),Gp=ut(Gs),Ki,Ji,es,vi=ve({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==es&&(es&&e.type==="mousemove"?(Ki=e.screenX-es.screenX,Ji=e.screenY-es.screenY):Ji=Ki=0,es=e),Ki)},movementY:function(e){return"movementY"in e?e.movementY:Ji}}),su=ut(vi),Qp=ve({},vi,{dataTransfer:0}),Kp=ut(Qp),Jp=ve({},Gs,{relatedTarget:0}),Xi=ut(Jp),Xp=ve({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),Zp=ut(Xp),ey=ve({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ty=ut(ey),ny=ve({},Br,{data:0}),au=ut(ny),ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ay[e])?!!t[e]:!1}function Xo(){return iy}var ly=ve({},Gs,{key:function(e){if(e.key){var t=ry[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xo,charCode:function(e){return e.type==="keypress"?Ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oy=ut(ly),cy=ve({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iu=ut(cy),uy=ve({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xo}),dy=ut(uy),hy=ve({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),my=ut(hy),fy=ve({},vi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),py=ut(fy),yy=[9,13,27,32],Zo=Yt&&"CompositionEvent"in window,ps=null;Yt&&"documentMode"in document&&(ps=document.documentMode);var gy=Yt&&"TextEvent"in window&&!ps,_h=Yt&&(!Zo||ps&&8<ps&&11>=ps),lu=" ",ou=!1;function jh(e,t){switch(e){case"keyup":return yy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hr=!1;function xy(e,t){switch(e){case"compositionend":return bh(t);case"keypress":return t.which!==32?null:(ou=!0,lu);case"textInput":return e=t.data,e===lu&&ou?null:e;default:return null}}function vy(e,t){if(hr)return e==="compositionend"||!Zo&&jh(e,t)?(e=wh(),Pa=Ko=hn=null,hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _h&&t.locale!=="ko"?null:t.data;default:return null}}var wy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wy[e.type]:t==="textarea"}function Nh(e,t,n,r){th(r),t=Wa(t,"onChange"),0<t.length&&(n=new Jo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ys=null,Ds=null;function _y(e){$h(e,0)}function wi(e){var t=pr(e);if(Gd(t))return e}function jy(e,t){if(e==="change")return t}var kh=!1;if(Yt){var Zi;if(Yt){var el="oninput"in document;if(!el){var uu=document.createElement("div");uu.setAttribute("oninput","return;"),el=typeof uu.oninput=="function"}Zi=el}else Zi=!1;kh=Zi&&(!document.documentMode||9<document.documentMode)}function du(){ys&&(ys.detachEvent("onpropertychange",Sh),Ds=ys=null)}function Sh(e){if(e.propertyName==="value"&&wi(Ds)){var t=[];Nh(t,Ds,e,Ho(e)),ah(_y,t)}}function by(e,t,n){e==="focusin"?(du(),ys=t,Ds=n,ys.attachEvent("onpropertychange",Sh)):e==="focusout"&&du()}function Ny(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wi(Ds)}function ky(e,t){if(e==="click")return wi(t)}function Sy(e,t){if(e==="input"||e==="change")return wi(t)}function Cy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:Cy;function Ms(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Sl.call(t,s)||!Ct(e[s],t[s]))return!1}return!0}function hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mu(e,t){var n=hu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hu(n)}}function Ch(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ch(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ph(){for(var e=window,t=Ra();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ra(e.document)}return t}function ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Py(e){var t=Ph(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ch(n.ownerDocument.documentElement,n)){if(r!==null&&ec(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=mu(n,i);var l=mu(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ey=Yt&&"documentMode"in document&&11>=document.documentMode,mr=null,Hl=null,gs=null,Vl=!1;function fu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vl||mr==null||mr!==Ra(r)||(r=mr,"selectionStart"in r&&ec(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gs&&Ms(gs,r)||(gs=r,r=Wa(Hl,"onSelect"),0<r.length&&(t=new Jo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionend:ua("Transition","TransitionEnd")},tl={},Eh={};Yt&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function _i(e){if(tl[e])return tl[e];if(!fr[e])return e;var t=fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Eh)return tl[e]=t[n];return e}var Th=_i("animationend"),Dh=_i("animationiteration"),Mh=_i("animationstart"),Oh=_i("transitionend"),Ah=new Map,pu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){Ah.set(e,t),Xn(t,[e])}for(var nl=0;nl<pu.length;nl++){var rl=pu[nl],Ty=rl.toLowerCase(),Dy=rl[0].toUpperCase()+rl.slice(1);Pn(Ty,"on"+Dy)}Pn(Th,"onAnimationEnd");Pn(Dh,"onAnimationIteration");Pn(Mh,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Oh,"onTransitionEnd");Er("onMouseEnter",["mouseout","mouseover"]);Er("onMouseLeave",["mouseout","mouseover"]);Er("onPointerEnter",["pointerout","pointerover"]);Er("onPointerLeave",["pointerout","pointerover"]);Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),My=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function yu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Tp(r,t,void 0,e),e.currentTarget=null}function $h(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;yu(s,o,u),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;yu(s,o,u),i=c}}}if(La)throw e=zl,La=!1,zl=null,e}function he(e,t){var n=t[Jl];n===void 0&&(n=t[Jl]=new Set);var r=e+"__bubble";n.has(r)||(Ih(t,e,2,!1),n.add(r))}function sl(e,t,n){var r=0;t&&(r|=4),Ih(n,e,r,t)}var da="_reactListening"+Math.random().toString(36).slice(2);function Os(e){if(!e[da]){e[da]=!0,qd.forEach(function(n){n!=="selectionchange"&&(My.has(n)||sl(n,!1,e),sl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[da]||(t[da]=!0,sl("selectionchange",!1,t))}}function Ih(e,t,n,r){switch(vh(t)){case 1:var s=Vp;break;case 4:s=Yp;break;default:s=Qo}n=s.bind(null,t,n,e),s=void 0,!Fl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function al(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Un(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}ah(function(){var u=i,d=Ho(n),h=[];e:{var m=Ah.get(e);if(m!==void 0){var p=Jo,g=e;switch(e){case"keypress":if(Ea(n)===0)break e;case"keydown":case"keyup":p=oy;break;case"focusin":g="focus",p=Xi;break;case"focusout":g="blur",p=Xi;break;case"beforeblur":case"afterblur":p=Xi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dy;break;case Th:case Dh:case Mh:p=Zp;break;case Oh:p=my;break;case"scroll":p=Gp;break;case"wheel":p=py;break;case"copy":case"cut":case"paste":p=ty;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=iu}var v=(t&4)!==0,j=!v&&e==="scroll",x=v?m!==null?m+"Capture":null:m;v=[];for(var f=u,y;f!==null;){y=f;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,x!==null&&(_=Cs(f,x),_!=null&&v.push(As(f,_,y)))),j)break;f=f.return}0<v.length&&(m=new p(m,g,null,n,d),h.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Ul&&(g=n.relatedTarget||n.fromElement)&&(Un(g)||g[Gt]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Un(g):null,g!==null&&(j=Zn(g),g!==j||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=su,_="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=iu,_="onPointerLeave",x="onPointerEnter",f="pointer"),j=p==null?m:pr(p),y=g==null?m:pr(g),m=new v(_,f+"leave",p,n,d),m.target=j,m.relatedTarget=y,_=null,Un(d)===u&&(v=new v(x,f+"enter",g,n,d),v.target=y,v.relatedTarget=j,_=v),j=_,p&&g)t:{for(v=p,x=g,f=0,y=v;y;y=sr(y))f++;for(y=0,_=x;_;_=sr(_))y++;for(;0<f-y;)v=sr(v),f--;for(;0<y-f;)x=sr(x),y--;for(;f--;){if(v===x||x!==null&&v===x.alternate)break t;v=sr(v),x=sr(x)}v=null}else v=null;p!==null&&gu(h,m,p,v,!1),g!==null&&j!==null&&gu(h,j,g,v,!0)}}e:{if(m=u?pr(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=jy;else if(cu(m))if(kh)N=Sy;else{N=Ny;var b=by}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=ky);if(N&&(N=N(e,u))){Nh(h,N,n,d);break e}b&&b(e,m,u),e==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&Ol(m,"number",m.value)}switch(b=u?pr(u):window,e){case"focusin":(cu(b)||b.contentEditable==="true")&&(mr=b,Hl=u,gs=null);break;case"focusout":gs=Hl=mr=null;break;case"mousedown":Vl=!0;break;case"contextmenu":case"mouseup":case"dragend":Vl=!1,fu(h,n,d);break;case"selectionchange":if(Ey)break;case"keydown":case"keyup":fu(h,n,d)}var S;if(Zo)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else hr?jh(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(_h&&n.locale!=="ko"&&(hr||T!=="onCompositionStart"?T==="onCompositionEnd"&&hr&&(S=wh()):(hn=d,Ko="value"in hn?hn.value:hn.textContent,hr=!0)),b=Wa(u,T),0<b.length&&(T=new au(T,e,null,n,d),h.push({event:T,listeners:b}),S?T.data=S:(S=bh(n),S!==null&&(T.data=S)))),(S=gy?xy(e,n):vy(e,n))&&(u=Wa(u,"onBeforeInput"),0<u.length&&(d=new au("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}$h(h,t)})}function As(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cs(e,n),i!=null&&r.unshift(As(e,i,s)),i=Cs(e,t),i!=null&&r.push(As(e,i,s))),e=e.return}return r}function sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gu(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=Cs(n,i),c!=null&&l.unshift(As(n,c,o))):s||(c=Cs(n,i),c!=null&&l.push(As(n,c,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Oy=/\r\n?/g,Ay=/\u0000|\uFFFD/g;function xu(e){return(typeof e=="string"?e:""+e).replace(Oy,`
`).replace(Ay,"")}function ha(e,t,n){if(t=xu(t),xu(e)!==t&&n)throw Error(D(425))}function Ha(){}var Yl=null,Gl=null;function Ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kl=typeof setTimeout=="function"?setTimeout:void 0,$y=typeof clearTimeout=="function"?clearTimeout:void 0,vu=typeof Promise=="function"?Promise:void 0,Iy=typeof queueMicrotask=="function"?queueMicrotask:typeof vu<"u"?function(e){return vu.resolve(null).then(e).catch(Ry)}:Kl;function Ry(e){setTimeout(function(){throw e})}function il(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ts(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ts(t)}function xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qr=Math.random().toString(36).slice(2),Mt="__reactFiber$"+qr,$s="__reactProps$"+qr,Gt="__reactContainer$"+qr,Jl="__reactEvents$"+qr,Uy="__reactListeners$"+qr,Ly="__reactHandles$"+qr;function Un(e){var t=e[Mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[Mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wu(e);e!==null;){if(n=e[Mt])return n;e=wu(e)}return t}e=n,n=e.parentNode}return null}function Qs(e){return e=e[Mt]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function ji(e){return e[$s]||null}var Xl=[],yr=-1;function En(e){return{current:e}}function me(e){0>yr||(e.current=Xl[yr],Xl[yr]=null,yr--)}function de(e,t){yr++,Xl[yr]=e.current,e.current=t}var Sn={},qe=En(Sn),tt=En(!1),qn=Sn;function Tr(e,t){var n=e.type.contextTypes;if(!n)return Sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function nt(e){return e=e.childContextTypes,e!=null}function Va(){me(tt),me(qe)}function _u(e,t,n){if(qe.current!==Sn)throw Error(D(168));de(qe,t),de(tt,n)}function Rh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(D(108,bp(e)||"Unknown",s));return ve({},n,r)}function Ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,qn=qe.current,de(qe,e),de(tt,tt.current),!0}function ju(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=Rh(e,t,qn),r.__reactInternalMemoizedMergedChildContext=e,me(tt),me(qe),de(qe,e)):me(tt),de(tt,n)}var Ft=null,bi=!1,ll=!1;function Uh(e){Ft===null?Ft=[e]:Ft.push(e)}function Fy(e){bi=!0,Uh(e)}function Tn(){if(!ll&&Ft!==null){ll=!0;var e=0,t=le;try{var n=Ft;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ft=null,bi=!1}catch(s){throw Ft!==null&&(Ft=Ft.slice(e+1)),ch(Vo,Tn),s}finally{le=t,ll=!1}}return null}var gr=[],xr=0,Ga=null,Qa=0,ht=[],mt=0,Wn=null,zt=1,Bt="";function On(e,t){gr[xr++]=Qa,gr[xr++]=Ga,Ga=e,Qa=t}function Lh(e,t,n){ht[mt++]=zt,ht[mt++]=Bt,ht[mt++]=Wn,Wn=e;var r=zt;e=Bt;var s=32-kt(r)-1;r&=~(1<<s),n+=1;var i=32-kt(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,zt=1<<32-kt(t)+s|n<<s|r,Bt=i+e}else zt=1<<i|n<<s|r,Bt=e}function tc(e){e.return!==null&&(On(e,1),Lh(e,1,0))}function nc(e){for(;e===Ga;)Ga=gr[--xr],gr[xr]=null,Qa=gr[--xr],gr[xr]=null;for(;e===Wn;)Wn=ht[--mt],ht[mt]=null,Bt=ht[--mt],ht[mt]=null,zt=ht[--mt],ht[mt]=null}var lt=null,it=null,fe=!1,Nt=null;function Fh(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,it=xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wn!==null?{id:zt,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,it=null,!0):!1;default:return!1}}function Zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eo(e){if(fe){var t=it;if(t){var n=t;if(!bu(e,t)){if(Zl(e))throw Error(D(418));t=xn(n.nextSibling);var r=lt;t&&bu(e,t)?Fh(r,n):(e.flags=e.flags&-4097|2,fe=!1,lt=e)}}else{if(Zl(e))throw Error(D(418));e.flags=e.flags&-4097|2,fe=!1,lt=e}}}function Nu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function ma(e){if(e!==lt)return!1;if(!fe)return Nu(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ql(e.type,e.memoizedProps)),t&&(t=it)){if(Zl(e))throw zh(),Error(D(418));for(;t;)Fh(e,t),t=xn(t.nextSibling)}if(Nu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=xn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=lt?xn(e.stateNode.nextSibling):null;return!0}function zh(){for(var e=it;e;)e=xn(e.nextSibling)}function Dr(){it=lt=null,fe=!1}function rc(e){Nt===null?Nt=[e]:Nt.push(e)}var zy=Xt.ReactCurrentBatchConfig;function ts(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function fa(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ku(e){var t=e._init;return t(e._payload)}function Bh(e){function t(x,f){if(e){var y=x.deletions;y===null?(x.deletions=[f],x.flags|=16):y.push(f)}}function n(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function r(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function s(x,f){return x=jn(x,f),x.index=0,x.sibling=null,x}function i(x,f,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<f?(x.flags|=2,f):y):(x.flags|=2,f)):(x.flags|=1048576,f)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,f,y,_){return f===null||f.tag!==6?(f=fl(y,x.mode,_),f.return=x,f):(f=s(f,y),f.return=x,f)}function c(x,f,y,_){var N=y.type;return N===dr?d(x,f,y.props.children,_,y.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===an&&ku(N)===f.type)?(_=s(f,y.props),_.ref=ts(x,f,y),_.return=x,_):(_=Ia(y.type,y.key,y.props,null,x.mode,_),_.ref=ts(x,f,y),_.return=x,_)}function u(x,f,y,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=pl(y,x.mode,_),f.return=x,f):(f=s(f,y.children||[]),f.return=x,f)}function d(x,f,y,_,N){return f===null||f.tag!==7?(f=Bn(y,x.mode,_,N),f.return=x,f):(f=s(f,y),f.return=x,f)}function h(x,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=fl(""+f,x.mode,y),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ra:return y=Ia(f.type,f.key,f.props,null,x.mode,y),y.ref=ts(x,null,f),y.return=x,y;case ur:return f=pl(f,x.mode,y),f.return=x,f;case an:var _=f._init;return h(x,_(f._payload),y)}if(cs(f)||Kr(f))return f=Bn(f,x.mode,y,null),f.return=x,f;fa(x,f)}return null}function m(x,f,y,_){var N=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:o(x,f,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ra:return y.key===N?c(x,f,y,_):null;case ur:return y.key===N?u(x,f,y,_):null;case an:return N=y._init,m(x,f,N(y._payload),_)}if(cs(y)||Kr(y))return N!==null?null:d(x,f,y,_,null);fa(x,y)}return null}function p(x,f,y,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(y)||null,o(f,x,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ra:return x=x.get(_.key===null?y:_.key)||null,c(f,x,_,N);case ur:return x=x.get(_.key===null?y:_.key)||null,u(f,x,_,N);case an:var b=_._init;return p(x,f,y,b(_._payload),N)}if(cs(_)||Kr(_))return x=x.get(y)||null,d(f,x,_,N,null);fa(f,_)}return null}function g(x,f,y,_){for(var N=null,b=null,S=f,T=f=0,F=null;S!==null&&T<y.length;T++){S.index>T?(F=S,S=null):F=S.sibling;var C=m(x,S,y[T],_);if(C===null){S===null&&(S=F);break}e&&S&&C.alternate===null&&t(x,S),f=i(C,f,T),b===null?N=C:b.sibling=C,b=C,S=F}if(T===y.length)return n(x,S),fe&&On(x,T),N;if(S===null){for(;T<y.length;T++)S=h(x,y[T],_),S!==null&&(f=i(S,f,T),b===null?N=S:b.sibling=S,b=S);return fe&&On(x,T),N}for(S=r(x,S);T<y.length;T++)F=p(S,x,T,y[T],_),F!==null&&(e&&F.alternate!==null&&S.delete(F.key===null?T:F.key),f=i(F,f,T),b===null?N=F:b.sibling=F,b=F);return e&&S.forEach(function(E){return t(x,E)}),fe&&On(x,T),N}function v(x,f,y,_){var N=Kr(y);if(typeof N!="function")throw Error(D(150));if(y=N.call(y),y==null)throw Error(D(151));for(var b=N=null,S=f,T=f=0,F=null,C=y.next();S!==null&&!C.done;T++,C=y.next()){S.index>T?(F=S,S=null):F=S.sibling;var E=m(x,S,C.value,_);if(E===null){S===null&&(S=F);break}e&&S&&E.alternate===null&&t(x,S),f=i(E,f,T),b===null?N=E:b.sibling=E,b=E,S=F}if(C.done)return n(x,S),fe&&On(x,T),N;if(S===null){for(;!C.done;T++,C=y.next())C=h(x,C.value,_),C!==null&&(f=i(C,f,T),b===null?N=C:b.sibling=C,b=C);return fe&&On(x,T),N}for(S=r(x,S);!C.done;T++,C=y.next())C=p(S,x,T,C.value,_),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?T:C.key),f=i(C,f,T),b===null?N=C:b.sibling=C,b=C);return e&&S.forEach(function(z){return t(x,z)}),fe&&On(x,T),N}function j(x,f,y,_){if(typeof y=="object"&&y!==null&&y.type===dr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ra:e:{for(var N=y.key,b=f;b!==null;){if(b.key===N){if(N=y.type,N===dr){if(b.tag===7){n(x,b.sibling),f=s(b,y.props.children),f.return=x,x=f;break e}}else if(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===an&&ku(N)===b.type){n(x,b.sibling),f=s(b,y.props),f.ref=ts(x,b,y),f.return=x,x=f;break e}n(x,b);break}else t(x,b);b=b.sibling}y.type===dr?(f=Bn(y.props.children,x.mode,_,y.key),f.return=x,x=f):(_=Ia(y.type,y.key,y.props,null,x.mode,_),_.ref=ts(x,f,y),_.return=x,x=_)}return l(x);case ur:e:{for(b=y.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(x,f.sibling),f=s(f,y.children||[]),f.return=x,x=f;break e}else{n(x,f);break}else t(x,f);f=f.sibling}f=pl(y,x.mode,_),f.return=x,x=f}return l(x);case an:return b=y._init,j(x,f,b(y._payload),_)}if(cs(y))return g(x,f,y,_);if(Kr(y))return v(x,f,y,_);fa(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(x,f.sibling),f=s(f,y),f.return=x,x=f):(n(x,f),f=fl(y,x.mode,_),f.return=x,x=f),l(x)):n(x,f)}return j}var Mr=Bh(!0),qh=Bh(!1),Ka=En(null),Ja=null,vr=null,sc=null;function ac(){sc=vr=Ja=null}function ic(e){var t=Ka.current;me(Ka),e._currentValue=t}function to(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sr(e,t){Ja=e,sc=vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(sc!==e)if(e={context:e,memoizedValue:t,next:null},vr===null){if(Ja===null)throw Error(D(308));vr=e,Ja.dependencies={lanes:0,firstContext:e}}else vr=vr.next=e;return t}var Ln=null;function lc(e){Ln===null?Ln=[e]:Ln.push(e)}function Wh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,lc(t)):(n.next=s.next,s.next=n),t.interleaved=n,Qt(e,r)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ln=!1;function oc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Qt(e,n)}return s=r.interleaved,s===null?(t.next=t,lc(r)):(t.next=s.next,s.next=t),r.interleaved=t,Qt(e,n)}function Ta(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yo(e,n)}}function Su(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xa(e,t,n,r){var s=e.updateQueue;ln=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;l=0,d=u=c=null,o=i;do{var m=o.lane,p=o.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,v=o;switch(m=t,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,m=typeof g=="function"?g.call(p,h,m):g,m==null)break e;h=ve({},h,m);break e;case 2:ln=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else p={eventTime:p,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,l|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Vn|=l,e.lanes=l,e.memoizedState=h}}function Cu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var Ks={},At=En(Ks),Is=En(Ks),Rs=En(Ks);function Fn(e){if(e===Ks)throw Error(D(174));return e}function cc(e,t){switch(de(Rs,t),de(Is,e),de(At,Ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$l(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$l(t,e)}me(At),de(At,t)}function Or(){me(At),me(Is),me(Rs)}function Vh(e){Fn(Rs.current);var t=Fn(At.current),n=$l(t,e.type);t!==n&&(de(Is,e),de(At,n))}function uc(e){Is.current===e&&(me(At),me(Is))}var ye=En(0);function Za(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ol=[];function dc(){for(var e=0;e<ol.length;e++)ol[e]._workInProgressVersionPrimary=null;ol.length=0}var Da=Xt.ReactCurrentDispatcher,cl=Xt.ReactCurrentBatchConfig,Hn=0,xe=null,Ce=null,Me=null,ei=!1,xs=!1,Us=0,By=0;function Le(){throw Error(D(321))}function hc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function mc(e,t,n,r,s,i){if(Hn=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Da.current=e===null||e.memoizedState===null?Vy:Yy,e=n(r,s),xs){i=0;do{if(xs=!1,Us=0,25<=i)throw Error(D(301));i+=1,Me=Ce=null,t.updateQueue=null,Da.current=Gy,e=n(r,s)}while(xs)}if(Da.current=ti,t=Ce!==null&&Ce.next!==null,Hn=0,Me=Ce=xe=null,ei=!1,t)throw Error(D(300));return e}function fc(){var e=Us!==0;return Us=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?xe.memoizedState=Me=e:Me=Me.next=e,Me}function xt(){if(Ce===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Me===null?xe.memoizedState:Me.next;if(t!==null)Me=t,Ce=e;else{if(e===null)throw Error(D(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Me===null?xe.memoizedState=Me=e:Me=Me.next=e}return Me}function Ls(e,t){return typeof t=="function"?t(e):t}function ul(e){var t=xt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((Hn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,l=r):c=c.next=h,xe.lanes|=d,Vn|=d}u=u.next}while(u!==null&&u!==i);c===null?l=r:c.next=o,Ct(r,t.memoizedState)||(et=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,xe.lanes|=i,Vn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dl(e){var t=xt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);Ct(i,t.memoizedState)||(et=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Yh(){}function Gh(e,t){var n=xe,r=xt(),s=t(),i=!Ct(r.memoizedState,s);if(i&&(r.memoizedState=s,et=!0),r=r.queue,pc(Jh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Fs(9,Kh.bind(null,n,r,s,t),void 0,null),Ae===null)throw Error(D(349));Hn&30||Qh(n,t,s)}return s}function Qh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kh(e,t,n,r){t.value=n,t.getSnapshot=r,Xh(t)&&Zh(e)}function Jh(e,t,n){return n(function(){Xh(t)&&Zh(e)})}function Xh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function Zh(e){var t=Qt(e,1);t!==null&&St(t,e,1,-1)}function Pu(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:e},t.queue=e,e=e.dispatch=Hy.bind(null,xe,e),[t.memoizedState,e]}function Fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function em(){return xt().memoizedState}function Ma(e,t,n,r){var s=Dt();xe.flags|=e,s.memoizedState=Fs(1|t,n,void 0,r===void 0?null:r)}function Ni(e,t,n,r){var s=xt();r=r===void 0?null:r;var i=void 0;if(Ce!==null){var l=Ce.memoizedState;if(i=l.destroy,r!==null&&hc(r,l.deps)){s.memoizedState=Fs(t,n,i,r);return}}xe.flags|=e,s.memoizedState=Fs(1|t,n,i,r)}function Eu(e,t){return Ma(8390656,8,e,t)}function pc(e,t){return Ni(2048,8,e,t)}function tm(e,t){return Ni(4,2,e,t)}function nm(e,t){return Ni(4,4,e,t)}function rm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sm(e,t,n){return n=n!=null?n.concat([e]):null,Ni(4,4,rm.bind(null,t,e),n)}function yc(){}function am(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function im(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lm(e,t,n){return Hn&21?(Ct(n,t)||(n=hh(),xe.lanes|=n,Vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=n)}function qy(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=cl.transition;cl.transition={};try{e(!1),t()}finally{le=n,cl.transition=r}}function om(){return xt().memoizedState}function Wy(e,t,n){var r=_n(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cm(e))um(t,n);else if(n=Wh(e,t,n,r),n!==null){var s=Ge();St(n,e,r,s),dm(n,t,r)}}function Hy(e,t,n){var r=_n(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cm(e))um(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,Ct(o,l)){var c=t.interleaved;c===null?(s.next=s,lc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Wh(e,t,s,r),n!==null&&(s=Ge(),St(n,e,r,s),dm(n,t,r))}}function cm(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function um(e,t){xs=ei=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yo(e,n)}}var ti={readContext:gt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},Vy={readContext:gt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Eu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ma(4194308,4,rm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wy.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:Pu,useDebugValue:yc,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=Pu(!1),t=e[0];return e=qy.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,s=Dt();if(fe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Ae===null)throw Error(D(349));Hn&30||Qh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Eu(Jh.bind(null,r,i,e),[e]),r.flags|=2048,Fs(9,Kh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Dt(),t=Ae.identifierPrefix;if(fe){var n=Bt,r=zt;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Us++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=By++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yy={readContext:gt,useCallback:am,useContext:gt,useEffect:pc,useImperativeHandle:sm,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:im,useReducer:ul,useRef:em,useState:function(){return ul(Ls)},useDebugValue:yc,useDeferredValue:function(e){var t=xt();return lm(t,Ce.memoizedState,e)},useTransition:function(){var e=ul(Ls)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Yh,useSyncExternalStore:Gh,useId:om,unstable_isNewReconciler:!1},Gy={readContext:gt,useCallback:am,useContext:gt,useEffect:pc,useImperativeHandle:sm,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:im,useReducer:dl,useRef:em,useState:function(){return dl(Ls)},useDebugValue:yc,useDeferredValue:function(e){var t=xt();return Ce===null?t.memoizedState=e:lm(t,Ce.memoizedState,e)},useTransition:function(){var e=dl(Ls)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Yh,useSyncExternalStore:Gh,useId:om,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ki={isMounted:function(e){return(e=e._reactInternals)?Zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),s=_n(e),i=qt(r,s);i.payload=t,n!=null&&(i.callback=n),t=vn(e,i,s),t!==null&&(St(t,e,s,r),Ta(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),s=_n(e),i=qt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=vn(e,i,s),t!==null&&(St(t,e,s,r),Ta(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=_n(e),s=qt(n,r);s.tag=2,t!=null&&(s.callback=t),t=vn(e,s,r),t!==null&&(St(t,e,r,n),Ta(t,e,r))}};function Tu(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Ms(n,r)||!Ms(s,i):!0}function hm(e,t,n){var r=!1,s=Sn,i=t.contextType;return typeof i=="object"&&i!==null?i=gt(i):(s=nt(t)?qn:qe.current,r=t.contextTypes,i=(r=r!=null)?Tr(e,s):Sn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ki,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Du(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ki.enqueueReplaceState(t,t.state,null)}function ro(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},oc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=gt(i):(i=nt(t)?qn:qe.current,s.context=Tr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(no(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ki.enqueueReplaceState(s,s.state,null),Xa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ar(e,t){try{var n="",r=t;do n+=jp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function hl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function so(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qy=typeof WeakMap=="function"?WeakMap:Map;function mm(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ri||(ri=!0,po=r),so(e,t)},n}function fm(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){so(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){so(e,t),typeof r!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Mu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Qy;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=cg.bind(null,e,t,n),t.then(e,e))}function Ou(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Au(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,vn(n,t,1))),n.lanes|=1),e)}var Ky=Xt.ReactCurrentOwner,et=!1;function He(e,t,n,r){t.child=e===null?qh(t,null,n,r):Mr(t,e.child,n,r)}function $u(e,t,n,r,s){n=n.render;var i=t.ref;return Sr(t,s),r=mc(e,t,n,r,i,s),n=fc(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kt(e,t,s)):(fe&&n&&tc(t),t.flags|=1,He(e,t,r,s),t.child)}function Iu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Nc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,pm(e,t,i,r,s)):(e=Ia(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ms,n(l,r)&&e.ref===t.ref)return Kt(e,t,s)}return t.flags|=1,e=jn(i,r),e.ref=t.ref,e.return=t,t.child=e}function pm(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ms(i,r)&&e.ref===t.ref)if(et=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,Kt(e,t,s)}return ao(e,t,n,r,s)}function ym(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(_r,at),at|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(_r,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,de(_r,at),at|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,de(_r,at),at|=r;return He(e,t,s,n),t.child}function gm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ao(e,t,n,r,s){var i=nt(n)?qn:qe.current;return i=Tr(t,i),Sr(t,s),n=mc(e,t,n,r,i,s),r=fc(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kt(e,t,s)):(fe&&r&&tc(t),t.flags|=1,He(e,t,n,s),t.child)}function Ru(e,t,n,r,s){if(nt(n)){var i=!0;Ya(t)}else i=!1;if(Sr(t,s),t.stateNode===null)Oa(e,t),hm(t,n,r),ro(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=gt(u):(u=nt(n)?qn:qe.current,u=Tr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Du(t,l,r,u),ln=!1;var m=t.memoizedState;l.state=m,Xa(t,r,l,s),c=t.memoizedState,o!==r||m!==c||tt.current||ln?(typeof d=="function"&&(no(t,n,d,r),c=t.memoizedState),(o=ln||Tu(t,n,o,r,m,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Hh(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:_t(t.type,o),l.props=u,h=t.pendingProps,m=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=gt(c):(c=nt(n)?qn:qe.current,c=Tr(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==c)&&Du(t,l,r,c),ln=!1,m=t.memoizedState,l.state=m,Xa(t,r,l,s);var g=t.memoizedState;o!==h||m!==g||tt.current||ln?(typeof p=="function"&&(no(t,n,p,r),g=t.memoizedState),(u=ln||Tu(t,n,u,r,m,g,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,g,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),l.props=r,l.state=g,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return io(e,t,n,r,i,s)}function io(e,t,n,r,s,i){gm(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&ju(t,n,!1),Kt(e,t,i);r=t.stateNode,Ky.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Mr(t,e.child,null,i),t.child=Mr(t,null,o,i)):He(e,t,o,i),t.memoizedState=r.state,s&&ju(t,n,!0),t.child}function xm(e){var t=e.stateNode;t.pendingContext?_u(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_u(e,t.context,!1),cc(e,t.containerInfo)}function Uu(e,t,n,r,s){return Dr(),rc(s),t.flags|=256,He(e,t,n,r),t.child}var lo={dehydrated:null,treeContext:null,retryLane:0};function oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function vm(e,t,n){var r=t.pendingProps,s=ye.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),de(ye,s&1),e===null)return eo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Pi(l,r,0,null),e=Bn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=oo(n),t.memoizedState=lo,e):gc(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Jy(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=jn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=jn(o,i):(i=Bn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?oo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=lo,r}return i=e.child,e=i.sibling,r=jn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gc(e,t){return t=Pi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pa(e,t,n,r){return r!==null&&rc(r),Mr(t,e.child,null,n),e=gc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jy(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=hl(Error(D(422))),pa(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Pi({mode:"visible",children:r.children},s,0,null),i=Bn(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Mr(t,e.child,null,l),t.child.memoizedState=oo(l),t.memoizedState=lo,i);if(!(t.mode&1))return pa(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(D(419)),r=hl(i,r,void 0),pa(e,t,l,r)}if(o=(l&e.childLanes)!==0,et||o){if(r=Ae,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qt(e,s),St(r,e,s,-1))}return bc(),r=hl(Error(D(421))),pa(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ug.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,it=xn(s.nextSibling),lt=t,fe=!0,Nt=null,e!==null&&(ht[mt++]=zt,ht[mt++]=Bt,ht[mt++]=Wn,zt=e.id,Bt=e.overflow,Wn=t),t=gc(t,r.children),t.flags|=4096,t)}function Lu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),to(e.return,t,n)}function ml(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(He(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lu(e,n,t);else if(e.tag===19)Lu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(ye,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Za(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ml(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Za(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ml(t,!0,n,null,i);break;case"together":ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xy(e,t,n){switch(t.tag){case 3:xm(t),Dr();break;case 5:Vh(t);break;case 1:nt(t.type)&&Ya(t);break;case 4:cc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;de(Ka,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?vm(e,t,n):(de(ye,ye.current&1),e=Kt(e,t,n),e!==null?e.sibling:null);de(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,ym(e,t,n)}return Kt(e,t,n)}var _m,co,jm,bm;_m=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};co=function(){};jm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Fn(At.current);var i=null;switch(n){case"input":s=Dl(e,s),r=Dl(e,r),i=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),i=[];break;case"textarea":s=Al(e,s),r=Al(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ha)}Il(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ks.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ks.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&he("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};bm=function(e,t,n,r){n!==r&&(t.flags|=4)};function ns(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zy(e,t,n){var r=t.pendingProps;switch(nc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return nt(t.type)&&Va(),Fe(t),null;case 3:return r=t.stateNode,Or(),me(tt),me(qe),dc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ma(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(xo(Nt),Nt=null))),co(e,t),Fe(t),null;case 5:uc(t);var s=Fn(Rs.current);if(n=t.type,e!==null&&t.stateNode!=null)jm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Fe(t),null}if(e=Fn(At.current),ma(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Mt]=t,r[$s]=i,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(s=0;s<ds.length;s++)he(ds[s],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":Gc(r,i),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},he("invalid",r);break;case"textarea":Kc(r,i),he("invalid",r)}Il(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ha(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ha(r.textContent,o,e),s=["children",""+o]):ks.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&he("scroll",r)}switch(n){case"input":sa(r),Qc(r,i,!0);break;case"textarea":sa(r),Jc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ha)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Mt]=t,e[$s]=r,_m(e,t,!1,!1),t.stateNode=e;e:{switch(l=Rl(n,r),n){case"dialog":he("cancel",e),he("close",e),s=r;break;case"iframe":case"object":case"embed":he("load",e),s=r;break;case"video":case"audio":for(s=0;s<ds.length;s++)he(ds[s],e);s=r;break;case"source":he("error",e),s=r;break;case"img":case"image":case"link":he("error",e),he("load",e),s=r;break;case"details":he("toggle",e),s=r;break;case"input":Gc(e,r),s=Dl(e,r),he("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),he("invalid",e);break;case"textarea":Kc(e,r),s=Al(e,r),he("invalid",e);break;default:s=r}Il(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?eh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Xd(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ss(e,c):typeof c=="number"&&Ss(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ks.hasOwnProperty(i)?c!=null&&i==="onScroll"&&he("scroll",e):c!=null&&zo(e,i,c,l))}switch(n){case"input":sa(e),Qc(e,r,!1);break;case"textarea":sa(e),Jc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?jr(e,!!r.multiple,i,!1):r.defaultValue!=null&&jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ha)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)bm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Fn(Rs.current),Fn(At.current),ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mt]=t,(i=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:ha(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ha(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mt]=t,t.stateNode=r}return Fe(t),null;case 13:if(me(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&it!==null&&t.mode&1&&!(t.flags&128))zh(),Dr(),t.flags|=98560,i=!1;else if(i=ma(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[Mt]=t}else Dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),i=!1}else Nt!==null&&(xo(Nt),Nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Ee===0&&(Ee=3):bc())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return Or(),co(e,t),e===null&&Os(t.stateNode.containerInfo),Fe(t),null;case 10:return ic(t.type._context),Fe(t),null;case 17:return nt(t.type)&&Va(),Fe(t),null;case 19:if(me(ye),i=t.memoizedState,i===null)return Fe(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)ns(i,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Za(e),l!==null){for(t.flags|=128,ns(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(ye,ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&_e()>$r&&(t.flags|=128,r=!0,ns(i,!1),t.lanes=4194304)}else{if(!r)if(e=Za(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ns(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!fe)return Fe(t),null}else 2*_e()-i.renderingStartTime>$r&&n!==1073741824&&(t.flags|=128,r=!0,ns(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_e(),t.sibling=null,n=ye.current,de(ye,r?n&1|2:n&1),t):(Fe(t),null);case 22:case 23:return jc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?at&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function eg(e,t){switch(nc(t),t.tag){case 1:return nt(t.type)&&Va(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Or(),me(tt),me(qe),dc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uc(t),null;case 13:if(me(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ye),null;case 4:return Or(),null;case 10:return ic(t.type._context),null;case 22:case 23:return jc(),null;case 24:return null;default:return null}}var ya=!1,ze=!1,tg=typeof WeakSet=="function"?WeakSet:Set,B=null;function wr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function uo(e,t,n){try{n()}catch(r){we(e,t,r)}}var Fu=!1;function ng(e,t){if(Yl=Ba,e=Ph(),ec(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(o=l+s),h!==i||r!==0&&h.nodeType!==3||(c=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===s&&(o=l),m===i&&++d===r&&(c=l),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gl={focusedElem:e,selectionRange:n},Ba=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,j=g.memoizedState,x=t.stateNode,f=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:_t(t.type,v),j);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(_){we(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return g=Fu,Fu=!1,g}function vs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&uo(t,n,i)}s=s.next}while(s!==r)}}function Si(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ho(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nm(e){var t=e.alternate;t!==null&&(e.alternate=null,Nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[$s],delete t[Jl],delete t[Uy],delete t[Ly])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function km(e){return e.tag===5||e.tag===3||e.tag===4}function zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||km(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ha));else if(r!==4&&(e=e.child,e!==null))for(mo(e,t,n),e=e.sibling;e!==null;)mo(e,t,n),e=e.sibling}function fo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fo(e,t,n),e=e.sibling;e!==null;)fo(e,t,n),e=e.sibling}var $e=null,jt=!1;function en(e,t,n){for(n=n.child;n!==null;)Sm(e,t,n),n=n.sibling}function Sm(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(xi,n)}catch{}switch(n.tag){case 5:ze||wr(n,t);case 6:var r=$e,s=jt;$e=null,en(e,t,n),$e=r,jt=s,$e!==null&&(jt?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(jt?(e=$e,n=n.stateNode,e.nodeType===8?il(e.parentNode,n):e.nodeType===1&&il(e,n),Ts(e)):il($e,n.stateNode));break;case 4:r=$e,s=jt,$e=n.stateNode.containerInfo,jt=!0,en(e,t,n),$e=r,jt=s;break;case 0:case 11:case 14:case 15:if(!ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&uo(n,t,l),s=s.next}while(s!==r)}en(e,t,n);break;case 1:if(!ze&&(wr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){we(n,t,o)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(ze=(r=ze)||n.memoizedState!==null,en(e,t,n),ze=r):en(e,t,n);break;default:en(e,t,n)}}function Bu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tg),t.forEach(function(r){var s=dg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:$e=o.stateNode,jt=!1;break e;case 3:$e=o.stateNode.containerInfo,jt=!0;break e;case 4:$e=o.stateNode.containerInfo,jt=!0;break e}o=o.return}if($e===null)throw Error(D(160));Sm(i,l,s),$e=null,jt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){we(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cm(t,e),t=t.sibling}function Cm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Et(e),r&4){try{vs(3,e,e.return),Si(3,e)}catch(v){we(e,e.return,v)}try{vs(5,e,e.return)}catch(v){we(e,e.return,v)}}break;case 1:wt(t,e),Et(e),r&512&&n!==null&&wr(n,n.return);break;case 5:if(wt(t,e),Et(e),r&512&&n!==null&&wr(n,n.return),e.flags&32){var s=e.stateNode;try{Ss(s,"")}catch(v){we(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Qd(s,i),Rl(o,l);var u=Rl(o,i);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?eh(s,h):d==="dangerouslySetInnerHTML"?Xd(s,h):d==="children"?Ss(s,h):zo(s,d,h,u)}switch(o){case"input":Ml(s,i);break;case"textarea":Kd(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?jr(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?jr(s,!!i.multiple,i.defaultValue,!0):jr(s,!!i.multiple,i.multiple?[]:"",!1))}s[$s]=i}catch(v){we(e,e.return,v)}}break;case 6:if(wt(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){we(e,e.return,v)}}break;case 3:if(wt(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ts(t.containerInfo)}catch(v){we(e,e.return,v)}break;case 4:wt(t,e),Et(e);break;case 13:wt(t,e),Et(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wc=_e())),r&4&&Bu(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ze=(u=ze)||d,wt(t,e),ze=u):wt(t,e),Et(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(B=e,d=e.child;d!==null;){for(h=B=d;B!==null;){switch(m=B,p=m.child,m.tag){case 0:case 11:case 14:case 15:vs(4,m,m.return);break;case 1:wr(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){we(r,n,v)}}break;case 5:wr(m,m.return);break;case 22:if(m.memoizedState!==null){Wu(h);continue}}p!==null?(p.return=m,B=p):Wu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Zd("display",l))}catch(v){we(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){we(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(t,e),Et(e),r&4&&Bu(e);break;case 21:break;default:wt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(km(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ss(s,""),r.flags&=-33);var i=zu(e);fo(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=zu(e);mo(e,o,l);break;default:throw Error(D(161))}}catch(c){we(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rg(e,t,n){B=e,Pm(e)}function Pm(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var s=B,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||ya;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||ze;o=ya;var u=ze;if(ya=l,(ze=c)&&!u)for(B=s;B!==null;)l=B,c=l.child,l.tag===22&&l.memoizedState!==null?Hu(s):c!==null?(c.return=l,B=c):Hu(s);for(;i!==null;)B=i,Pm(i),i=i.sibling;B=s,ya=o,ze=u}qu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,B=i):qu(e)}}function qu(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||Si(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ze)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Cu(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cu(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ts(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}ze||t.flags&512&&ho(t)}catch(m){we(t,t.return,m)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function Wu(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function Hu(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Si(4,t)}catch(c){we(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){we(t,s,c)}}var i=t.return;try{ho(t)}catch(c){we(t,i,c)}break;case 5:var l=t.return;try{ho(t)}catch(c){we(t,l,c)}}}catch(c){we(t,t.return,c)}if(t===e){B=null;break}var o=t.sibling;if(o!==null){o.return=t.return,B=o;break}B=t.return}}var sg=Math.ceil,ni=Xt.ReactCurrentDispatcher,xc=Xt.ReactCurrentOwner,pt=Xt.ReactCurrentBatchConfig,se=0,Ae=null,Ne=null,Re=0,at=0,_r=En(0),Ee=0,zs=null,Vn=0,Ci=0,vc=0,ws=null,Xe=null,wc=0,$r=1/0,Ut=null,ri=!1,po=null,wn=null,ga=!1,mn=null,si=0,_s=0,yo=null,Aa=-1,$a=0;function Ge(){return se&6?_e():Aa!==-1?Aa:Aa=_e()}function _n(e){return e.mode&1?se&2&&Re!==0?Re&-Re:zy.transition!==null?($a===0&&($a=hh()),$a):(e=le,e!==0||(e=window.event,e=e===void 0?16:vh(e.type)),e):1}function St(e,t,n,r){if(50<_s)throw _s=0,yo=null,Error(D(185));Ys(e,n,r),(!(se&2)||e!==Ae)&&(e===Ae&&(!(se&2)&&(Ci|=n),Ee===4&&un(e,Re)),rt(e,r),n===1&&se===0&&!(t.mode&1)&&($r=_e()+500,bi&&Tn()))}function rt(e,t){var n=e.callbackNode;zp(e,t);var r=za(e,e===Ae?Re:0);if(r===0)n!==null&&eu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&eu(n),t===1)e.tag===0?Fy(Vu.bind(null,e)):Uh(Vu.bind(null,e)),Iy(function(){!(se&6)&&Tn()}),n=null;else{switch(mh(r)){case 1:n=Vo;break;case 4:n=uh;break;case 16:n=Fa;break;case 536870912:n=dh;break;default:n=Fa}n=Im(n,Em.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Em(e,t){if(Aa=-1,$a=0,se&6)throw Error(D(327));var n=e.callbackNode;if(Cr()&&e.callbackNode!==n)return null;var r=za(e,e===Ae?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ai(e,r);else{t=r;var s=se;se|=2;var i=Dm();(Ae!==e||Re!==t)&&(Ut=null,$r=_e()+500,zn(e,t));do try{lg();break}catch(o){Tm(e,o)}while(!0);ac(),ni.current=i,se=s,Ne!==null?t=0:(Ae=null,Re=0,t=Ee)}if(t!==0){if(t===2&&(s=Bl(e),s!==0&&(r=s,t=go(e,s))),t===1)throw n=zs,zn(e,0),un(e,r),rt(e,_e()),n;if(t===6)un(e,r);else{if(s=e.current.alternate,!(r&30)&&!ag(s)&&(t=ai(e,r),t===2&&(i=Bl(e),i!==0&&(r=i,t=go(e,i))),t===1))throw n=zs,zn(e,0),un(e,r),rt(e,_e()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:An(e,Xe,Ut);break;case 3:if(un(e,r),(r&130023424)===r&&(t=wc+500-_e(),10<t)){if(za(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Kl(An.bind(null,e,Xe,Ut),t);break}An(e,Xe,Ut);break;case 4:if(un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-kt(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sg(r/1960))-r,10<r){e.timeoutHandle=Kl(An.bind(null,e,Xe,Ut),r);break}An(e,Xe,Ut);break;case 5:An(e,Xe,Ut);break;default:throw Error(D(329))}}}return rt(e,_e()),e.callbackNode===n?Em.bind(null,e):null}function go(e,t){var n=ws;return e.current.memoizedState.isDehydrated&&(zn(e,t).flags|=256),e=ai(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&xo(t)),e}function xo(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function ag(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ct(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function un(e,t){for(t&=~vc,t&=~Ci,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),r=1<<n;e[n]=-1,t&=~r}}function Vu(e){if(se&6)throw Error(D(327));Cr();var t=za(e,0);if(!(t&1))return rt(e,_e()),null;var n=ai(e,t);if(e.tag!==0&&n===2){var r=Bl(e);r!==0&&(t=r,n=go(e,r))}if(n===1)throw n=zs,zn(e,0),un(e,t),rt(e,_e()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,Xe,Ut),rt(e,_e()),null}function _c(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&($r=_e()+500,bi&&Tn())}}function Yn(e){mn!==null&&mn.tag===0&&!(se&6)&&Cr();var t=se;se|=1;var n=pt.transition,r=le;try{if(pt.transition=null,le=1,e)return e()}finally{le=r,pt.transition=n,se=t,!(se&6)&&Tn()}}function jc(){at=_r.current,me(_r)}function zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$y(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(nc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Va();break;case 3:Or(),me(tt),me(qe),dc();break;case 5:uc(r);break;case 4:Or();break;case 13:me(ye);break;case 19:me(ye);break;case 10:ic(r.type._context);break;case 22:case 23:jc()}n=n.return}if(Ae=e,Ne=e=jn(e.current,null),Re=at=t,Ee=0,zs=null,vc=Ci=Vn=0,Xe=ws=null,Ln!==null){for(t=0;t<Ln.length;t++)if(n=Ln[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}Ln=null}return e}function Tm(e,t){do{var n=Ne;try{if(ac(),Da.current=ti,ei){for(var r=xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ei=!1}if(Hn=0,Me=Ce=xe=null,xs=!1,Us=0,xc.current=null,n===null||n.return===null){Ee=1,zs=t,Ne=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=Re,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ou(l);if(p!==null){p.flags&=-257,Au(p,l,o,i,t),p.mode&1&&Mu(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Mu(i,u,t),bc();break e}c=Error(D(426))}}else if(fe&&o.mode&1){var j=Ou(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Au(j,l,o,i,t),rc(Ar(c,o));break e}}i=c=Ar(c,o),Ee!==4&&(Ee=2),ws===null?ws=[i]:ws.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=mm(i,c,t);Su(i,x);break e;case 1:o=c;var f=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wn===null||!wn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=fm(i,o,t);Su(i,_);break e}}i=i.return}while(i!==null)}Om(n)}catch(N){t=N,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function Dm(){var e=ni.current;return ni.current=ti,e===null?ti:e}function bc(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Ae===null||!(Vn&268435455)&&!(Ci&268435455)||un(Ae,Re)}function ai(e,t){var n=se;se|=2;var r=Dm();(Ae!==e||Re!==t)&&(Ut=null,zn(e,t));do try{ig();break}catch(s){Tm(e,s)}while(!0);if(ac(),se=n,ni.current=r,Ne!==null)throw Error(D(261));return Ae=null,Re=0,Ee}function ig(){for(;Ne!==null;)Mm(Ne)}function lg(){for(;Ne!==null&&!Mp();)Mm(Ne)}function Mm(e){var t=$m(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?Om(e):Ne=t,xc.current=null}function Om(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=eg(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Ne=null;return}}else if(n=Zy(n,t,at),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Ee===0&&(Ee=5)}function An(e,t,n){var r=le,s=pt.transition;try{pt.transition=null,le=1,og(e,t,n,r)}finally{pt.transition=s,le=r}return null}function og(e,t,n,r){do Cr();while(mn!==null);if(se&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Bp(e,i),e===Ae&&(Ne=Ae=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ga||(ga=!0,Im(Fa,function(){return Cr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=pt.transition,pt.transition=null;var l=le;le=1;var o=se;se|=4,xc.current=null,ng(e,n),Cm(n,e),Py(Gl),Ba=!!Yl,Gl=Yl=null,e.current=n,rg(n),Op(),se=o,le=l,pt.transition=i}else e.current=n;if(ga&&(ga=!1,mn=e,si=s),i=e.pendingLanes,i===0&&(wn=null),Ip(n.stateNode),rt(e,_e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ri)throw ri=!1,e=po,po=null,e;return si&1&&e.tag!==0&&Cr(),i=e.pendingLanes,i&1?e===yo?_s++:(_s=0,yo=e):_s=0,Tn(),null}function Cr(){if(mn!==null){var e=mh(si),t=pt.transition,n=le;try{if(pt.transition=null,le=16>e?16:e,mn===null)var r=!1;else{if(e=mn,mn=null,si=0,se&6)throw Error(D(331));var s=se;for(se|=4,B=e.current;B!==null;){var i=B,l=i.child;if(B.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(B=u;B!==null;){var d=B;switch(d.tag){case 0:case 11:case 15:vs(8,d,i)}var h=d.child;if(h!==null)h.return=d,B=h;else for(;B!==null;){d=B;var m=d.sibling,p=d.return;if(Nm(d),d===u){B=null;break}if(m!==null){m.return=p,B=m;break}B=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}B=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,B=l;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vs(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,B=x;break e}B=i.return}}var f=e.current;for(B=f;B!==null;){l=B;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,B=y;else e:for(l=f;B!==null;){if(o=B,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Si(9,o)}}catch(N){we(o,o.return,N)}if(o===l){B=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,B=_;break e}B=o.return}}if(se=s,Tn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(xi,e)}catch{}r=!0}return r}finally{le=n,pt.transition=t}}return!1}function Yu(e,t,n){t=Ar(n,t),t=mm(e,t,1),e=vn(e,t,1),t=Ge(),e!==null&&(Ys(e,1,t),rt(e,t))}function we(e,t,n){if(e.tag===3)Yu(e,e,n);else for(;t!==null;){if(t.tag===3){Yu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wn===null||!wn.has(r))){e=Ar(n,e),e=fm(t,e,1),t=vn(t,e,1),e=Ge(),t!==null&&(Ys(t,1,e),rt(t,e));break}}t=t.return}}function cg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(Re&n)===n&&(Ee===4||Ee===3&&(Re&130023424)===Re&&500>_e()-wc?zn(e,0):vc|=n),rt(e,t)}function Am(e,t){t===0&&(e.mode&1?(t=la,la<<=1,!(la&130023424)&&(la=4194304)):t=1);var n=Ge();e=Qt(e,t),e!==null&&(Ys(e,t,n),rt(e,n))}function ug(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Am(e,n)}function dg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),Am(e,n)}var $m;$m=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return et=!1,Xy(e,t,n);et=!!(e.flags&131072)}else et=!1,fe&&t.flags&1048576&&Lh(t,Qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oa(e,t),e=t.pendingProps;var s=Tr(t,qe.current);Sr(t,n),s=mc(null,t,r,e,s,n);var i=fc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(r)?(i=!0,Ya(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,oc(t),s.updater=ki,t.stateNode=s,s._reactInternals=t,ro(t,r,e,n),t=io(null,t,r,!0,i,n)):(t.tag=0,fe&&i&&tc(t),He(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Oa(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=mg(r),e=_t(r,e),s){case 0:t=ao(null,t,r,e,n);break e;case 1:t=Ru(null,t,r,e,n);break e;case 11:t=$u(null,t,r,e,n);break e;case 14:t=Iu(null,t,r,_t(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),ao(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Ru(e,t,r,s,n);case 3:e:{if(xm(t),e===null)throw Error(D(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Hh(e,t),Xa(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ar(Error(D(423)),t),t=Uu(e,t,r,n,s);break e}else if(r!==s){s=Ar(Error(D(424)),t),t=Uu(e,t,r,n,s);break e}else for(it=xn(t.stateNode.containerInfo.firstChild),lt=t,fe=!0,Nt=null,n=qh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dr(),r===s){t=Kt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return Vh(t),e===null&&eo(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,Ql(r,s)?l=null:i!==null&&Ql(r,i)&&(t.flags|=32),gm(e,t),He(e,t,l,n),t.child;case 6:return e===null&&eo(t),null;case 13:return vm(e,t,n);case 4:return cc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mr(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),$u(e,t,r,s,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,de(Ka,r._currentValue),r._currentValue=l,i!==null)if(Ct(i.value,l)){if(i.children===s.children&&!tt.current){t=Kt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=qt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),to(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(D(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),to(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}He(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Sr(t,n),s=gt(s),r=r(s),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,s=_t(r,t.pendingProps),s=_t(r.type,s),Iu(e,t,r,s,n);case 15:return pm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Oa(e,t),t.tag=1,nt(r)?(e=!0,Ya(t)):e=!1,Sr(t,n),hm(t,r,s),ro(t,r,s,n),io(null,t,r,!0,e,n);case 19:return wm(e,t,n);case 22:return ym(e,t,n)}throw Error(D(156,t.tag))};function Im(e,t){return ch(e,t)}function hg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,r){return new hg(e,t,n,r)}function Nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mg(e){if(typeof e=="function")return Nc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qo)return 11;if(e===Wo)return 14}return 2}function jn(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ia(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")Nc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case dr:return Bn(n.children,s,i,t);case Bo:l=8,s|=8;break;case Cl:return e=ft(12,n,t,s|2),e.elementType=Cl,e.lanes=i,e;case Pl:return e=ft(13,n,t,s),e.elementType=Pl,e.lanes=i,e;case El:return e=ft(19,n,t,s),e.elementType=El,e.lanes=i,e;case Vd:return Pi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wd:l=10;break e;case Hd:l=9;break e;case qo:l=11;break e;case Wo:l=14;break e;case an:l=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=ft(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Bn(e,t,n,r){return e=ft(7,e,r,t),e.lanes=n,e}function Pi(e,t,n,r){return e=ft(22,e,r,t),e.elementType=Vd,e.lanes=n,e.stateNode={isHidden:!1},e}function fl(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function pl(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qi(0),this.expirationTimes=Qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kc(e,t,n,r,s,i,l,o,c){return e=new fg(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ft(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oc(i),e}function pg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ur,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rm(e){if(!e)return Sn;e=e._reactInternals;e:{if(Zn(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(nt(n))return Rh(e,n,t)}return t}function Um(e,t,n,r,s,i,l,o,c){return e=kc(n,r,!0,e,s,i,l,o,c),e.context=Rm(null),n=e.current,r=Ge(),s=_n(n),i=qt(r,s),i.callback=t??null,vn(n,i,s),e.current.lanes=s,Ys(e,s,r),rt(e,r),e}function Ei(e,t,n,r){var s=t.current,i=Ge(),l=_n(s);return n=Rm(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vn(s,t,l),e!==null&&(St(e,s,l,i),Ta(e,s,l)),l}function ii(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sc(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}function yg(){return null}var Lm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cc(e){this._internalRoot=e}Ti.prototype.render=Cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Ei(e,t,null,null)};Ti.prototype.unmount=Cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yn(function(){Ei(null,e,null,null)}),t[Gt]=null}};function Ti(e){this._internalRoot=e}Ti.prototype.unstable_scheduleHydration=function(e){if(e){var t=yh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cn.length&&t!==0&&t<cn[n].priority;n++);cn.splice(n,0,e),n===0&&xh(e)}};function Pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qu(){}function gg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ii(l);i.call(u)}}var l=Um(t,r,e,0,null,!1,!1,"",Qu);return e._reactRootContainer=l,e[Gt]=l.current,Os(e.nodeType===8?e.parentNode:e),Yn(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=ii(c);o.call(u)}}var c=kc(e,0,!1,null,null,!1,!1,"",Qu);return e._reactRootContainer=c,e[Gt]=c.current,Os(e.nodeType===8?e.parentNode:e),Yn(function(){Ei(t,c,n,r)}),c}function Mi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=ii(l);o.call(c)}}Ei(t,l,e,s)}else l=gg(n,t,e,s,r);return ii(l)}fh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=us(t.pendingLanes);n!==0&&(Yo(t,n|1),rt(t,_e()),!(se&6)&&($r=_e()+500,Tn()))}break;case 13:Yn(function(){var r=Qt(e,1);if(r!==null){var s=Ge();St(r,e,1,s)}}),Sc(e,1)}};Go=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=Ge();St(t,e,134217728,n)}Sc(e,134217728)}};ph=function(e){if(e.tag===13){var t=_n(e),n=Qt(e,t);if(n!==null){var r=Ge();St(n,e,t,r)}Sc(e,t)}};yh=function(){return le};gh=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Ll=function(e,t,n){switch(t){case"input":if(Ml(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ji(r);if(!s)throw Error(D(90));Gd(r),Ml(r,s)}}}break;case"textarea":Kd(e,n);break;case"select":t=n.value,t!=null&&jr(e,!!n.multiple,t,!1)}};rh=_c;sh=Yn;var xg={usingClientEntryPoint:!1,Events:[Qs,pr,ji,th,nh,_c]},rs={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vg={bundleType:rs.bundleType,version:rs.version,rendererPackageName:rs.rendererPackageName,rendererConfig:rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lh(e),e===null?null:e.stateNode},findFiberByHostInstance:rs.findFiberByHostInstance||yg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{xi=xa.inject(vg),Ot=xa}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xg;ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(t))throw Error(D(200));return pg(e,t,null,n)};ct.createRoot=function(e,t){if(!Pc(e))throw Error(D(299));var n=!1,r="",s=Lm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kc(e,1,!1,null,null,n,!1,r,s),e[Gt]=t.current,Os(e.nodeType===8?e.parentNode:e),new Cc(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=lh(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return Yn(e)};ct.hydrate=function(e,t,n){if(!Di(t))throw Error(D(200));return Mi(null,e,t,!0,n)};ct.hydrateRoot=function(e,t,n){if(!Pc(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=Lm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Um(t,null,e,1,n??null,s,!1,i,l),e[Gt]=t.current,Os(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ti(t)};ct.render=function(e,t,n){if(!Di(t))throw Error(D(200));return Mi(null,e,t,!1,n)};ct.unmountComponentAtNode=function(e){if(!Di(e))throw Error(D(40));return e._reactRootContainer?(Yn(function(){Mi(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1};ct.unstable_batchedUpdates=_c;ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Di(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Mi(e,t,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function Fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fm)}catch(e){console.error(e)}}Fm(),Fd.exports=ct;var wg=Fd.exports,zm,Ku=wg;zm=Ku.createRoot,Ku.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs.apply(this,arguments)}var fn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fn||(fn={}));const Ju="popstate";function _g(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:l,hash:o}=r.location;return vo("",{pathname:i,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:li(s)}return bg(t,n,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jg(){return Math.random().toString(36).substr(2,8)}function Xu(e,t){return{usr:e.state,key:e.key,idx:t}}function vo(e,t,n,r){return n===void 0&&(n=null),Bs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wr(t):t,{state:n,key:t&&t.key||r||jg()})}function li(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function bg(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,o=fn.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(Bs({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function h(){o=fn.Pop;let j=d(),x=j==null?null:j-u;u=j,c&&c({action:o,location:v.location,delta:x})}function m(j,x){o=fn.Push;let f=vo(v.location,j,x);u=d()+1;let y=Xu(f,u),_=v.createHref(f);try{l.pushState(y,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(_)}i&&c&&c({action:o,location:v.location,delta:1})}function p(j,x){o=fn.Replace;let f=vo(v.location,j,x);u=d();let y=Xu(f,u),_=v.createHref(f);l.replaceState(y,"",_),i&&c&&c({action:o,location:v.location,delta:0})}function g(j){let x=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof j=="string"?j:li(j);return f=f.replace(/ $/,"%20"),ke(x,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,x)}let v={get action(){return o},get location(){return e(s,l)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ju,h),c=j,()=>{s.removeEventListener(Ju,h),c=null}},createHref(j){return t(s,j)},createURL:g,encodeLocation(j){let x=g(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:p,go(j){return l.go(j)}};return v}var Zu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zu||(Zu={}));function Ng(e,t,n){return n===void 0&&(n="/"),kg(e,t,n,!1)}function kg(e,t,n,r){let s=typeof t=="string"?Wr(t):t,i=Ec(s.pathname||"/",n);if(i==null)return null;let l=qm(e);Sg(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=Rg(i);o=$g(l[c],u,r)}return o}function qm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(ke(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=bn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qm(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Og(u,i.index),routesMeta:d})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let c of Wm(i.path))s(i,l,c)}),t}function Wm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=Wm(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Sg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ag(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Cg=/^:[\w-]+$/,Pg=3,Eg=2,Tg=1,Dg=10,Mg=-2,ed=e=>e==="*";function Og(e,t){let n=e.split("/"),r=n.length;return n.some(ed)&&(r+=Mg),t&&(r+=Eg),n.filter(s=>!ed(s)).reduce((s,i)=>s+(Cg.test(i)?Pg:i===""?Tg:Dg),r)}function Ag(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function $g(e,t,n){let{routesMeta:r}=e,s={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=td({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=td({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),l.push({params:s,pathname:bn([i,h.pathname]),pathnameBase:zg(bn([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=bn([i,h.pathnameBase]))}return l}function td(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ig(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let v=o[h]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[h];return p&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function Ig(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Bm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Rg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ec(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ug(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Wr(e):e;return{pathname:n?n.startsWith("/")?n:Lg(n,t):t,search:Bg(r),hash:qg(s)}}function Lg(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function yl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Hm(e,t){let n=Fg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vm(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Wr(e):(s=Bs({},e),ke(!s.pathname||!s.pathname.includes("?"),yl("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),yl("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),yl("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=n;else{let h=t.length-1;if(!r&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}o=h>=0?t[h]:"/"}let c=Ug(s,o),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const bn=e=>e.join("/").replace(/\/\/+/g,"/"),zg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Wg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ym=["post","put","patch","delete"];new Set(Ym);const Hg=["get",...Ym];new Set(Hg);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qs.apply(this,arguments)}const Tc=w.createContext(null),Vg=w.createContext(null),er=w.createContext(null),Oi=w.createContext(null),tr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Gm=w.createContext(null);function Yg(e,t){let{relative:n}=t===void 0?{}:t;Js()||ke(!1);let{basename:r,navigator:s}=w.useContext(er),{hash:i,pathname:l,search:o}=Km(e,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:bn([r,l])),s.createHref({pathname:c,search:o,hash:i})}function Js(){return w.useContext(Oi)!=null}function Xs(){return Js()||ke(!1),w.useContext(Oi).location}function Qm(e){w.useContext(er).static||w.useLayoutEffect(e)}function nr(){let{isDataRoute:e}=w.useContext(tr);return e?i0():Gg()}function Gg(){Js()||ke(!1);let e=w.useContext(Tc),{basename:t,future:n,navigator:r}=w.useContext(er),{matches:s}=w.useContext(tr),{pathname:i}=Xs(),l=JSON.stringify(Hm(s,n.v7_relativeSplatPath)),o=w.useRef(!1);return Qm(()=>{o.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=Vm(u,JSON.parse(l),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:bn([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,l,i,e])}function Km(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(er),{matches:s}=w.useContext(tr),{pathname:i}=Xs(),l=JSON.stringify(Hm(s,r.v7_relativeSplatPath));return w.useMemo(()=>Vm(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function Qg(e,t){return Kg(e,t)}function Kg(e,t,n,r){Js()||ke(!1);let{navigator:s,static:i}=w.useContext(er),{matches:l}=w.useContext(tr),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Xs(),h;if(t){var m;let x=typeof t=="string"?Wr(t):t;u==="/"||(m=x.pathname)!=null&&m.startsWith(u)||ke(!1),h=x}else h=d;let p=h.pathname||"/",g=p;if(u!=="/"){let x=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=!i&&n&&n.matches&&n.matches.length>0?n.matches:Ng(e,{pathname:g}),j=t0(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:bn([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:bn([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,n,r);return t&&j?w.createElement(Oi.Provider,{value:{location:qs({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:fn.Pop}},j):j}function Jg(){let e=a0(),t=Wg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const Xg=w.createElement(Jg,null);class Zg extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(tr.Provider,{value:this.props.routeContext},w.createElement(Gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function e0(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(Tc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(tr.Provider,{value:t},r)}function t0(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||ke(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<l.length;d++){let h=l[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:p}=n,g=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,h,m)=>{let p,g=!1,v=null,j=null;n&&(p=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||Xg,c&&(u<0&&m===0?(g=!0,j=null):u===m&&(g=!0,j=h.route.hydrateFallbackElement||null)));let x=t.concat(l.slice(0,m+1)),f=()=>{let y;return p?y=v:g?y=j:h.route.Component?y=w.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,w.createElement(e0,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?w.createElement(Zg,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var Jm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jm||{}),oi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oi||{});function n0(e){let t=w.useContext(Tc);return t||ke(!1),t}function r0(e){let t=w.useContext(Vg);return t||ke(!1),t}function s0(e){let t=w.useContext(tr);return t||ke(!1),t}function Xm(e){let t=s0(),n=t.matches[t.matches.length-1];return n.route.id||ke(!1),n.route.id}function a0(){var e;let t=w.useContext(Gm),n=r0(oi.UseRouteError),r=Xm(oi.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function i0(){let{router:e}=n0(Jm.UseNavigateStable),t=Xm(oi.UseNavigateStable),n=w.useRef(!1);return Qm(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,qs({fromRouteId:t},i)))},[e,t])}function l0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function We(e){ke(!1)}function o0(e){let{basename:t="/",children:n=null,location:r,navigationType:s=fn.Pop,navigator:i,static:l=!1,future:o}=e;Js()&&ke(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:l,future:qs({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof r=="string"&&(r=Wr(r));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:g="default"}=r,v=w.useMemo(()=>{let j=Ec(d,c);return j==null?null:{location:{pathname:j,search:h,hash:m,state:p,key:g},navigationType:s}},[c,d,h,m,p,g,s]);return v==null?null:w.createElement(er.Provider,{value:u},w.createElement(Oi.Provider,{children:n,value:v}))}function nd(e){let{children:t,location:n}=e;return Qg(wo(t),n)}new Promise(()=>{});function wo(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let i=[...t,s];if(r.type===w.Fragment){n.push.apply(n,wo(r.props.children,i));return}r.type!==We&&ke(!1),!r.props.index||!r.props.children||ke(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=wo(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_o.apply(this,arguments)}function c0(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function u0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function d0(e,t){return e.button===0&&(!t||t==="_self")&&!u0(e)}const h0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m0="6";try{window.__reactRouterVersion=m0}catch{}const f0="startTransition",rd=cp[f0];function p0(e){let{basename:t,children:n,future:r,window:s}=e,i=w.useRef();i.current==null&&(i.current=_g({window:s,v5Compat:!0}));let l=i.current,[o,c]=w.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},d=w.useCallback(h=>{u&&rd?rd(()=>c(h)):c(h)},[c,u]);return w.useLayoutEffect(()=>l.listen(d),[l,d]),w.useEffect(()=>l0(r),[r]),w.createElement(o0,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cn=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=c0(t,h0),{basename:p}=w.useContext(er),g,v=!1;if(typeof u=="string"&&g0.test(u)&&(g=u,y0))try{let y=new URL(window.location.href),_=u.startsWith("//")?new URL(y.protocol+u):new URL(u),N=Ec(_.pathname,p);_.origin===y.origin&&N!=null?u=N+_.search+_.hash:v=!0}catch{}let j=Yg(u,{relative:s}),x=x0(u,{replace:l,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h});function f(y){r&&r(y),y.defaultPrevented||x(y)}return w.createElement("a",_o({},m,{href:g||j,onClick:v||i?r:f,ref:n,target:c}))});var sd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sd||(sd={}));var ad;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ad||(ad={}));function x0(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=nr(),u=Xs(),d=Km(e,{relative:l});return w.useCallback(h=>{if(d0(h,n)){h.preventDefault();let m=r!==void 0?r:li(u)===li(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,d,r,s,n,e,i,l,o])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>w.createElement("svg",{ref:d,...v0,width:s,height:s,stroke:r,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${w0(e)}`,o].join(" "),...u},[...t.map(([h,m])=>w.createElement(h,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=J("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=J("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=J("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=J("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=J("BadgePercent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=J("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=J("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=J("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=J("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=J("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=J("Equal",[["line",{x1:"5",x2:"19",y1:"9",y2:"9",key:"1nwqeh"}],["line",{x1:"5",x2:"19",y1:"15",y2:"15",key:"g8yjpy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=J("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=J("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=J("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=J("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=J("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=J("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=J("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=J("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=J("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=J("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=J("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=J("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=J("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),W=({children:e,variant:t="primary",size:n="md",isLoading:r=!1,fullWidth:s=!1,leftIcon:i,rightIcon:l,disabled:o,className:c="",...u})=>{const d="inline-flex items-center justify-center rounded-xl font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",h={primary:"bg-gradient-to-r from-primary-600 to-primary-500 text-white hover:from-primary-700 hover:to-primary-600 focus-visible:ring-primary-500 shadow-sm hover:shadow",secondary:"bg-gradient-to-r from-accent-500 to-accent-400 text-white hover:from-accent-600 hover:to-accent-500 focus-visible:ring-accent-500 shadow-sm hover:shadow",outline:"border-2 border-primary-200 text-primary-700 hover:bg-primary-50 focus-visible:ring-primary-500",ghost:"text-primary-700 hover:bg-primary-50 hover:text-primary-900 focus-visible:ring-primary-500",danger:"bg-gradient-to-r from-red-600 to-red-500 text-white hover:from-red-700 hover:to-red-600 focus-visible:ring-red-500 shadow-sm hover:shadow"},m={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"},p=s?"w-full":"";return a.jsxs("button",{className:`
        ${d}
        ${h[t]}
        ${m[n]}
        ${p}
        ${c}
      `,disabled:o||r,...u,children:[r&&a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!r&&i&&a.jsx("span",{className:"mr-2 opacity-80",children:i}),e,!r&&l&&a.jsx("span",{className:"ml-2 opacity-80",children:l})]})},A0="modulepreload",$0=function(e){return"/"+e},od={},Rr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=$0(c),c in od)return;od[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":A0,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},I0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Rr(async()=>{const{default:r}=await Promise.resolve().then(()=>Hr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Mc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class R0 extends Mc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class U0 extends Mc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class L0 extends Mc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ko;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ko||(ko={}));var F0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class z0{constructor(t,{headers:n={},customFetch:r,region:s=ko.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=I0(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return F0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=n;let o={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(o["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(o["Content-Type"]="application/json",u=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(g=>{throw new R0(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new U0(d);if(!d.ok)throw new L0(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield d.json():m==="application/octet-stream"?p=yield d.blob():m==="text/event-stream"?p=d:m==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Ze={},Oc={},$i={},Zs={},Ii={},Ri={},B0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ur=B0();const q0=Ur.fetch,af=Ur.fetch.bind(Ur),lf=Ur.Headers,W0=Ur.Request,H0=Ur.Response,Hr=Object.freeze(Object.defineProperty({__proto__:null,Headers:lf,Request:W0,Response:H0,default:af,fetch:q0},Symbol.toStringTag,{value:"Module"})),V0=Vf(Hr);var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});let Y0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ui.default=Y0;var of=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ri,"__esModule",{value:!0});const G0=of(V0),Q0=of(Ui);let K0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=G0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c;let u=null,d=null,h=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const v=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),j=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,p="OK")}catch{i.status===404&&v===""?(m=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new Q0.default(u)}return{error:u,data:d,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Ri.default=K0;var J0=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ii,"__esModule",{value:!0});const X0=J0(Ri);let Z0=class extends X0.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ii.default=Z0;var ex=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zs,"__esModule",{value:!0});const tx=ex(Ii);let nx=class extends tx.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${l}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Zs.default=nx;var rx=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($i,"__esModule",{value:!0});const ss=rx(Zs);let sx=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new ss.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new ss.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const l="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ss.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ss.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ss.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$i.default=sx;var Li={},Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.version=void 0;Fi.version="0.0.0-automated";Object.defineProperty(Li,"__esModule",{value:!0});Li.DEFAULT_HEADERS=void 0;const ax=Fi;Li.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ax.version}`};var cf=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oc,"__esModule",{value:!0});const ix=cf($i),lx=cf(Zs),ox=Li;let cx=class uf{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},ox.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new ix.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new uf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let l;const o=new URL(`${this.url}/rpc/${t}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(l="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new lx.default({method:l,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Oc.default=cx;var Vr=yt&&yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const df=Vr(Oc);Ze.PostgrestClient=df.default;const hf=Vr($i);Ze.PostgrestQueryBuilder=hf.default;const mf=Vr(Zs);Ze.PostgrestFilterBuilder=mf.default;const ff=Vr(Ii);Ze.PostgrestTransformBuilder=ff.default;const pf=Vr(Ri);Ze.PostgrestBuilder=pf.default;const yf=Vr(Ui);Ze.PostgrestError=yf.default;var ux=Ze.default={PostgrestClient:df.default,PostgrestQueryBuilder:hf.default,PostgrestFilterBuilder:mf.default,PostgrestTransformBuilder:ff.default,PostgrestBuilder:pf.default,PostgrestError:yf.default};const{PostgrestClient:dx,PostgrestQueryBuilder:Hj,PostgrestFilterBuilder:Vj,PostgrestTransformBuilder:Yj,PostgrestBuilder:Gj,PostgrestError:Qj}=ux,hx="2.11.2",mx={"X-Client-Info":`realtime-js/${hx}`},fx="1.0.0",gf=1e4,px=1e3;var Pr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pr||(Pr={}));var st;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(st||(st={}));var bt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bt||(bt={}));var So;(function(e){e.websocket="websocket"})(So||(So={}));var Rn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Rn||(Rn={}));class yx{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let l=this.HEADER_LENGTH+2;const o=r.decode(t.slice(l,l+s));l=l+s;const c=r.decode(t.slice(l,l+i));l=l+i;const u=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class xf{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ue||(ue={}));const cd=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,l)=>(i[l]=gx(l,e,t,s),i),{})},gx=(e,t,n,r)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,l=n[e];return i&&!r.includes(i)?vf(i,l):Co(l)},vf=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return _x(t,n)}switch(e){case ue.bool:return xx(t);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return vx(t);case ue.json:case ue.jsonb:return wx(t);case ue.timestamp:return jx(t);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return Co(t);default:return Co(t)}},Co=e=>e,xx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},_x=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const l=e.slice(1,n);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>vf(t,o))}return e},jx=e=>typeof e=="string"?e.replace(" ","T"):e,wf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class gl{constructor(t,n,r={},s=gf){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ud;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ud||(ud={}));class js{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=js.syncState(this.state,s,i,l),this.pendingDiffs.forEach(c=>{this.state=js.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=js.syncDiff(this.state,s,i,l),o())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),l=this.transformState(n),o={},c={};return this.map(i,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const h=i[u];if(h){const m=d.map(j=>j.presence_ref),p=h.map(j=>j.presence_ref),g=d.filter(j=>p.indexOf(j.presence_ref)<0),v=h.filter(j=>m.indexOf(j.presence_ref)<0);g.length>0&&(o[u]=g),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(p=>p.presence_ref),m=d.filter(p=>h.indexOf(p.presence_ref)<0);t[o].unshift(...m)}r(o,d,c)}),this.map(l,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dd||(dd={}));var hd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hd||(hd={}));var Lt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Lt||(Lt={}));class Ac{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new gl(this,bt.join,this.params,this.timeout),this.rejoinTimer=new xf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new js(this),this.broadcastEndpointURL=wf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:l,private:o}}=this.params;this._onError(d=>t==null?void 0:t(Lt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Lt.CLOSED));const c={},u={broadcast:i,presence:l,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Lt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,g=[];for(let v=0;v<p;v++){const j=m[v],{filter:{event:x,schema:f,table:y,filter:_}}=j,N=d&&d[v];if(N&&N.event===x&&N.schema===f&&N.table===y&&N.filter===_)g.push(Object.assign(Object.assign({},j),{id:N.id}));else{this.unsubscribe(),t==null||t(Lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Lt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new gl(this,bt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gl(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=bt;if(r&&[o,c,u,d].indexOf(l)>=0&&r!==this._joinRef())return;let m=this._onMessage(l,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,v,j;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((j=(v=p.filter)===null||v===void 0?void 0:v.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(p=>p.callback(m,r)):(i=this.bindings[l])===null||i===void 0||i.filter(p=>{var g,v,j,x,f,y;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in p){const _=p.id,N=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const _=(f=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===l}).map(p=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:v,table:j,commit_timestamp:x,type:f,errors:y}=g;m=Object.assign(Object.assign({},{schema:v,table:j,commit_timestamp:x,eventType:f,new:{},old:{},errors:y}),this._getPayloadRecords(g))}p.callback(m,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ac.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bt.close,{},t)}_onError(t){this._on(bt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=cd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=cd(t.columns,t.old_record)),n}}const bx=()=>{},Nx=typeof WebSocket<"u",kx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sx{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=mx,this.params={},this.timeout=gf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=bx,this.conn=null,this.sendBuffer=[],this.serializer=new yx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...o)=>Rr(async()=>{const{default:c}=await Promise.resolve().then(()=>Hr);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${t}/${So.websocket}`,this.httpEndpoint=wf(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,l)=>l(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new xf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Nx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Cx(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Rr(async()=>{const{default:t}=await import("./browser-DgaK9Ebn.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fx}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pr.connecting:return Rn.Connecting;case Pr.open:return Rn.Open;case Pr.closing:return Rn.Closing;default:return Rn.Closed}}isConnected(){return this.connectionState()===Rn.Open}channel(t,n={config:{}}){const r=new Ac(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(bt.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(px,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:l}=n;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${l&&"("+l+")"||""}`,i),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(s,i,l)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(bt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([kx],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Cx{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class $c extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function De(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Px extends $c{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Po extends $c{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Ex=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const _f=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Rr(async()=>{const{default:r}=await Promise.resolve().then(()=>Hr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Tx=()=>Ex(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rr(()=>Promise.resolve().then(()=>Hr),void 0)).Response:Response}),Eo=e=>{if(Array.isArray(e))return e.map(n=>Eo(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Eo(r)}),t};var rr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const xl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dx=(e,t,n)=>rr(void 0,void 0,void 0,function*(){const r=yield Tx();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Px(xl(s),e.status||500))}).catch(s=>{t(new Po(xl(s),s))}):t(new Po(xl(e),e))}),Mx=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ea(e,t,n,r,s,i){return rr(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(n,Mx(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>Dx(c,o,r))})})}function ui(e,t,n,r){return rr(this,void 0,void 0,function*(){return ea(e,"GET",t,n,r)})}function on(e,t,n,r,s){return rr(this,void 0,void 0,function*(){return ea(e,"POST",t,r,s,n)})}function Ox(e,t,n,r,s){return rr(this,void 0,void 0,function*(){return ea(e,"PUT",t,r,s,n)})}function Ax(e,t,n,r){return rr(this,void 0,void 0,function*(){return ea(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function jf(e,t,n,r,s){return rr(this,void 0,void 0,function*(){return ea(e,"DELETE",t,r,s,n)})}var Je=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const $x={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},md={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ix{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=_f(s)}uploadOrUpdate(t,n,r,s){return Je(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},md),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(De(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:md.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(De(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Je(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield on(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new $c("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}update(t,n,r){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Je(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Je(this,void 0,void 0,function*(){try{return{data:{path:(yield on(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield on(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Je(this,void 0,void 0,function*(){try{const s=yield on(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}download(t,n){return Je(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield ui(this.fetch,`${this.url}/${s}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(De(o))return{data:null,error:o};throw o}})}info(t){return Je(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ui(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Eo(r),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}exists(t){return Je(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Ax(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(De(r)&&r instanceof Po){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(t){return Je(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}list(t,n,r){return Je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},$x),n),{prefix:t||""});return{data:yield on(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Rx="2.7.1",Ux={"X-Client-Info":`storage-js/${Rx}`};var ar=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class Lx{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Ux),n),this.fetch=_f(r)}listBuckets(){return ar(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}getBucket(t){return ar(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ar(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ar(this,void 0,void 0,function*(){try{return{data:yield Ox(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ar(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ar(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}}class Fx extends Lx{constructor(t,n={},r){super(t,n,r)}from(t){return new Ix(this.url,this.headers,t,this.fetch)}}const zx="2.49.4";let hs="";typeof Deno<"u"?hs="deno":typeof document<"u"?hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hs="react-native":hs="node";const Bx={"X-Client-Info":`supabase-js-${hs}/${zx}`},qx={headers:Bx},Wx={schema:"public"},Hx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vx={};var Yx=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const Gx=e=>{let t;return e?t=e:typeof fetch>"u"?t=af:t=fetch,(...n)=>t(...n)},Qx=()=>typeof Headers>"u"?lf:Headers,Kx=(e,t,n)=>{const r=Gx(n),s=Qx();return(i,l)=>Yx(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},l),{headers:u}))})};var Jx=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};function Xx(e){return e.replace(/\/$/,"")}function Zx(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:l,auth:o,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Jx(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const bf="2.69.1",cr=30*1e3,To=3,vl=To*cr,ev="http://localhost:9999",tv="supabase.auth.token",nv={"X-Client-Info":`gotrue-js/${bf}`},Do="X-Supabase-Api-Version",Nf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sv=6e5;class Ic extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class av extends Ic{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function iv(e){return Q(e)&&e.name==="AuthApiError"}class kf extends Ic{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Dn extends Ic{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class nn extends Dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lv(e){return Q(e)&&e.name==="AuthSessionMissingError"}class wl extends Dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class va extends Dn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wa extends Dn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ov(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class fd extends Dn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mo extends Dn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function _l(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class pd extends Dn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bs extends Dn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gd=` 	
\r=`.split(""),cv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gd.length;t+=1)e[gd[t].charCodeAt(0)]=-2;for(let t=0;t<yd.length;t+=1)e[yd[t].charCodeAt(0)]=t;return e})();function Sf(e,t,n){const r=cv[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xd(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{hv(l,r,n)};for(let l=0;l<e.length;l+=1)Sf(e.charCodeAt(l),s,i);return t.join("")}function uv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dv(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}uv(r,t)}}function hv(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function mv(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Sf(e.charCodeAt(s),n,r);return new Uint8Array(t)}function fv(e){const t=[];return dv(e,n=>t.push(n)),new Uint8Array(t)}function pv(e){return Math.round(Date.now()/1e3)+e}function yv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Tt=()=>typeof window<"u"&&typeof document<"u",Mn={tested:!1,writable:!1},Ns=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mn.tested)return Mn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mn.tested=!0,Mn.writable=!0}catch{Mn.tested=!0,Mn.writable=!1}return Mn.writable};function gv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Cf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Rr(async()=>{const{default:r}=await Promise.resolve().then(()=>Hr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},xv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pf=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},_a=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ja=async(e,t)=>{await e.removeItem(t)};class zi{constructor(){this.promise=new zi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}zi.promiseConstructor=Promise;function jl(e){const t=e.split(".");if(t.length!==3)throw new bs("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!rv.test(t[r]))throw new bs("JWT not in base64url format");return{header:JSON.parse(xd(t[0])),payload:JSON.parse(xd(t[1])),signature:mv(t[2]),raw:{header:t[0],payload:t[1]}}}async function vv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function wv(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){r(l);return}}catch(l){if(!t(i,l)){s(l);return}}})()})}function _v(e){return("0"+e.toString(16)).substr(-2)}function jv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,_v).join("")}async function bv(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Nv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await bv(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ir(e,t,n=!1){const r=jv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Pf(e,`${t}-code-verifier`,s);const i=await Nv(r);return[i,r===i?"plain":"s256"]}const kv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sv(e){const t=e.headers.get(Do);if(!t||!t.match(kv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Cv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Pv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Ev=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const $n=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tv=[502,503,504];async function vd(e){var t;if(!xv(e))throw new Mo($n(e),0);if(Tv.includes(e.status))throw new Mo($n(e),e.status);let n;try{n=await e.json()}catch(i){throw new kf($n(i),i)}let r;const s=Sv(e);if(s&&s.getTime()>=Nf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new pd($n(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new nn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new pd($n(n),e.status,n.weak_password.reasons);throw new av($n(n),e.status||500,r)}const Dv=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ee(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Do]||(i[Do]=Nf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Mv(e,t,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Mv(e,t,n,r,s,i){const l=Dv(t,r,s,i);let o;try{o=await e(n,Object.assign({},l))}catch(c){throw console.error(c),new Mo($n(c),0)}if(o.ok||await vd(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await vd(c)}}function rn(e){var t;let n=null;Iv(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=pv(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function wd(e){const t=rn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function dn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ov(e){return{data:e,error:null}}function Av(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,l=Ev(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function $v(e){return e}function Iv(e){return e.access_token&&e.refresh_token&&e.expires_in}var Rv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Uv{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Cf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:dn})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Rv(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Av,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:dn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$v});if(d.error)throw d.error;const h=await d.json(),m=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(g.split(";")[1].split("=")[1]);u[`${j}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:dn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:dn})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:dn})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}const Lv={getItem:e=>Ns()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ns()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ns()&&globalThis.localStorage.removeItem(e)}};function _d(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Fv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const lr={debug:!!(globalThis&&Ns()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ef extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zv extends Ef{}async function Bv(e,t,n){lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(lr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Fv();const qv={url:ev,storageKey:tv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jd(e,t,n){return await n()}class Ws{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ws.nextInstanceID,Ws.nextInstanceID+=1,this.instanceID>0&&Tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},qv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Uv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Cf(s.fetch),this.lock=s.lock||jd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Tt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Bv:this.lock=jd,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ns()?this.storage=Lv:(this.memoryStorage={},this.storage=_d(this.memoryStorage)):(this.memoryStorage={},this.storage=_d(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=gv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Tt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ov(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?{error:n}:{error:new kf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:rn}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ir(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:g},xform:rn})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:rn})}else throw new va("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:l,options:o}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wd})}else if("phone"in t){const{phone:i,password:l,options:o}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wd})}else throw new va("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new wl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await _a(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:l}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:rn});if(await ja(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:l}=t,o=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rn}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new wl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,l;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ir(this.storage,this.storageKey));const{error:h}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new va("You must provide either an email or phone number.")}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:o}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:rn});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await ir(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:Ov})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new nn;const{error:s}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:l}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:l,error:o}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new va("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await _a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<vl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:dn}):await this._useSession(async n=>{var r,s,i;const{data:l,error:o}=n;if(o)throw o;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:dn})})}catch(n){if(Q(n))return lv(n)&&(await this._removeSession(),await ja(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new nn;const l=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await ir(this.storage,this.storageKey));const{data:u,error:d}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:dn});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:l}=jl(t.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:o}=n;if(o)throw o;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new nn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Tt())throw new wa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new fd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fd("No code detected.");const{data:f,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!l||!u)throw new wa("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let m=d+h;c&&(m=parseInt(c));const p=m-d;p*1e3<=cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=m-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,d);const{data:v,error:j}=await this._getUser(i);if(j)throw j;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:l,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(Q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await _a(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(iv(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await ja(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=yv(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ir(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var l,o,c,u,d;const{data:h,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Tt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Q(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:l}=n;if(l)throw l;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await wv(async s=>(s>0&&await vv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rn})),(s,i)=>{const l=200*Math.pow(2,s);return i&&_l(i)&&Date.now()+l-r<cr})}catch(r){if(this._debug(n,"error",r),Q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Tt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await _a(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<vl;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${vl}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),_l(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zi;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new nn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),Q(i)){const l={session:null,error:i};return _l(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Pf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ja(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${cr}ms, refresh threshold is ${To} ticks`),s<=To&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ef)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,l]=await ir(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:l}=n;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:l,error:o}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=jl(s.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r||(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+sv>Date.now()))return r;const{data:s,error:i}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new bs("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(l=>l.kid===t),!r)throw new bs("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};r=p.session.access_token}const{header:s,payload:i,signature:l,raw:{header:o,payload:c}}=jl(r);if(Cv(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:l},error:null}}const u=Pv(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,l,fv(`${o}.${c}`)))throw new bs("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}Ws.nextInstanceID=0;const Wv=Ws;class Hv extends Wv{constructor(t){super(t)}}var Vv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class Yv{constructor(t,n,r){var s,i,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=Xx(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Wx,realtime:Vx,auth:Object.assign(Object.assign({},Hx),{storageKey:c}),global:qx},d=Zx(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=d.auth)!==null&&l!==void 0?l:{},this.headers,d.global.fetch),this.fetch=Kx(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new dx(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new z0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Fx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Vv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:l,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hv({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:l,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Sx(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gv=(e,t,n)=>new Yv(e,t,n),Qv="https://ovrlopgncekvcrpbexzh.supabase.co",Kv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im92cmxvcGduY2VrdmNycGJleHpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU5NDEwMDIsImV4cCI6MjA2MTUxNzAwMn0.GFo5TitBPGskdUds-blrQ6mQ5mFLjK-Y3HtkiJljLEE",U=Gv(Qv,Kv);async function Jv(e,t){const{data:n,error:r}=await U.auth.signInWithPassword({email:e,password:t});if(r)throw r;return n}async function Xv(e,t){const{data:n,error:r}=await U.auth.signUp({email:e,password:t});if(r)throw r;return n}async function Zv(){const{error:e}=await U.auth.signOut();if(e)throw e}const ew=({children:e})=>{var h;const t=Xs(),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[l,o]=w.useState(!1),c=[{name:"Dashboard",icon:a.jsx(P0,{size:20}),href:"/"},{name:"Income",icon:a.jsx(ge,{size:20}),href:"/income"},{name:"Bills",icon:a.jsx(Dc,{size:20}),href:"/bills"},{name:"Credit Cards",icon:a.jsx(vt,{size:20}),href:"/credit-cards"},{name:"Debit Cards",icon:a.jsx(Nn,{size:20}),href:"/debit-cards"},{name:"Savings",icon:a.jsx(Wt,{size:20}),href:"/savings"},{name:"Payoff Plans",icon:a.jsx(Zm,{size:20}),href:"/payoff-plans"},{name:"Spending Budget",icon:a.jsx(Wt,{size:20}),href:"/budget"},{name:"Purchase Goals",icon:a.jsx(Kn,{size:20}),href:"/goals"},{name:"Profile",icon:a.jsx(rf,{size:20}),href:"/profile"}],u=async()=>{try{o(!0),await Zv(),window.location.href="/login"}catch(m){console.error("Sign out error:",m)}finally{o(!1)}},d=m=>!!(m==="/"&&t.pathname==="/"||m!=="/"&&t.pathname.startsWith(m));return a.jsxs("div",{className:"min-h-screen bg-primary-50",children:[n&&a.jsx("div",{className:"fixed inset-0 z-40 bg-primary-950/50 backdrop-blur-sm transition-opacity lg:hidden",onClick:()=>r(!1)}),a.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-primary-950 to-primary-900 transform ${n?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:hidden`,children:[a.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[a.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-white via-primary-100 to-accent-200 text-transparent bg-clip-text",children:"FinTrack"}),a.jsx("button",{onClick:()=>r(!1),className:"p-1.5 rounded-lg text-primary-400 hover:text-white hover:bg-primary-800/50",children:a.jsx(jo,{size:24})})]}),a.jsx("nav",{className:"mt-6 px-3 space-y-1.5",children:c.map(m=>a.jsxs(Cn,{to:m.href,className:`
                flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all
                ${d(m.href)?"bg-gradient-to-r from-accent-500/20 to-accent-500/10 text-white shadow-inner-sm":"text-primary-100 hover:bg-primary-800/50 hover:text-white"}
              `,onClick:()=>r(!1),children:[a.jsx("span",{className:"mr-3 opacity-70",children:m.icon}),m.name]},m.name))}),a.jsx("div",{className:"absolute bottom-0 w-full p-6",children:a.jsx(W,{variant:"outline",fullWidth:!0,leftIcon:a.jsx(id,{size:18}),onClick:u,isLoading:l,className:"text-primary-100 border-primary-800 hover:bg-primary-800/50",children:"Sign Out"})})]}),a.jsxs("div",{className:`hidden lg:fixed lg:inset-y-0 lg:flex lg:flex-col bg-gradient-to-b from-primary-950 to-primary-900 transition-all duration-300 ${s?"lg:w-20":"lg:w-64"}`,children:[a.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[a.jsx("h1",{className:`font-bold bg-gradient-to-r from-white via-primary-100 to-accent-200 text-transparent bg-clip-text transition-all ${s?"text-lg":"text-2xl"}`,children:s?"FT":"FinTrack"}),a.jsx("button",{onClick:()=>i(!s),className:"p-1.5 rounded-lg text-primary-400 hover:text-white hover:bg-primary-800/50 transition-colors",children:s?a.jsx(ef,{size:20}):a.jsx(jo,{size:20})})]}),a.jsxs("div",{className:"flex flex-col flex-1 mt-6",children:[a.jsx("nav",{className:"flex-1 px-3 space-y-1.5",children:c.map(m=>a.jsxs(Cn,{to:m.href,className:`
                  group flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all
                  ${d(m.href)?"bg-gradient-to-r from-accent-500/20 to-accent-500/10 text-white shadow-inner-sm":"text-primary-100 hover:bg-primary-800/50 hover:text-white"}
                `,title:s?m.name:void 0,children:[a.jsx("span",{className:`opacity-70 group-hover:opacity-100 transition-opacity ${s?"":"mr-3"}`,children:m.icon}),!s&&m.name]},m.name))}),a.jsx("div",{className:"p-6",children:a.jsx(W,{variant:"outline",fullWidth:!0,leftIcon:a.jsx(id,{size:18}),onClick:u,isLoading:l,className:"text-primary-100 border-primary-800 hover:bg-primary-800/50",children:!s&&"Sign Out"})})]})]}),a.jsxs("div",{className:`flex flex-col min-h-screen transition-all duration-300 ${s?"lg:pl-20":"lg:pl-64"}`,children:[a.jsx("header",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-sm border-b border-primary-100",children:a.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:px-8",children:[a.jsxs("div",{className:"flex items-center lg:hidden",children:[a.jsx("button",{onClick:()=>r(!0),className:"p-2 text-primary-600 hover:text-primary-700 rounded-lg hover:bg-primary-50",children:a.jsx(T0,{size:24})}),a.jsx("h1",{className:"ml-3 text-lg font-semibold bg-gradient-to-r from-primary-600 to-accent-500 text-transparent bg-clip-text",children:"FinTrack"})]}),a.jsx("div",{className:"hidden lg:block",children:a.jsx("h2",{className:"text-2xl font-semibold text-primary-950",children:((h=c.find(m=>d(m.href)))==null?void 0:h.name)||"Dashboard"})}),a.jsx("div",{className:"flex items-center space-x-4"})]})}),a.jsx("main",{className:"flex-1 p-4 lg:p-8",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]})},re=({children:e,className:t="",onClick:n})=>a.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${n?"cursor-pointer transition-all hover:shadow-lg":""} ${t}`,onClick:n,children:e}),$t=({children:e,className:t=""})=>a.jsx("div",{className:`p-4 border-b ${t}`,children:e}),Ye=({children:e,className:t=""})=>a.jsx("div",{className:`p-4 ${t}`,children:e}),Rc=({children:e,className:t=""})=>a.jsx("div",{className:`p-4 border-t ${t}`,children:e});async function Bi(){const{data:e}=await U.auth.getUser();if(!e.user)throw new Error("User not authenticated");const{data:t,error:n}=await U.from("bills").select(`
      *,
      category:categories(id, name, color)
    `).order("due_date");if(n)throw n;const{data:r,error:s}=await U.from("credit_cards").select("*").gt("current_balance",0).order("name");if(s)throw s;let i;const{data:l}=await U.from("categories").select("*").eq("name","Credit Card").eq("user_id",e.user.id).maybeSingle();if(l)i=l;else{const{data:u,error:d}=await U.from("categories").insert({name:"Credit Card",color:"#9333EA",user_id:e.user.id}).select().single();if(d)throw d;i=u}const o=r.filter(u=>u.current_balance>=u.minimum_payment).map(u=>({id:`cc-${u.id}`,user_id:u.user_id,name:u.name,amount:u.minimum_payment,due_date:u.due_date,category_id:i.id,bill_type:"recurring",frequency:u.payment_frequency,is_autopay:u.is_autopay,card_id:u.id,notes:`Minimum payment for ${u.name}`,recurrence_interval:u.payment_frequency,start_date:u.payment_start_date,end_date:u.payment_end_date,recurrence_day:u.payment_day,recurrence_week_day:u.payment_week_day,created_at:u.created_at,updated_at:u.updated_at,category:i,card:{...u,type:"credit"}}));return[...await Promise.all(t.map(async u=>{if(!u.card_id)return u;const{data:d}=await U.from("credit_cards").select("*").eq("id",u.card_id).maybeSingle();if(d)return{...u,card:{...d,type:"credit"}};const{data:h}=await U.from("debit_cards").select("*").eq("id",u.card_id).maybeSingle();return h?{...u,card:{...h,type:"debit"}}:u})),...o]}async function tw(e){const{data:t}=await U.auth.getUser();if(!t.user)throw new Error("User not authenticated");const n={...e,user_id:t.user.id};if(e.bill_type==="recurring"){if(!e.recurrence_interval||!e.start_date)throw new Error("Recurring bills must have an interval and start date");n.due_date=e.start_date}const{data:r,error:s}=await U.from("bills").insert(n).select(`
      *,
      category:categories(id, name, color)
    `).single();if(s)throw s;if(r.card_id){const{data:i}=await U.from("credit_cards").select("*").eq("id",r.card_id).maybeSingle();if(i)return{...r,card:{...i,type:"credit"}};const{data:l}=await U.from("debit_cards").select("*").eq("id",r.card_id).maybeSingle();if(l)return{...r,card:{...l,type:"debit"}}}return r}async function nw(e,t){if(t.bill_type==="recurring"&&(!t.recurrence_interval||!t.start_date))throw new Error("Recurring bills must have an interval and start date");if(t.card_id){const{data:s}=await U.from("credit_cards").select("id").eq("id",t.card_id).maybeSingle(),{data:i}=await U.from("debit_cards").select("id").eq("id",t.card_id).maybeSingle();if(!s&&!i)throw new Error("Invalid card ID")}const{data:n,error:r}=await U.from("bills").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select(`
      *,
      category:categories(id, name, color)
    `).single();if(r)throw r;if(n.card_id){const{data:s}=await U.from("credit_cards").select("*").eq("id",n.card_id).maybeSingle();if(s)return{...n,card:{...s,type:"credit"}};const{data:i}=await U.from("debit_cards").select("*").eq("id",n.card_id).maybeSingle();if(i)return{...n,card:{...i,type:"debit"}}}return n}async function rw(e){const{error:t}=await U.from("bills").delete().eq("id",e);if(t)throw t;return!0}async function Tf(e,t){const{data:n}=await U.auth.getUser();if(!n.user)throw new Error("User not authenticated");console.log("getBillsByDateRange Debug:",{startDate:e,endDate:t,query:`and(bill_type.eq.one-time,due_date.gte.${e},due_date.lte.${t}),and(bill_type.eq.recurring,or(end_date.is.null,end_date.gte.${e}),start_date.lte.${t})`});const{data:r,error:s}=await U.from("bills").select(`
      *,
      category:categories(id, name, color)
    `).or(`and(bill_type.eq.one-time,due_date.gte.${e},due_date.lte.${t}),and(bill_type.eq.recurring,start_date.lte.${t},or(end_date.is.null,end_date.gte.${e}))`).order("due_date");if(s)throw s;console.log("Initial bills found:",(r==null?void 0:r.length)||0);const i=await Promise.all(r.map(async o=>{if(!o.card_id)return o;const{data:c}=await U.from("credit_cards").select("*").eq("id",o.card_id).maybeSingle();if(c)return{...o,card:{...c,type:"credit"}};const{data:u}=await U.from("debit_cards").select("*").eq("id",o.card_id).maybeSingle();return u?{...o,card:{...u,type:"debit"}}:o})),l=[];return i.forEach(o=>{if(o.bill_type==="one-time"){l.push(o);return}let c=new Date(o.start_date);const u=o.end_date?new Date(o.end_date):new Date(t),d=new Date(t);for(;c<=d&&c<=u;)switch(c>=new Date(e)&&l.push({...o,due_date:c.toISOString().split("T")[0]}),o.recurrence_interval){case"weekly":c.setDate(c.getDate()+7);break;case"bi-weekly":c.setDate(c.getDate()+14);break;case"monthly":c.setMonth(c.getMonth()+1);break;case"quarterly":c.setMonth(c.getMonth()+3);break;case"yearly":c.setFullYear(c.getFullYear()+1);break}}),l}async function Yr(){const{data:e,error:t}=await U.from("credit_cards").select("*").order("name");if(t)throw t;return await Promise.all(e.map(async r=>{const{data:s}=await U.from("credit_card_payments").select("*").eq("credit_card_id",r.id).lte("payment_date",new Date().toISOString()).order("payment_date",{ascending:!1}).limit(3),{data:i}=await U.from("credit_card_payments").select("*").eq("credit_card_id",r.id).gt("payment_date",new Date().toISOString()).order("payment_date",{ascending:!0}).limit(3);return{...r,type:"credit",utilization:r.credit_limit>0?r.current_balance/r.credit_limit*100:0,recent_payments:s||[],planned_payments:i||[]}}))}async function sw(e){const{data:t,error:n}=await U.from("credit_cards").select("*").eq("id",e).single();if(n)throw n;return{...t,type:"credit",utilization:t.credit_limit>0?t.current_balance/t.credit_limit*100:0}}async function aw(e){const{data:t}=await U.auth.getUser();if(!t.user)throw new Error("User not authenticated");const{planned_payments:n,recent_payments:r,type:s,utilization:i,...l}=e,{data:o,error:c}=await U.from("credit_cards").insert({...l,user_id:t.user.id}).select().single();if(c)throw c;return{...o,type:"credit",utilization:o.credit_limit>0?o.current_balance/o.credit_limit*100:0}}async function iw(e,t){const{planned_payments:n,recent_payments:r,type:s,utilization:i,...l}=t,{data:o,error:c}=await U.from("credit_cards").update({...l,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(c)throw c;return{...o,type:"credit",utilization:o.credit_limit>0?o.current_balance/o.credit_limit*100:0}}async function lw(e){const{error:t}=await U.from("credit_cards").delete().eq("id",e);if(t)throw t;return!0}async function Gr(){const{data:{user:e},error:t}=await U.auth.getUser();if(t||!e)return null;const{data:n,error:r}=await U.from("user_profiles").select("*").eq("user_id",e.id).single();if(r)throw r;return n}async function ow(e){const{data:{user:t},error:n}=await U.auth.getUser();if(n||!t)throw new Error("Not authenticated");const{data:r,error:s}=await U.from("user_profiles").update({...e,updated_at:new Date().toISOString()}).eq("user_id",t.id).select().single();if(s)throw s;return r}async function cw(){const{data:e,error:t}=await U.from("spending_budgets").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle();return t?(console.error("Error fetching spending budget:",t),null):e}async function uw(e){const{data:t}=await U.auth.getUser();if(!t.user)throw new Error("User not authenticated");const{data:n,error:r}=await U.from("spending_budgets").insert({...e,user_id:t.user.id}).select().single();if(r)throw r;return n}async function Uc(){const e=await Gr(),t=await Bi(),n=await Yr(),r=(e==null?void 0:e.monthly_income)||0,s=t.reduce((u,d)=>{let h=d.amount;switch(d.frequency){case"weekly":h*=4.33;break;case"bi-weekly":h*=2.17;break;case"quarterly":h/=3;break;case"annually":h/=12;break}return u+h},0),i=n.reduce((u,d)=>u+d.minimum_payment,0),l=n.reduce((u,d)=>u+d.current_balance,0),o=r-s-i,c=r>0?l/r:0;return{income:r,total_bills:s,total_debt:l,available_income:o,debt_to_income_ratio:c}}async function dw(){const e=await Uc();if(e.available_income<=0)return{spending:0,debt_payment:0};let t=.3;e.debt_to_income_ratio>.5?t=.2:e.debt_to_income_ratio<.2&&(t=.4);const n=e.available_income*t,r=e.available_income-n;return{spending:Math.round(n),debt_payment:Math.round(r)}}const hw=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(!0),[s,i]=w.useState(""),l=nr();if(w.useEffect(()=>{(async()=>{try{r(!0);const d=await Uc();if(d===null){l("/login");return}t(d)}catch(d){if(d.message==="User not authenticated"){l("/login");return}i(d.message||"Failed to load financial summary"),console.error(d)}finally{r(!1)}})()},[l]),n)return a.jsx(re,{children:a.jsx(Ye,{className:"p-6",children:a.jsxs("div",{className:"animate-pulse flex flex-col gap-4",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(u=>a.jsx("div",{className:"h-24 bg-gray-200 rounded"},u))})]})})});if(s)return a.jsx(re,{children:a.jsx(Ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:s})]})})});if(!e)return null;const o=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),c=u=>u<=.3?"text-green-500":u<=.4?"text-yellow-500":"text-red-500";return a.jsxs(re,{children:[a.jsx($t,{children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Financial Summary"})}),a.jsxs(Ye,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Monthly Income"}),a.jsx(ge,{className:"h-5 w-5 text-green-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(e.income)})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Monthly Bills"}),a.jsx(Dc,{className:"h-5 w-5 text-blue-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(e.total_bills)})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Debt"}),a.jsx(vt,{className:"h-5 w-5 text-purple-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(e.total_debt)})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Available Income"}),a.jsx(Wt,{className:"h-5 w-5 text-indigo-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(e.available_income)})]})]}),a.jsxs("div",{className:"mt-6 bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"flex justify-between items-center mb-2",children:a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Debt-to-Income Ratio"})}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs("p",{className:`text-2xl font-bold ${c(e.debt_to_income_ratio)}`,children:[(e.debt_to_income_ratio*100).toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:e.debt_to_income_ratio<=.3?"Healthy":e.debt_to_income_ratio<=.4?"Moderate":"High"})]}),a.jsx("div",{className:"mt-2 h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${c(e.debt_to_income_ratio)}`,style:{width:`${Math.min(e.debt_to_income_ratio*100,100)}%`}})}),a.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Debt-to-income ratio measures your monthly debt payments compared to your income. Generally, a DTI ratio of 30% or less is considered healthy."})]})]})]})},mw=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState("");if(w.useEffect(()=>{(async()=>{try{r(!0);const m=await Yr();t(m)}catch(m){i(m.message||"Failed to load credit cards"),console.error(m)}finally{r(!1)}})()},[]),n)return a.jsxs(re,{children:[a.jsx($t,{children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Credit Cards"})}),a.jsx(Ye,{children:a.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(h=>a.jsx("div",{className:"h-20 bg-gray-200 rounded"},h))})})]});if(s)return a.jsx(re,{children:a.jsx(Ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:s})]})})});if(e.length===0)return a.jsxs(re,{children:[a.jsx($t,{children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Credit Cards"})}),a.jsxs(Ye,{className:"text-center py-8",children:[a.jsx(vt,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No credit cards found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Add your credit cards to track balances and plan payoffs"}),a.jsx(Cn,{to:"/credit-cards/new",children:a.jsx(W,{variant:"primary",children:"Add Credit Card"})})]})]});const l=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),o=h=>h<=30?"bg-green-500":h<=50?"bg-yellow-500":"bg-red-500",c=e.reduce((h,m)=>h+m.current_balance,0),u=e.reduce((h,m)=>h+m.credit_limit,0),d=u>0?c/u*100:0;return a.jsxs(re,{children:[a.jsxs($t,{className:"flex flex-row justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Credit Cards"}),a.jsx(Cn,{to:"/credit-cards",children:a.jsx(W,{variant:"ghost",size:"sm",children:"View All"})})]}),a.jsx(Ye,{children:a.jsx("div",{className:"space-y-4",children:e.slice(0,3).map(h=>{var m;return a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:h.name}),a.jsx("span",{className:"text-sm font-medium text-gray-500",children:l(h.current_balance)})]}),a.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${o(h.utilization||0)}`,style:{width:`${Math.min(h.utilization||0,100)}%`}})}),a.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[a.jsxs("span",{children:["Utilization: ",(m=h.utilization)==null?void 0:m.toFixed(1),"%"]}),a.jsxs("span",{children:["Limit: ",l(h.credit_limit)]})]})]},h.id)})})}),a.jsx(Rc,{className:"border-t pt-4",children:a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Balance:"}),a.jsx("span",{className:"font-medium text-gray-900",children:l(c)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Average Utilization:"}),a.jsxs("div",{className:"flex items-center",children:[d>30?a.jsx(nf,{className:"h-4 w-4 text-red-500 mr-1"}):a.jsx(tf,{className:"h-4 w-4 text-green-500 mr-1"}),a.jsxs("span",{className:d>30?"text-red-500":"text-green-500",children:[d.toFixed(1),"%"]})]})]})]})})]})};function di(e){"@babel/helpers - typeof";return di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},di(e)}function Pt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function te(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ae(e){te(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||di(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ht(e,t){te(2,arguments);var n=ae(e),r=Pt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Ve(e,t){te(2,arguments);var n=ae(e),r=Pt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var l=i.getDate();return s>=l?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function fw(e,t){te(2,arguments);var n=ae(e).getTime(),r=Pt(t);return new Date(n+r)}var pw={};function qi(){return pw}function Oo(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Lr(e){te(1,arguments);var t=ae(e);return t.setHours(0,0,0,0),t}var yw=864e5;function gw(e,t){te(2,arguments);var n=Lr(e),r=Lr(t),s=n.getTime()-Oo(n),i=r.getTime()-Oo(r);return Math.round((s-i)/yw)}function bd(e,t){te(2,arguments);var n=Pt(t),r=n*7;return Ht(e,r)}function bl(e,t){te(2,arguments);var n=ae(e),r=ae(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}var Df=6e4,Mf=36e5;function xw(e,t){te(2,arguments);var n=Lr(e),r=Lr(t);return n.getTime()===r.getTime()}function vw(e){return te(1,arguments),e instanceof Date||di(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Of(e){if(te(1,arguments),!vw(e)&&typeof e!="number")return!1;var t=ae(e);return!isNaN(Number(t))}function ww(e,t){te(2,arguments);var n=ae(e),r=ae(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Nd(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Af(e,t){te(2,arguments);var n=ae(e),r=ae(t),s=Nd(n,r),i=Math.abs(gw(n,r));n.setDate(n.getDate()-s*i);var l=+(Nd(n,r)===-s),o=s*(i-l);return o===0?0:o}function _w(e){te(1,arguments);var t=ae(e);return t.setHours(23,59,59,999),t}function Hs(e){te(1,arguments);var t=ae(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function jw(e){te(1,arguments);var t=ae(e);return _w(t).getTime()===Hs(t).getTime()}function ba(e,t){te(2,arguments);var n=ae(e),r=ae(t),s=bl(n,r),i=Math.abs(ww(n,r)),l;if(i<1)l=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var o=bl(n,r)===-s;jw(ae(e))&&i===1&&bl(e,r)===1&&(o=!1),l=s*(i-Number(o))}return l===0?0:l}function hi(e){te(1,arguments);var t=ae(e);return t.setDate(1),t.setHours(0,0,0,0),t}function bw(e,t){te(2,arguments);var n=Pt(t);return fw(e,-n)}var Nw=864e5;function kw(e){te(1,arguments);var t=ae(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/Nw)+1}function mi(e){te(1,arguments);var t=1,n=ae(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function $f(e){te(1,arguments);var t=ae(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=mi(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var l=mi(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function Sw(e){te(1,arguments);var t=$f(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=mi(n);return r}var Cw=6048e5;function Pw(e){te(1,arguments);var t=ae(e),n=mi(t).getTime()-Sw(t).getTime();return Math.round(n/Cw)+1}function fi(e,t){var n,r,s,i,l,o,c,u;te(1,arguments);var d=qi(),h=Pt((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ae(e),p=m.getUTCDay(),g=(p<h?7:0)+p-h;return m.setUTCDate(m.getUTCDate()-g),m.setUTCHours(0,0,0,0),m}function If(e,t){var n,r,s,i,l,o,c,u;te(1,arguments);var d=ae(e),h=d.getUTCFullYear(),m=qi(),p=Pt((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,p),g.setUTCHours(0,0,0,0);var v=fi(g,t),j=new Date(0);j.setUTCFullYear(h,0,p),j.setUTCHours(0,0,0,0);var x=fi(j,t);return d.getTime()>=v.getTime()?h+1:d.getTime()>=x.getTime()?h:h-1}function Ew(e,t){var n,r,s,i,l,o,c,u;te(1,arguments);var d=qi(),h=Pt((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=If(e,t),p=new Date(0);p.setUTCFullYear(m,0,h),p.setUTCHours(0,0,0,0);var g=fi(p,t);return g}var Tw=6048e5;function Dw(e,t){te(1,arguments);var n=ae(e),r=fi(n,t).getTime()-Ew(n,t).getTime();return Math.round(r/Tw)+1}function ie(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var tn={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return ie(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):ie(r+1,2)},d:function(t,n){return ie(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return ie(t.getUTCHours()%12||12,n.length)},H:function(t,n){return ie(t.getUTCHours(),n.length)},m:function(t,n){return ie(t.getUTCMinutes(),n.length)},s:function(t,n){return ie(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return ie(i,n.length)}},or={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Mw={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return tn.y(t,n)},Y:function(t,n,r,s){var i=If(t,s),l=i>0?i:1-i;if(n==="YY"){var o=l%100;return ie(o,2)}return n==="Yo"?r.ordinalNumber(l,{unit:"year"}):ie(l,n.length)},R:function(t,n){var r=$f(t);return ie(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return ie(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return ie(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return ie(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return tn.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return ie(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=Dw(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):ie(i,n.length)},I:function(t,n,r){var s=Pw(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):ie(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):tn.d(t,n)},D:function(t,n,r){var s=kw(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ie(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),l=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(l);case"ee":return ie(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),l=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(l);case"cc":return ie(l,n.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return ie(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=or.noon:s===0?i=or.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=or.evening:s>=12?i=or.afternoon:s>=4?i=or.morning:i=or.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return tn.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):tn.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ie(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):ie(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):tn.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):tn.s(t,n)},S:function(t,n){return tn.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,l=i.getTimezoneOffset();if(l===0)return"Z";switch(n){case"X":return Sd(l);case"XXXX":case"XX":return In(l);case"XXXXX":case"XXX":default:return In(l,":")}},x:function(t,n,r,s){var i=s._originalDate||t,l=i.getTimezoneOffset();switch(n){case"x":return Sd(l);case"xxxx":case"xx":return In(l);case"xxxxx":case"xxx":default:return In(l,":")}},O:function(t,n,r,s){var i=s._originalDate||t,l=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+kd(l,":");case"OOOO":default:return"GMT"+In(l,":")}},z:function(t,n,r,s){var i=s._originalDate||t,l=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+kd(l,":");case"zzzz":default:return"GMT"+In(l,":")}},t:function(t,n,r,s){var i=s._originalDate||t,l=Math.floor(i.getTime()/1e3);return ie(l,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,l=i.getTime();return ie(l,n.length)}};function kd(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var l=t;return n+String(s)+l+ie(i,2)}function Sd(e,t){if(e%60===0){var n=e>0?"-":"+";return n+ie(Math.abs(e)/60,2)}return In(e,t)}function In(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=ie(Math.floor(s/60),2),l=ie(s%60,2);return r+i+n+l}var Cd=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Rf=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Ow=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return Cd(t,n);var l;switch(s){case"P":l=n.dateTime({width:"short"});break;case"PP":l=n.dateTime({width:"medium"});break;case"PPP":l=n.dateTime({width:"long"});break;case"PPPP":default:l=n.dateTime({width:"full"});break}return l.replace("{{date}}",Cd(s,n)).replace("{{time}}",Rf(i,n))},Aw={p:Rf,P:Ow},$w=["D","DD"],Iw=["YY","YYYY"];function Rw(e){return $w.indexOf(e)!==-1}function Uw(e){return Iw.indexOf(e)!==-1}function Pd(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Lw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fw=function(t,n,r){var s,i=Lw[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Nl(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var zw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ww={date:Nl({formats:zw,defaultWidth:"full"}),time:Nl({formats:Bw,defaultWidth:"full"}),dateTime:Nl({formats:qw,defaultWidth:"full"})},Hw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vw=function(t,n,r,s){return Hw[t]};function as(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{var o=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[o]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var Yw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zw=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},e_={ordinalNumber:Zw,era:as({values:Yw,defaultWidth:"wide"}),quarter:as({values:Gw,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:as({values:Qw,defaultWidth:"wide"}),day:as({values:Kw,defaultWidth:"wide"}),dayPeriod:as({values:Jw,defaultWidth:"wide",formattingValues:Xw,defaultFormattingWidth:"wide"})};function is(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var l=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?n_(o,function(h){return h.test(l)}):t_(o,function(h){return h.test(l)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(l.length);return{value:u,rest:d}}}function t_(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function n_(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function r_(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var l=e.valueCallback?e.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;var o=t.slice(s.length);return{value:l,rest:o}}}var s_=/^(\d+)(th|st|nd|rd)?/i,a_=/\d+/i,i_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l_={any:[/^b/i,/^(a|c)/i]},o_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c_={any:[/1/i,/2/i,/3/i,/4/i]},u_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},d_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},f_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},y_={ordinalNumber:r_({matchPattern:s_,parsePattern:a_,valueCallback:function(t){return parseInt(t,10)}}),era:is({matchPatterns:i_,defaultMatchWidth:"wide",parsePatterns:l_,defaultParseWidth:"any"}),quarter:is({matchPatterns:o_,defaultMatchWidth:"wide",parsePatterns:c_,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:is({matchPatterns:u_,defaultMatchWidth:"wide",parsePatterns:d_,defaultParseWidth:"any"}),day:is({matchPatterns:h_,defaultMatchWidth:"wide",parsePatterns:m_,defaultParseWidth:"any"}),dayPeriod:is({matchPatterns:f_,defaultMatchWidth:"any",parsePatterns:p_,defaultParseWidth:"any"})},g_={code:"en-US",formatDistance:Fw,formatLong:Ww,formatRelative:Vw,localize:e_,match:y_,options:{weekStartsOn:0,firstWeekContainsDate:1}},x_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w_=/^'([^]*?)'?$/,__=/''/g,j_=/[a-zA-Z]/;function H(e,t,n){var r,s,i,l,o,c,u,d,h,m,p,g,v,j;te(2,arguments);var x=String(t),f=qi(),y=(r=(s=void 0)!==null&&s!==void 0?s:f.locale)!==null&&r!==void 0?r:g_,_=Pt((i=(l=(o=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&o!==void 0?o:f.firstWeekContainsDate)!==null&&l!==void 0?l:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=Pt((h=(m=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:f.weekStartsOn)!==null&&m!==void 0?m:(v=f.locale)===null||v===void 0||(j=v.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&h!==void 0?h:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!y.localize)throw new RangeError("locale must contain localize property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");var b=ae(e);if(!Of(b))throw new RangeError("Invalid time value");var S=Oo(b),T=bw(b,S),F={firstWeekContainsDate:_,weekStartsOn:N,locale:y,_originalDate:b},C=x.match(v_).map(function(E){var z=E[0];if(z==="p"||z==="P"){var X=Aw[z];return X(E,y.formatLong)}return E}).join("").match(x_).map(function(E){if(E==="''")return"'";var z=E[0];if(z==="'")return b_(E);var X=Mw[z];if(X)return Uw(E)&&Pd(E,t,String(e)),Rw(E)&&Pd(E,t,String(e)),X(T,E,y.localize,F);if(z.match(j_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");return E}).join("");return C}function b_(e){var t=e.match(w_);return t?t[1].replace(__,"'"):e}function pi(e,t){te(2,arguments);var n=ae(e),r=ae(t);return n.getTime()>r.getTime()}function Fr(e,t){te(2,arguments);var n=ae(e),r=ae(t);return n.getTime()<r.getTime()}function N_(e){return te(1,arguments),ae(e).getTime()<Date.now()}function Vt(e){return te(1,arguments),xw(e,Date.now())}function L(e,t){var n;te(1,arguments);var r=Pt((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=P_(e),i;if(s.date){var l=E_(s.date,r);i=T_(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),c=0,u;if(s.time&&(c=D_(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(u=M_(s.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(o+c),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(o+c+u)}var Na={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},k_=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,S_=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,C_=/^([+-])(\d{2})(?::?(\d{2}))?$/;function P_(e){var t={},n=e.split(Na.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Na.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Na.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=Na.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function E_(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function T_(e,t){if(t===null)return new Date(NaN);var n=e.match(k_);if(!n)return new Date(NaN);var r=!!n[4],s=ls(n[1]),i=ls(n[2])-1,l=ls(n[3]),o=ls(n[4]),c=ls(n[5])-1;if(r)return R_(t,o,c)?O_(t,o,c):new Date(NaN);var u=new Date(0);return!$_(t,i,l)||!I_(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,l)),u)}function ls(e){return e?parseInt(e):1}function D_(e){var t=e.match(S_);if(!t)return NaN;var n=kl(t[1]),r=kl(t[2]),s=kl(t[3]);return U_(n,r,s)?n*Mf+r*Df+s*1e3:NaN}function kl(e){return e&&parseFloat(e.replace(",","."))||0}function M_(e){if(e==="Z")return 0;var t=e.match(C_);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return L_(r,s)?n*(r*Mf+s*Df):NaN}function O_(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var A_=[31,null,31,30,31,30,31,31,30,31,30,31];function Uf(e){return e%400===0||e%4===0&&e%100!==0}function $_(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(A_[t]||(Uf(e)?29:28))}function I_(e,t){return t>=1&&t<=(Uf(e)?366:365)}function R_(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function U_(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function L_(e,t){return t>=0&&t<=59}const F_=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(""),l=nr();if(w.useEffect(()=>{(async()=>{const h=new Date,m=H(h,"yyyy-MM-dd"),p=H(Ht(h,30),"yyyy-MM-dd");try{r(!0);const g=await Tf(m,p);t(g)}catch(g){if(g.message==="User not authenticated"){l("/login");return}i(g.message||"Failed to load upcoming bills"),console.error(g)}finally{r(!1)}})()},[l]),n)return a.jsxs(re,{children:[a.jsx($t,{children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Upcoming Bills"})}),a.jsx(Ye,{children:a.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3,4].map(d=>a.jsx("div",{className:"h-16 bg-gray-200 rounded"},d))})})]});if(s)return a.jsx(re,{children:a.jsx(Ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:s})]})})});if(e.length===0)return a.jsxs(re,{children:[a.jsx($t,{children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Upcoming Bills"})}),a.jsxs(Ye,{className:"text-center py-8",children:[a.jsx(Oe,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No upcoming bills"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Add your bills to track upcoming payments"}),a.jsx(Cn,{to:"/bills/new",children:a.jsx(W,{variant:"primary",children:"Add Bill"})})]})]});const o=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),c=d=>{const h=new Date(d);return N_(h)&&!Vt(h)?"text-red-500":Vt(h)?"text-yellow-500":"text-green-500"},u=e.reduce((d,h)=>d+h.amount,0);return a.jsxs(re,{children:[a.jsxs($t,{className:"flex flex-row justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Upcoming Bills"}),a.jsx(Cn,{to:"/bills",children:a.jsx(W,{variant:"ghost",size:"sm",children:"View All"})})]}),a.jsx(Ye,{children:a.jsx("div",{className:"space-y-3",children:e.slice(0,5).map(d=>{var p,g;const h=new Date(d.due_date),m=c(d.due_date);return a.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:((p=d.category)==null?void 0:p.color)||"#9CA3AF"}}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:d.name}),a.jsx("p",{className:"text-xs text-gray-500",children:(g=d.category)==null?void 0:g.name})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium",children:o(d.amount)}),a.jsx("p",{className:`text-xs ${m}`,children:H(h,"MMM d, yyyy")})]})]},d.id)})})}),a.jsx(Rc,{className:"border-t pt-4",children:a.jsxs("div",{className:"w-full flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Upcoming:"}),a.jsx("span",{className:"font-medium text-gray-900",children:o(u)})]})})]})};async function Lf(){const{data:e,error:t}=await U.from("payoff_plans").select("*").order("created_at",{ascending:!1});if(t)throw t;const n=e;return await Promise.all(n.map(async s=>{const i=await Promise.all(s.cards.map(o=>sw(o))),l=z_(i,s.strategy,s.monthly_payment,s.target_months);return{...s,selected_cards:i,payoff_timeline:l}}))}function z_(e,t,n,r){const s=e.map(m=>({...m,currentBalance:m.current_balance,monthlyInterestRate:m.interest_rate/100/12}));switch(t){case"highest_interest":s.sort((m,p)=>p.interest_rate-m.interest_rate);break;case"lowest_balance":s.sort((m,p)=>m.current_balance-p.current_balance);break;case"highest_balance":s.sort((m,p)=>p.current_balance-m.current_balance);break}const i=s.reduce((m,p)=>m+p.minimum_payment,0),l=Math.max(n,i),o={};s.forEach(m=>{o[m.id]=[]});let c=0,u=0,d=s.reduce((m,p)=>m+p.currentBalance,0);for(;d>0&&c<360;){c++;let m=l;s.forEach(p=>{if(p.currentBalance<=0)return;const g=p.currentBalance*p.monthlyInterestRate;u+=g;const v=Math.min(p.minimum_payment,p.currentBalance+g);p.currentBalance=p.currentBalance+g-v,m-=v,o[p.id].push(v)});for(const p of s){if(p.currentBalance<=0||m<=0)continue;const g=Math.min(m,p.currentBalance);p.currentBalance-=g,m-=g;const v=o[p.id].length-1;if(o[p.id][v]+=g,m<=0)break}d=s.reduce((p,g)=>p+g.currentBalance,0)}const h=s.map(m=>({card_id:m.id,card_name:m.name,months_to_payoff:o[m.id].length,interest_paid:o[m.id].reduce((p,g)=>p+g,0)-m.current_balance,monthly_payments:o[m.id]}));return{total_months:c,total_interest:u,cards:h}}const B_=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState("");if(w.useEffect(()=>{(async()=>{try{r(!0);const u=await Lf();t(u)}catch(u){i(u.message||"Failed to load payoff plans"),console.error(u)}finally{r(!1)}})()},[]),n)return a.jsxs(re,{children:[a.jsx($t,{children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Payoff Progress"})}),a.jsx(Ye,{children:a.jsx("div",{className:"animate-pulse space-y-4",children:[1,2].map(c=>a.jsx("div",{className:"h-24 bg-gray-200 rounded"},c))})})]});if(s)return a.jsx(re,{children:a.jsx(Ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:s})]})})});if(e.length===0)return a.jsxs(re,{children:[a.jsx($t,{children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Payoff Progress"})}),a.jsxs(Ye,{className:"text-center py-8",children:[a.jsx(Zm,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No payoff plans"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Create a plan to pay off your credit cards"}),a.jsx(Cn,{to:"/payoff-plans/new",children:a.jsx(W,{variant:"primary",children:"Create Payoff Plan"})})]})]});const l=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c),o=c=>{switch(c){case"highest_interest":return"Highest Interest First";case"lowest_balance":return"Snowball (Lowest Balance First)";case"highest_balance":return"Highest Balance First";case"custom":return"Custom Order";default:return c}};return a.jsxs(re,{children:[a.jsxs($t,{className:"flex flex-row justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Payoff Progress"}),a.jsx(Cn,{to:"/payoff-plans",children:a.jsx(W,{variant:"ghost",size:"sm",children:"View All"})})]}),a.jsx(Ye,{children:a.jsx("div",{className:"space-y-6",children:e.slice(0,2).map(c=>{var u;return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:c.name}),a.jsx("span",{className:"text-sm text-gray-500",children:o(c.strategy)})]}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[a.jsx("span",{children:"Monthly Payment"}),a.jsx("span",{className:"font-medium text-gray-900",children:l(c.monthly_payment)})]}),c.payoff_timeline&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gn,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:"Time to payoff"})]}),a.jsxs("span",{className:"font-medium text-gray-900",children:[c.payoff_timeline.total_months," months"]})]}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[a.jsx("span",{children:"Total interest"}),a.jsx("span",{className:"font-medium text-gray-900",children:l(c.payoff_timeline.total_interest)})]}),a.jsx("div",{className:"mt-3 space-y-2",children:(u=c.selected_cards)==null?void 0:u.map(d=>{var m;const h=(m=c.payoff_timeline)==null?void 0:m.cards.find(p=>p.card_id===d.id);return a.jsxs("div",{className:"text-xs flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[(h==null?void 0:h.months_to_payoff)===0?a.jsx(ci,{className:"h-3 w-3 text-green-500 mr-1"}):a.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500 mr-1"}),a.jsx("span",{className:"text-gray-700",children:d.name})]}),a.jsxs("span",{className:"text-gray-500",children:[(h==null?void 0:h.months_to_payoff)||0," months left"]})]},d.id)})})]})]},c.id)})})}),e.length>2&&a.jsx(Rc,{className:"border-t pt-4",children:a.jsx("div",{className:"w-full text-center",children:a.jsxs("span",{className:"text-sm text-gray-500",children:[e.length-2," more ",e.length-2===1?"plan":"plans"," not shown"]})})})]})};async function ta(){const{data:e,error:t}=await U.from("debit_cards").select("*").order("is_primary",{ascending:!1}).order("name");if(t)throw t;return e}async function q_(e){const{data:t}=await U.auth.getUser();if(!t.user)throw new Error("User not authenticated");const{data:n,error:r}=await U.from("debit_cards").insert({...e,user_id:t.user.id}).select().single();if(r)throw r;return n}async function W_(e,t){const{data:n,error:r}=await U.from("debit_cards").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return n}async function H_(e){const{error:t}=await U.from("debit_cards").delete().eq("id",e);if(t)throw t;return!0}async function Lc(){const{data:e}=await U.auth.getUser();if(!e.user)throw new Error("User not authenticated");const{data:t,error:n}=await U.from("paychecks").select("*").order("payment_date",{ascending:!0});if(n)throw n;return t}async function V_(){const{data:e}=await U.auth.getUser();if(!e.user)throw new Error("User not authenticated");const{data:t,error:n}=await U.from("paychecks").select("*").gte("payment_date",new Date().toISOString().split("T")[0]).order("payment_date",{ascending:!0});if(n)throw n;return t}async function Fc(){var l;const{data:e}=await U.auth.getUser();if(!e.user)throw new Error("User not authenticated");const t=new Date().toISOString().split("T")[0],{data:n,error:r}=await U.from("paychecks").select("payment_date").gt("payment_date",t).order("payment_date",{ascending:!0}).limit(1);if(r)throw r;if(!((l=n==null?void 0:n[0])!=null&&l.payment_date))return null;const s=n[0].payment_date,i=L(s);return Of(i)?H(i,"yyyy-MM-dd"):(console.error(`Invalid date found in database: ${s}`),null)}function Ff(e){const t=new Date;let n=null,r=null;switch(e.income_frequency){case"weekly":{const s=Ht(t,-7);r=Ht(t,7),n=s;break}case"bi-weekly":{const s=bd(t,-2);r=bd(t,2),n=s;break}case"bi-monthly":{const s=new Date(t.getFullYear(),t.getMonth(),15),i=Hs(t),l=new Date(t.getFullYear(),t.getMonth()+1,15),o=Hs(Ve(t,-1));t.getDate()<15?(n=o,r=s):t.getDate()===15||t.getDate()>15&&t.getDate()<i.getDate()?(n=s,r=i):(n=i,r=l);break}case"monthly":{const s=Ve(t,-1);r=Ve(t,1),n=s;break}case"specific-date":{if(e.income_day){const s=t.getMonth(),i=t.getFullYear(),l=new Date(i,s-1,e.income_day),o=new Date(i,s,e.income_day),c=new Date(i,s+1,e.income_day);Fr(t,o)?(n=l,r=o):(n=o,r=c)}break}}return{lastPayDate:n,nextPayDate:r}}const sn=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},Ao=(e,t,n)=>{if(!e.start_date)return[];const r=sn(L(e.start_date)),s=e.end_date?sn(L(e.end_date)):null,i=sn(t),l=sn(n);if(s&&s<i)return[];const o=[],c=s&&s<l?s:l;switch(e.recurrence_interval){case"weekly":{let u=new Date(r);for(;u<=c;)u>=i&&u<=c&&o.push(new Date(u)),u=Ht(u,7);break}case"bi-weekly":{let u=new Date(r);for(;u<=c;)u>=i&&u<=c&&o.push(new Date(u)),u=Ht(u,14);break}case"monthly":{if(e.recurrence_day){let u=new Date(r);for(;u<=c;){if(u>=i){const d=sn(new Date(u.getFullYear(),u.getMonth(),e.recurrence_day));d>=i&&d<=c&&o.push(new Date(d))}u=Ve(u,1)}}break}case"quarterly":{if(e.recurrence_day){let u=new Date(r);for(;u<=c;){if(u>=i){const d=sn(new Date(u.getFullYear(),u.getMonth(),e.recurrence_day));d>=i&&d<=c&&o.push(new Date(d))}u=Ve(u,3)}}break}case"yearly":{let u=new Date(r);for(;u<=c;)u>=i&&u<=c&&o.push(sn(new Date(u))),u=Ve(u,12);break}}return o},yi=(e,t,n,r)=>{const s=hi(r),i=Hs(r),l=[];return e.forEach(o=>{if(o.bill_type==="one-time"){const c=sn(L(o.due_date));c>=s&&c<=i&&l.push(o)}else Ao(o,s,i).forEach(u=>{l.push({...o,due_date:H(u,"yyyy-MM-dd")})})}),t.forEach(o=>{var c;if(o.payment_frequency&&o.payment_amount>0){const u={id:`cc-payment-${o.id}`,user_id:o.user_id,name:`${o.name} Payment`,amount:o.payment_amount,due_date:o.due_date,category_id:((c=n.find(h=>h.name==="Credit Card"))==null?void 0:c.id)||"",bill_type:"recurring",frequency:o.payment_frequency,is_autopay:o.is_autopay,card_id:o.id,notes:`Automatic payment for ${o.bank_name} credit card`,recurrence_interval:o.payment_frequency,start_date:o.payment_start_date||void 0,end_date:o.payment_end_date||void 0,recurrence_day:o.payment_day||void 0,recurrence_week_day:o.payment_week_day||void 0,created_at:o.created_at,updated_at:o.updated_at,category:n.find(h=>h.name==="Credit Card"),card:{...o,type:"credit"}};Ao(u,s,i).forEach(h=>{l.push({...u,due_date:H(h,"yyyy-MM-dd")})})}}),l},Y_=({isExpanded:e,onToggle:t})=>{const[n,r]=w.useState([]),[s,i]=w.useState([]),[l,o]=w.useState(null),[c,u]=w.useState([]),[d,h]=w.useState([]),[m,p]=w.useState([]),[g,v]=w.useState(!0),[j,x]=w.useState(""),[f,y]=w.useState(null),[_,N]=w.useState([]);if(w.useEffect(()=>{(async()=>{try{v(!0);const I=new Date,P=Ht(I,30),{data:O,error:q}=await U.from("credit_card_payments").select("*, credit_card:credit_cards(name)").gt("payment_date",H(I,"yyyy-MM-dd")).lte("payment_date",H(P,"yyyy-MM-dd")).order("payment_date",{ascending:!0});if(q)throw q;const[V,G,ce,Te,pe]=await Promise.all([ta(),Yr(),Gr(),Tf(H(I,"yyyy-MM-dd"),H(P,"yyyy-MM-dd")),Lc()]);r(V),i(G),o(ce),u(Te),h(O||[]),p(pe)}catch(I){x(I.message||"Failed to load overview data")}finally{v(!1)}})()},[]),g)return a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})});if(j)return a.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg text-sm",children:j});const b=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(k),S=n.reduce((k,I)=>k+I.available_balance,0);l&&Ff(l),[...c].sort((k,I)=>{const P=L(k.due_date),O=L(I.due_date);return P.getTime()-O.getTime()});const T=[...d].sort((k,I)=>{const P=L(k.payment_date),O=L(I.payment_date);return P.getTime()-O.getTime()}),F=new Date,C=Ht(F,30),E=[];c.forEach(k=>{if(k.bill_type==="one-time"){const I=L(k.due_date);I>=F&&I<=C&&E.push(k)}else k.bill_type==="recurring"&&Ao(k,F,C).forEach(P=>{E.push({...k,due_date:H(P,"yyyy-MM-dd")})})});const z=E.sort((k,I)=>{const P=L(k.due_date),O=L(I.due_date);return P.getTime()-O.getTime()}),X=m.filter(k=>{const I=L(k.payment_date);return(pi(I,F)||Vt(I))&&Fr(I,C)}).sort((k,I)=>L(k.payment_date).getTime()-L(I.payment_date).getTime()),oe=z.reduce((k,I)=>k+I.amount,0),je=T.reduce((k,I)=>k+I.amount,0),Se=X.reduce((k,I)=>k+I.amount,0),be=oe+je,$=S+Se,A=$-be,R=k=>{y(f===k?null:k)},M=k=>{N(I=>I.includes(k)?I.filter(P=>P!==k):[...I,k])};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:t,children:[a.jsx("h2",{className:"text-3xl font-bold text-[#1e293b] mb-2",children:"30-Day Financial Projection"}),e?a.jsx(Be,{className:"h-6 w-6 text-[#f97316]"}):a.jsx(Ie,{className:"h-6 w-6 text-[#f97316]"})]}),e&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-gray-200 hover:shadow-lg transition-all cursor-pointer overflow-hidden",onClick:()=>R("funds"),children:[a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-[#1e293b] p-2 rounded-xl",children:a.jsx(Nn,{className:"text-[#f97316] h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-[#1e293b]",children:"Available Funds"}),a.jsx("p",{className:"text-2xl font-bold text-[#1e293b]",children:b(S)})]})]}),f==="funds"?a.jsx(Be,{className:"h-6 w-6 text-[#f97316]"}):a.jsx(Ie,{className:"h-6 w-6 text-[#f97316]"})]})}),f==="funds"&&a.jsx("div",{className:"border-t border-gray-100 bg-gray-50 p-5 space-y-2",children:n.map(k=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-[#1e293b]",children:k.name}),a.jsx("span",{className:"font-medium text-[#1e293b]",children:b(k.available_balance)})]},k.id))})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-gray-200 hover:shadow-lg transition-all cursor-pointer overflow-hidden",onClick:()=>R("income"),children:[a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-[#1e293b] p-2 rounded-xl",children:a.jsx(ge,{className:"text-[#f97316] h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-[#1e293b]",children:"Expected Income"}),a.jsx("p",{className:"text-2xl font-bold text-[#1e293b]",children:b(Se)})]})]}),f==="income"?a.jsx(Be,{className:"h-6 w-6 text-[#f97316]"}):a.jsx(Ie,{className:"h-6 w-6 text-[#f97316]"})]})}),f==="income"&&a.jsx("div",{className:"border-t border-gray-100 bg-gray-50 p-5 space-y-2",children:X.map(k=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-[#1e293b] font-medium",children:H(L(k.payment_date),"MMM d")}),a.jsxs("span",{className:"text-xs text-gray-400",children:["(",k.frequency,")"]})]}),a.jsx("span",{className:"font-medium text-[#1e293b]",children:b(k.amount)})]},k.id))})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-gray-200 hover:shadow-lg transition-all overflow-hidden",children:[a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-[#1e293b] p-2 rounded-xl",children:a.jsx(Dc,{className:"text-[#f97316] h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-[#1e293b]",children:"Upcoming Bills & Payments"}),a.jsx("p",{className:"text-2xl font-bold text-[#1e293b]",children:b(be)})]})]}),f==="bills"?a.jsx(Be,{className:"h-6 w-6 text-[#f97316]"}):a.jsx(Ie,{className:"h-6 w-6 text-[#f97316]"})]})}),a.jsxs("div",{className:"border-t border-gray-100 bg-gray-50 p-5 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>M("regular-bills"),children:[a.jsx("span",{className:"text-base font-semibold text-[#1e293b]",children:"Regular Bills"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-bold text-[#f97316]",children:b(oe)}),_.includes("regular-bills")?a.jsx(Be,{className:"h-5 w-5 text-[#f97316]"}):a.jsx(Ie,{className:"h-5 w-5 text-[#f97316]"})]})]}),_.includes("regular-bills")&&a.jsx("div",{className:"mt-2 space-y-2 pl-4",children:z.map(k=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-[#1e293b] font-medium",children:k.name}),a.jsx("span",{className:"text-xs bg-[#f97316] text-white px-2 py-0.5 rounded-full",children:H(L(k.due_date),"MMM d")})]}),a.jsx("span",{className:"text-[#1e293b] font-semibold",children:b(k.amount)})]},k.id+k.due_date))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>M("credit-payments"),children:[a.jsx("span",{className:"text-base font-semibold text-[#1e293b]",children:"Credit Card Payments"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-bold text-[#f97316]",children:b(je)}),_.includes("credit-payments")?a.jsx(Be,{className:"h-5 w-5 text-[#f97316]"}):a.jsx(Ie,{className:"h-5 w-5 text-[#f97316]"})]})]}),_.includes("credit-payments")&&a.jsx("div",{className:"mt-2 space-y-2 pl-4",children:T.map(k=>{var I;return a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vt,{className:"h-4 w-4 text-[#f97316]"}),a.jsx("span",{className:"text-[#1e293b] font-medium",children:((I=k.credit_card)==null?void 0:I.name)||"Credit Card Payment"}),a.jsx("span",{className:"text-xs bg-[#1e293b] text-white px-2 py-0.5 rounded-full",children:H(L(k.payment_date),"MMM d")})]}),a.jsx("span",{className:"text-[#1e293b] font-semibold",children:b(k.amount)})]},k.id)})})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-[#1e293b] mb-4",children:"Expected Funds"}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-base text-gray-600",children:"Available"}),a.jsx("span",{className:"font-bold text-[#1e293b]",children:b(S)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-base text-gray-600",children:"Income"}),a.jsx("span",{className:"font-bold text-[#1e293b]",children:b(Se)})]})]}),a.jsx("div",{className:"px-6 border-l border-r border-gray-200",children:a.jsx(bo,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"block text-base text-gray-600",children:"Total"}),a.jsx("span",{className:"text-2xl font-bold text-[#1e293b]",children:b($)})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-[#1e293b] mb-4",children:"30-Day Projection"}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-base text-gray-600",children:"Expected"}),a.jsx("span",{className:"font-bold text-[#1e293b]",children:b($)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-base text-gray-600",children:"Bills & Payments"}),a.jsx("span",{className:"font-bold text-[#1e293b]",children:b(be)})]})]}),a.jsx("div",{className:"px-6 border-l border-r border-gray-200",children:a.jsx(bo,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"block text-base text-gray-600",children:"Balance"}),a.jsx("span",{className:`text-2xl font-bold ${A>=0?"text-[#1e293b]":"text-[#f97316]"}`,children:b(A)})]})]}),a.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Through ",a.jsx("span",{className:"font-semibold text-[#1e293b]",children:H(Ht(new Date,30),"MMM d, yyyy")})]})})]})]})]})]})};async function zc(){const{data:e,error:t}=await U.from("categories").select("*").order("name");if(t)throw t;return e}async function G_(e){const{data:t}=await U.auth.getUser();if(!t.user)throw new Error("User not authenticated");const{data:n,error:r}=await U.from("categories").insert({...e,user_id:t.user.id}).select().single();if(r)throw r;return n}async function Q_(e,t){const{data:n,error:r}=await U.from("categories").update(t).eq("id",e).select().single();if(r)throw r;return n}async function K_(e){const{error:t}=await U.from("categories").delete().eq("id",e);if(t)throw t;return!0}const J_=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState([]),[l,o]=w.useState([]),[c,u]=w.useState(!0),[d,h]=w.useState(""),[m,p]=w.useState([]),[g,v]=w.useState(null),[j,x]=w.useState(null),f=E=>{p(z=>z.includes(E)?z.filter(X=>X!==E):[...z,E])},y=E=>{v(z=>z===E?null:E)},_=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(E),N=E=>{const z=L(E),oe=Af(z,new Date);return Vt(z)?{label:"Due Today",className:"bg-yellow-100 text-yellow-800"}:oe<=7&&oe>0?{label:`Due in ${oe} day${oe===1?"":"s"}`,className:"bg-blue-100 text-blue-800"}:{label:H(z,"MMM d"),className:"bg-gray-100 text-gray-600"}};if(w.useEffect(()=>{(async()=>{try{if(u(!0),!await Gr())throw new Error("User profile not found. Please check your profile settings.");const X=new Date;X.setHours(0,0,0,0);const[oe,je,Se,be,$]=await Promise.all([Fc(),ta(),Bi(),Yr(),zc()]);if(!oe)throw new Error("Next pay date is not available. Please check your profile settings.");x(oe);const A=yi(Se,be,$,hi(X)),R=L(oe),M=A.filter(k=>{const I=L(k.due_date);return I>=X&&I<=R}).reduce((k,I)=>{var O;return((O=I.category)==null?void 0:O.name)!=="Credit Card"?(k.push(I),k):(k.find(q=>{var V;return((V=q.category)==null?void 0:V.name)==="Credit Card"&&q.amount===I.amount&&q.due_date===I.due_date})||k.push(I),k)},[]).sort((k,I)=>{const P=L(k.due_date),O=L(I.due_date);return P.getTime()-O.getTime()});t(je),r(M),i($),o(be)}catch(z){h(z instanceof Error?z.message:"Failed to load data")}finally{u(!1)}})()},[]),c)return a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})});if(d)return a.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg text-sm",children:d});const b=e.reduce((E,z)=>E+z.available_balance,0),S=n.reduce((E,z)=>E+z.amount,0),F=b-S,C=s.map(E=>{const z=n.filter(oe=>oe.category_id===E.id),X=z.reduce((oe,je)=>oe+je.amount,0);return{...E,total:X,bills:z}}).filter(E=>E.bills.length>0);return a.jsx("div",{className:"flex justify-center w-full",children:a.jsxs("div",{className:"w-full max-w-2xl space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h2",{className:"text-3xl font-bold text-[#1e293b]",children:"Next Paycheck Overview"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-base text-gray-600",children:"Next Paycheck:"}),a.jsx("span",{className:"text-xl font-semibold text-[#f97316]",children:j?H(L(j),"MMM d, yyyy"):"Not scheduled"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(re,{className:"p-6 bg-white rounded-2xl shadow-md border border-gray-200",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-2 cursor-pointer",onClick:()=>y("funds"),children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-[#1e293b]",children:"Available Funds"}),a.jsx("p",{className:"text-base text-gray-600",children:"Current balance across all debit cards"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-xl font-bold text-[#1e293b]",children:_(b)})}),g==="funds"?a.jsx(Be,{className:"h-6 w-6 text-[#f97316]"}):a.jsx(Ie,{className:"h-6 w-6 text-[#f97316]"})]})]}),a.jsx("div",{className:"flex justify-between items-center text-base",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:"Total Available:"}),a.jsx("span",{className:"text-[#1e293b] font-semibold",children:_(b)})]})}),g==="funds"&&a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsx("h4",{className:"font-semibold text-[#1e293b]",children:"Card Balances:"}),e.map(E=>a.jsxs("div",{className:"flex justify-between items-center pl-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nn,{className:"h-4 w-4 text-[#1e293b]"}),a.jsx("span",{className:"text-[#1e293b]",children:E.name})]}),a.jsx("span",{className:"text-[#1e293b] font-medium",children:_(E.available_balance)})]},E.id))]})]})}),a.jsx(re,{className:"p-6 bg-white rounded-2xl shadow-md border border-gray-200",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-2 cursor-pointer",onClick:()=>y("bills"),children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-[#1e293b]",children:"Upcoming Bills"}),a.jsx("p",{className:"text-base text-gray-600",children:"Due before next pay date"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-xl font-bold text-[#f97316]",children:_(S)})}),g==="bills"?a.jsx(Be,{className:"h-6 w-6 text-[#f97316]"}):a.jsx(Ie,{className:"h-6 w-6 text-[#f97316]"})]})]}),a.jsxs("div",{className:"flex justify-between items-center text-base",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:"Total Bills:"}),a.jsx("span",{className:"text-[#f97316] font-semibold",children:_(S)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:"Remaining Balance:"}),a.jsx("span",{className:`font-semibold ${F>=0?"text-[#1e293b]":"text-[#f97316]"}`,children:_(F)})]})]}),g==="bills"&&a.jsx("div",{className:"mt-4 space-y-4",children:C.map(E=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>f(E.id),children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:E.color}}),a.jsx("span",{className:"text-base font-semibold text-[#1e293b]",children:E.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["(",E.bills.length," bills)"]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"font-semibold text-[#1e293b]",children:_(E.total)}),m.includes(E.id)?a.jsx(Be,{className:"h-5 w-5 text-[#f97316]"}):a.jsx(Ie,{className:"h-5 w-5 text-[#f97316]"})]})]}),m.includes(E.id)&&a.jsx("div",{className:"mt-2 space-y-2 pl-4",children:E.bills.map(z=>{const X=N(z.due_date);return a.jsxs("div",{className:"flex justify-between items-center text-base",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-[#1e293b] font-medium",children:z.name}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${X.className}`,children:X.label})]}),a.jsx("span",{className:"text-[#1e293b] font-semibold",children:_(z.amount)})]},z.id+z.due_date)})})]},E.id))})]})}),a.jsx(re,{className:"p-6 bg-white rounded-2xl shadow-md border border-gray-200",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-b pb-2",children:[a.jsx("h3",{className:"text-lg font-bold text-[#1e293b]",children:"Projection"}),a.jsx("p",{className:"text-base text-gray-600",children:"Financial outlook until next pay date"})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-base text-gray-600",children:"Available Funds"}),a.jsx("span",{className:"font-bold text-[#1e293b]",children:_(b)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-base text-gray-600",children:"Upcoming Bills"}),a.jsx("span",{className:"font-bold text-[#f97316]",children:_(S)})]})]}),a.jsx("div",{className:"px-6 border-l border-r border-gray-200",children:a.jsx(bo,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"block text-base text-gray-600",children:"Projected Balance"}),a.jsx("span",{className:`text-2xl font-bold ${F>=0?"text-[#1e293b]":"text-[#f97316]"}`,children:_(F)})]})]})]})})]})]})})};async function X_(e){const{data:t,error:n}=await U.from("savings_payments").select("*").eq("savings_id",e).order("payment_date",{ascending:!1});if(n)throw n;return t}async function zf(e=5){const{data:t,error:n}=await U.from("savings_payments").select("*").order("payment_date",{ascending:!1}).limit(e);if(n)throw n;return t}async function Z_(e){const{data:t}=await U.auth.getUser();if(!t.user)throw new Error("User not authenticated");const{data:n,error:r}=await U.from("savings_payments").insert({savings_id:e.savings_id,amount:e.amount,payment_date:e.payment_date,payment_type:e.payment_type,user_id:t.user.id}).select().single();if(r)throw r;return n}async function ej(e){const{error:t}=await U.from("savings_payments").delete().eq("id",e);if(t)throw t;return!0}async function tj(e,t){const{data:n,error:r}=await U.from("savings_payments").update({paid_status:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return n}const nj=({checked:e,onCheckedChange:t,className:n=""})=>a.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>t(!e),className:`
        relative inline-flex h-5 w-9 items-center rounded-full
        transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2
        ${e?"bg-[#f97316]":"bg-gray-200"}
        ${n}
      `,children:a.jsx("span",{className:`
          inline-block h-4 w-4 transform rounded-full bg-white shadow-lg
          transition-transform
          ${e?"translate-x-4":"translate-x-0"}
        `})});function Bf(){const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(null),[l,o]=w.useState(0),[c,u]=w.useState(new Set),[d,h]=w.useState(!0),[m,p]=w.useState(new Set),g=f=>{u(y=>{const _=new Set(y);return _.has(f)?_.delete(f):_.add(f),_})},v=f=>{h(f)},j=f=>{p(y=>{const _=new Set(y);return _.has(f)?_.delete(f):_.add(f),_})};w.useEffect(()=>{async function f(){try{r(!0),i(null);const y=new Date;y.setHours(0,0,0,0);const[_,N,b,S,T]=await Promise.all([Fc(),ta(),Bi(),zc(),zf(100)]);if(!_){i("Next pay date is not available");return}const F=N.reduce((M,k)=>M+(k.available_balance||0),0),C=yi(b,[],S,hi(y)),E=L(_),X=C.filter(M=>{const k=L(M.due_date||"");return k>=y&&k<=E}).reduce((M,k)=>M+(k.amount||0),0),oe=F-X;o(oe);const je=new Date,Se=Ve(je,6),be=await Lc();if(!be||be.length===0){i("No paychecks found");return}const $=be.filter(M=>{if(!M.payment_date)return!1;const k=L(M.payment_date);return Fr(k,Se)&&!Fr(k,je)});if($.length===0){i("No paychecks found in the next 6 months");return}let A=oe;const R=[];for(let M=0;M<$.length;M++){const k=$[M];if(!k.payment_date)continue;const I=L(k.payment_date),P=$[M+1],O=P&&P.payment_date?L(P.payment_date):Se,V=yi(b,[],S,hi(I)).filter(K=>{if(!K.due_date)return!1;const ne=L(K.due_date);return ne>=I&&ne<O}).reduce((K,ne)=>{var Zt;return((Zt=ne.category)==null?void 0:Zt.name)!=="Credit Card"?(K.push(ne),K):(K.find(Rt=>{var Qr;return((Qr=Rt.category)==null?void 0:Qr.name)==="Credit Card"&&Rt.amount===ne.amount&&Rt.due_date===ne.due_date})||K.push(ne),K)},[]).sort((K,ne)=>{const It=L(K.due_date||""),Zt=L(ne.due_date||"");return It.getTime()-Zt.getTime()}),G=d?T.filter(K=>{if(!K.payment_date)return!1;const ne=L(K.payment_date);return ne>=I&&ne<O}).map(K=>({id:K.id,amount:K.amount||0,payment_date:K.payment_date,plan_name:"Savings Payment"})).sort((K,ne)=>{const It=L(K.payment_date),Zt=L(ne.payment_date);return It.getTime()-Zt.getTime()}):[],ce=G.reduce((K,ne)=>K+ne.amount,0),Te=V.reduce((K,ne)=>K+(ne.amount||0),0)+ce,pe=A;A+=k.amount||0,A-=Te,R.push({paycheck:k,startDate:I,endDate:O,bills:V,savingsPayments:G,startingBalance:pe,endingBalance:A})}t(R)}catch(y){console.error("Error in IncomeBook:",y),i(y instanceof Error?y.message:"An error occurred while loading data")}finally{r(!1)}}f()},[d]);const x=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f);return n?a.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):s?a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:a.jsx("p",{className:"text-sm text-red-700",children:s})}):e.length===0?a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded",children:a.jsx("p",{className:"text-sm text-yellow-700",children:"No pay periods found in the next 6 months"})}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h2",{className:"text-3xl font-bold text-[#1e293b]",children:"6-Month Income Book"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-base text-gray-600",children:"Include Savings Plans:"}),a.jsx(nj,{checked:d,onCheckedChange:v,className:"data-[state=checked]:bg-[#f97316]"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-base text-gray-600",children:"Starting Balance (after current bills):"}),a.jsx("span",{className:"text-xl font-semibold text-[#f97316]",children:x(l)})]})]})]}),a.jsx("div",{className:"space-y-6",children:e.map(f=>a.jsx(re,{className:"p-6 bg-white rounded-2xl shadow-md border border-gray-200",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-2 cursor-pointer",onClick:()=>g(f.paycheck.id),children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-[#1e293b]",children:["Paycheck ",H(f.startDate,"MMM d, yyyy")]}),a.jsxs("p",{className:"text-base text-gray-600",children:["Period: ",H(f.startDate,"MMM d")," - ",H(f.endDate,"MMM d, yyyy")]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xl font-bold text-[#1e293b]",children:x(f.paycheck.amount||0)}),a.jsxs("p",{className:"text-base text-gray-600",children:["Starting Balance: ",x(f.startingBalance)]})]}),c.has(f.paycheck.id)?a.jsx(Be,{className:"h-6 w-6 text-[#f97316]"}):a.jsx(Ie,{className:"h-6 w-6 text-[#f97316]"})]})]}),a.jsxs("div",{className:"flex justify-between items-center text-base",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:"Total Bills:"}),a.jsx("span",{className:"text-[#f97316] font-semibold",children:x(f.bills.reduce((y,_)=>y+(_.amount||0),0))})]}),d&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:"Total Savings:"}),a.jsx("span",{className:"text-blue-600 font-semibold",children:x(f.savingsPayments.reduce((y,_)=>y+_.amount,0))})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:"Ending Balance:"}),a.jsx("span",{className:`font-semibold ${f.endingBalance>=0?"text-[#1e293b]":"text-[#f97316]"}`,children:x(f.endingBalance)})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("button",{onClick:()=>j(f.paycheck.id),className:"text-sm text-[#f97316] hover:text-[#ea580c] hover:underline",children:m.has(f.paycheck.id)?"Hide breakdown":"See breakdown"})}),m.has(f.paycheck.id)&&a.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Paycheck Amount"}),a.jsx("span",{className:"font-medium",children:x(f.paycheck.amount||0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"+ Starting Balance"}),a.jsx("span",{className:"font-medium",children:x(f.startingBalance)})]}),a.jsx("div",{className:"border-t border-gray-200 my-2 pt-2",children:a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{children:"= Subtotal"}),a.jsx("span",{children:x((f.paycheck.amount||0)+f.startingBalance)})]})}),a.jsxs("div",{className:"flex justify-between text-[#f97316]",children:[a.jsx("span",{children:"- Total Bills"}),a.jsx("span",{className:"font-medium",children:x(f.bills.reduce((y,_)=>y+(_.amount||0),0))})]}),d&&a.jsxs("div",{className:"flex justify-between text-blue-600",children:[a.jsx("span",{children:"- Total Savings"}),a.jsx("span",{className:"font-medium",children:x(f.savingsPayments.reduce((y,_)=>y+_.amount,0))})]}),a.jsx("div",{className:"border-t border-gray-200 my-2 pt-2",children:a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{children:"= Ending Balance"}),a.jsx("span",{className:f.endingBalance>=0?"text-[#1e293b]":"text-[#f97316]",children:x(f.endingBalance)})]})})]}),c.has(f.paycheck.id)&&f.bills.length>0&&a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsx("h4",{className:"font-semibold text-[#1e293b]",children:"Upcoming Bills:"}),f.bills.map(y=>{var _;return a.jsxs("div",{className:"flex justify-between items-center pl-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:((_=y.category)==null?void 0:_.color)||"#94A3B8"}}),a.jsx("span",{className:"text-[#1e293b] font-medium",children:y.name}),a.jsxs("span",{className:"text-sm text-gray-600",children:["(",H(L(y.due_date||""),"MMM d"),")"]})]}),a.jsx("span",{className:"text-[#f97316] font-semibold",children:x(y.amount||0)})]},`${y.id}-${y.due_date}`)}),d&&f.savingsPayments.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"font-semibold text-[#1e293b] mt-4",children:"Savings Payments:"}),f.savingsPayments.map(y=>a.jsxs("div",{className:"flex justify-between items-center pl-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-[#1e293b] font-medium",children:y.plan_name}),a.jsxs("span",{className:"text-sm text-gray-600",children:["(",H(L(y.payment_date),"MMM d"),")"]})]}),a.jsx("span",{className:"text-blue-600 font-semibold",children:x(y.amount)})]},y.id))]})]})]})},f.paycheck.id))})]})}const rj=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(null),[s,i]=w.useState(!0);return w.useEffect(()=>{async function l(){try{i(!0),r(null);const o=await Fc();console.log("Raw next pay date:",o),t(o)}catch(o){console.error("Error fetching next pay date:",o),r(o instanceof Error?o.message:"Failed to fetch next pay date")}finally{i(!1)}}l()},[]),s?a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:"Loading next pay date..."}):n?a.jsx("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg",children:a.jsxs("p",{children:["Error: ",n]})}):a.jsxs("div",{className:"p-4 bg-white shadow rounded-lg",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Next Payday"}),e?a.jsx("p",{className:"mt-2 text-2xl font-bold text-green-600",children:H(L(e),"MMMM d, yyyy")}):a.jsx("p",{className:"mt-2 text-gray-600",children:"No upcoming pay date found"})]})},sj=()=>{const[e,t]=w.useState(!1);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 lg:hidden",children:"Dashboard"}),a.jsx(rj,{}),a.jsx(Y_,{isExpanded:e,onToggle:()=>t(!e)}),a.jsx(J_,{}),a.jsx(Bf,{}),a.jsx(hw,{}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(mw,{}),a.jsx(F_,{})]}),a.jsx(B_,{})]})},aj=({bills:e,categories:t,creditCards:n=[],isExpanded:r,onToggleExpand:s})=>{const[i,l]=w.useState(new Date),[o,c]=w.useState("list"),[u,d]=w.useState([]),h=b=>{d(S=>S.includes(b)?S.filter(T=>T!==b):[...S,b])},m=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b),p=b=>{const S=L(b),F=Af(S,new Date);return Vt(S)?{label:"Due Today",className:"bg-yellow-100 text-yellow-800"}:F<=7&&F>0?{label:`Due in ${F} day${F===1?"":"s"}`,className:"bg-blue-100 text-blue-800"}:{label:H(S,"MMM d"),className:"bg-gray-100 text-gray-600"}},g=b=>{const S=new Date(b);return S.setHours(0,0,0,0),S},v=yi(e,n,t,i),j=v.reduce((b,S)=>b+S.amount,0),x=t.map(b=>{const S=v.filter(F=>F.category_id===b.id),T=S.reduce((F,C)=>F+C.amount,0);return{...b,total:T,bills:S}}).filter(b=>b.bills.length>0),f=Array.from({length:Hs(i).getDate()},(b,S)=>{const T=g(new Date(i.getFullYear(),i.getMonth(),S+1)),F=v.filter(C=>{const E=g(L(C.due_date));return H(E,"yyyy-MM-dd")===H(T,"yyyy-MM-dd")});return{date:T,bills:F}}),y=b=>{var T,F;if(b.bill_type==="one-time")return"One-time";let S=((T=b.recurrence_interval)==null?void 0:T.charAt(0).toUpperCase())+((F=b.recurrence_interval)==null?void 0:F.slice(1));return b.recurrence_interval==="monthly"||b.recurrence_interval==="yearly"?`${S} (${b.recurrence_day}${_(b.recurrence_day||0)})`:b.recurrence_interval==="weekly"||b.recurrence_interval==="bi-weekly"?`${S} (${N(b.recurrence_week_day||0)})`:S||""},_=b=>{if(b>3&&b<21)return"th";switch(b%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},N=b=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][b];return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[a.jsxs("div",{className:"p-3 border-b flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Bills Dashboard"}),a.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:r?a.jsx(Be,{size:20}):a.jsx(Ie,{size:20})})]}),r&&a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>l(b=>Ve(b,-1)),className:"p-1 hover:bg-gray-100 rounded-full",children:a.jsx(jo,{size:16})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-sm font-medium",children:H(i,"MMMM yyyy")}),a.jsx("span",{className:"text-sm font-medium text-green-600",children:m(j)})]}),a.jsx("button",{onClick:()=>l(b=>Ve(b,1)),className:"p-1 hover:bg-gray-100 rounded-full",children:a.jsx(ef,{size:16})})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>c("list"),className:`px-2 py-1 text-sm rounded ${o==="list"?"bg-blue-100 text-blue-700":"text-gray-600"}`,children:"List"}),a.jsx("button",{onClick:()=>c("calendar"),className:`px-2 py-1 text-sm rounded ${o==="calendar"?"bg-blue-100 text-blue-700":"text-gray-600"}`,children:"Calendar"})]})]}),o==="list"?a.jsx("div",{className:"space-y-2",children:x.map(b=>a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>h(b.id),className:"w-full px-3 py-2 flex justify-between items-center bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:b.color}}),a.jsx("span",{className:"text-sm font-medium",children:b.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["(",b.bills.length," bills)"]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-sm font-medium",children:m(b.total)}),u.includes(b.id)?a.jsx(Be,{size:16}):a.jsx(Ie,{size:16})]})]}),u.includes(b.id)&&a.jsx("div",{className:"divide-y",children:b.bills.map(S=>{const T=p(S.due_date),F=S.id.startsWith("cc-payment-");return a.jsxs("div",{className:`px-3 py-2 flex justify-between items-center hover:bg-gray-50 ${F?"bg-purple-50/50":""}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[F&&a.jsx(vt,{size:16,className:"text-purple-500"}),a.jsx("span",{className:"text-sm",children:S.name}),a.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${T.className}`,children:T.label})]}),a.jsx("span",{className:"text-xs text-gray-500",children:y(S)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-sm",children:m(S.amount)}),(S.is_autopay||S.card_id)&&a.jsxs("div",{className:"flex gap-1 mt-1",children:[S.is_autopay&&a.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-1.5 py-0.5 rounded-full",children:"Auto"}),S.card_id&&!F&&a.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-1.5 py-0.5 rounded-full",children:"CC"})]})]})]},S.id+S.due_date)})})]},b.id))}):a.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(b=>a.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-1",children:b},b)),Array.from({length:new Date(i.getFullYear(),i.getMonth(),1).getDay()}).map((b,S)=>a.jsx("div",{className:"h-20 bg-gray-50 rounded"},`empty-${S}`)),f.map(({date:b,bills:S})=>{const T=Vt(b);return a.jsxs("div",{className:`h-20 border rounded p-1 overflow-y-auto ${T?"border-blue-500 border-2":""}`,children:[a.jsx("div",{className:"text-xs font-medium mb-1",children:H(b,"d")}),S.map(F=>{var E;const C=F.id.startsWith("cc-payment-");return a.jsxs("div",{className:`text-xs p-1 mb-0.5 rounded flex items-center justify-between ${C?"bg-purple-100":""}`,style:C?void 0:{backgroundColor:((E=F.category)==null?void 0:E.color)+"20"},children:[a.jsxs("span",{className:"truncate flex items-center gap-1",children:[C&&a.jsx(vt,{size:12}),F.name]}),a.jsx("span",{className:"ml-1",children:m(F.amount)})]},F.id+F.due_date)})]},b.toISOString())})]})]})]})},Jn=({isOpen:e,onClose:t,title:n,children:r,size:s="md"})=>{if(!e)return null;const i={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),a.jsx("div",{className:`relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 w-full ${i[s]}`,children:a.jsxs("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:n}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:a.jsx(sf,{size:20})})]}),r]})})]})})},Y=w.forwardRef(({label:e,error:t,helperText:n,startAdornment:r,endAdornment:s,fullWidth:i=!1,className:l="",id:o,...c},u)=>{const d=o||(e==null?void 0:e.toLowerCase().replace(/\s+/g,"-")),h=i?"w-full":"";return a.jsxs("div",{className:`${h} ${l}`,children:[e&&a.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),a.jsxs("div",{className:"relative rounded-md shadow-sm",children:[r&&a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r}),a.jsx("input",{ref:u,id:d,className:`
              block rounded-md border-gray-300 shadow-sm
              focus:border-blue-500 focus:ring-blue-500 sm:text-sm
              ${r?"pl-10":""}
              ${s?"pr-10":""}
              ${t?"border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500":""}
              w-full
            `,"aria-invalid":t?"true":"false","aria-describedby":t?`${d}-error`:n?`${d}-helper`:void 0,...c}),s&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s})]}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-600",id:`${d}-error`,children:t}),n&&!t&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",id:`${d}-helper`,children:n})]})});Y.displayName="Input";const Pe=w.forwardRef(({label:e,error:t,helperText:n,fullWidth:r=!1,className:s="",id:i,icon:l,children:o,...c},u)=>{const d=i||(e==null?void 0:e.toLowerCase().replace(/\s+/g,"-")),h=r?"w-full":"";return a.jsxs("div",{className:`${h} ${s}`,children:[e&&a.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),a.jsxs("div",{className:"relative rounded-md shadow-sm",children:[l&&a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500",children:l}),a.jsx("select",{ref:u,id:d,className:`
              block w-full rounded-md border-gray-300 shadow-sm
              focus:border-blue-500 focus:ring-blue-500 sm:text-sm
              ${l?"pl-10":""}
              ${t?"border-red-300 text-red-900 focus:border-red-500 focus:ring-red-500":""}
            `,"aria-invalid":t?"true":"false","aria-describedby":t?`${d}-error`:n?`${d}-helper`:void 0,...c,children:o})]}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-600",id:`${d}-error`,children:t}),n&&!t&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",id:`${d}-helper`,children:n})]})});Pe.displayName="Select";const ij=({bill:e,categories:t,creditCards:n,debitCards:r,onSubmit:s,onCancel:i,isLoading:l=!1})=>{const[o,c]=w.useState({name:"",amount:0,due_date:H(new Date,"yyyy-MM-dd"),category_id:"",bill_type:"one-time",frequency:"monthly",is_autopay:!1,card_id:null,notes:"",recurrence_interval:void 0,start_date:void 0,end_date:void 0,recurrence_day:void 0,recurrence_week_day:void 0,...e}),[u,d]=w.useState(""),[h,m]=w.useState(()=>{if(e!=null&&e.card_id){if(n.some(v=>v.id===e.card_id))return"credit";if(r.some(v=>v.id===e.card_id))return"debit"}return"direct"});w.useEffect(()=>{e&&(c({...e,due_date:H(new Date(e.due_date),"yyyy-MM-dd"),start_date:e.start_date?H(new Date(e.start_date),"yyyy-MM-dd"):void 0,end_date:e.end_date?H(new Date(e.end_date),"yyyy-MM-dd"):void 0}),e.card_id?n.some(v=>v.id===e.card_id)?m("credit"):r.some(v=>v.id===e.card_id)?m("debit"):m("direct"):m("direct"))},[e,n,r]);const p=async v=>{var j;v.preventDefault(),d("");try{if(!((j=o.name)!=null&&j.trim()))throw new Error("Bill name is required");if(!o.amount||o.amount<=0)throw new Error("Amount must be greater than 0");if(!o.category_id)throw new Error("Category is required");if(o.bill_type==="recurring"){if(!o.recurrence_interval)throw new Error("Recurrence interval is required for recurring bills");if(!o.start_date)throw new Error("Start date is required for recurring bills");if(["monthly","quarterly","yearly"].includes(o.recurrence_interval)){if(!o.recurrence_day||o.recurrence_day<1||o.recurrence_day>31)throw new Error("Please select a valid day of the month (1-31)")}else if(["weekly","bi-weekly"].includes(o.recurrence_interval)&&(o.recurrence_week_day===void 0||o.recurrence_week_day<0||o.recurrence_week_day>6))throw new Error("Please select a valid day of the week")}if((h==="credit"||h==="debit")&&!o.card_id)throw new Error(`Please select a ${h} card`);const x={...o,card_id:h==="direct"?null:o.card_id},{category:f,card:y,..._}=x;await s(_)}catch(x){d(x.message||"Failed to save bill")}},g=v=>{const{name:j,value:x,type:f}=v.target;if(f==="number")c(y=>({...y,[j]:parseFloat(x)||0}));else if(f==="checkbox"){const y=v.target.checked;c(_=>({..._,[j]:y}))}else c(y=>({...y,[j]:x}));j==="payment_type"&&c(x==="one-time"?y=>({...y,payment_type:"one-time",recurrence_interval:void 0,start_date:void 0,end_date:void 0,recurrence_day:void 0,recurrence_week_day:void 0,card_id:null}):y=>({...y,card_id:null})),j==="recurrence_interval"&&(x==="monthly"?c(y=>({...y,recurrence_interval:x,recurrence_day:1,recurrence_week_day:void 0})):["weekly","bi-weekly"].includes(x)&&c(y=>({...y,recurrence_interval:x,recurrence_day:void 0,recurrence_week_day:0}))),j==="card_id"&&c(y=>({...y,card_id:x}))};return a.jsxs("form",{onSubmit:p,className:"space-y-6",children:[u&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-700",children:u})}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-6",children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsx(Y,{label:"Bill Name",name:"name",value:o.name,onChange:g,required:!0,startAdornment:a.jsx(No,{className:"text-primary-500"}),className:"bg-white"}),a.jsx(Y,{type:"number",label:"Amount",name:"amount",value:o.amount,onChange:g,required:!0,min:"0",step:"0.01",startAdornment:a.jsx(ge,{className:"text-accent-500"}),className:"bg-white"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Pe,{label:"Category",name:"category_id",value:o.category_id,onChange:g,required:!0,startAdornment:a.jsx(S0,{className:"text-primary-500"}),className:"bg-white",children:[a.jsx("option",{value:"",children:"Select a category"}),t.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]}),a.jsxs(Pe,{label:"Bill Type",name:"bill_type",value:o.bill_type,onChange:g,required:!0,startAdornment:a.jsx(Gn,{className:"text-accent-500"}),className:"bg-white",children:[a.jsx("option",{value:"one-time",children:"One-time"}),a.jsx("option",{value:"recurring",children:"Recurring"})]})]})]}),o.bill_type==="recurring"&&a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Recurrence Settings"}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Pe,{label:"Recurrence Interval",name:"recurrence_interval",value:o.recurrence_interval,onChange:g,required:!0,startAdornment:a.jsx(k0,{className:"text-primary-500"}),className:"bg-white",children:[a.jsx("option",{value:"",children:"Select interval"}),a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"bi-weekly",children:"Bi-weekly"}),a.jsx("option",{value:"monthly",children:"Monthly"}),a.jsx("option",{value:"quarterly",children:"Quarterly"}),a.jsx("option",{value:"yearly",children:"Yearly"})]}),["monthly","quarterly","yearly"].includes(o.recurrence_interval||"")&&a.jsx(Y,{type:"number",label:"Day of Month",name:"recurrence_day",value:o.recurrence_day,onChange:g,required:!0,min:"1",max:"31",startAdornment:a.jsx(Oe,{className:"text-accent-500"}),className:"bg-white"}),["weekly","bi-weekly"].includes(o.recurrence_interval||"")&&a.jsxs(Pe,{label:"Day of Week",name:"recurrence_week_day",value:o.recurrence_week_day,onChange:g,required:!0,startAdornment:a.jsx(Oe,{className:"text-accent-500"}),className:"bg-white",children:[a.jsx("option",{value:"",children:"Select day"}),a.jsx("option",{value:"0",children:"Sunday"}),a.jsx("option",{value:"1",children:"Monday"}),a.jsx("option",{value:"2",children:"Tuesday"}),a.jsx("option",{value:"3",children:"Wednesday"}),a.jsx("option",{value:"4",children:"Thursday"}),a.jsx("option",{value:"5",children:"Friday"}),a.jsx("option",{value:"6",children:"Saturday"})]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsx(Y,{type:"date",label:"Start Date",name:"start_date",value:o.start_date,onChange:g,required:!0,startAdornment:a.jsx(Oe,{className:"text-primary-500"}),className:"bg-white"}),a.jsx(Y,{type:"date",label:"End Date (Optional)",name:"end_date",value:o.end_date,onChange:g,startAdornment:a.jsx(Oe,{className:"text-accent-500"}),className:"bg-white"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Payment Settings"}),a.jsxs(Pe,{label:"Payment Method",name:"payment_method",value:h,onChange:v=>{m(v.target.value),c(j=>({...j,card_id:null}))},startAdornment:a.jsx(ge,{className:"text-primary-500"}),className:"bg-white",children:[a.jsx("option",{value:"direct",children:"Direct Payment"}),a.jsx("option",{value:"credit",children:"Credit Card"}),a.jsx("option",{value:"debit",children:"Debit Card"})]}),h==="credit"&&a.jsxs(Pe,{label:"Credit Card",name:"card_id",value:o.card_id||"",onChange:g,required:!0,startAdornment:a.jsx(ge,{className:"text-accent-500"}),className:"bg-white",children:[a.jsx("option",{value:"",children:"Select a credit card"}),n.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]}),h==="debit"&&a.jsxs(Pe,{label:"Debit Card",name:"card_id",value:o.card_id||"",onChange:g,required:!0,startAdornment:a.jsx(ge,{className:"text-accent-500"}),className:"bg-white",children:[a.jsx("option",{value:"",children:"Select a debit card"}),r.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]}),a.jsx(Y,{label:"Notes (Optional)",name:"notes",value:o.notes,onChange:g,startAdornment:a.jsx(No,{className:"text-primary-500"}),className:"bg-white"}),a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-3 rounded-lg",children:[a.jsx("input",{type:"checkbox",id:"is_autopay",name:"is_autopay",checked:o.is_autopay,onChange:g,className:"h-5 w-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),a.jsx("label",{htmlFor:"is_autopay",className:"text-sm font-medium text-gray-700",children:"Enable Auto-pay"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[a.jsx(W,{type:"button",variant:"outline",onClick:i,disabled:l,children:"Cancel"}),a.jsx(W,{type:"submit",variant:"primary",isLoading:l,children:e?"Update Bill":"Create Bill"})]})]})},lj=({categories:e,onCategoriesChange:t,isOpen:n,onClose:r})=>{const[s,i]=w.useState(null),[l,o]=w.useState({name:"",color:"#3B82F6"}),[c,u]=w.useState(""),[d,h]=w.useState(!1),m=async g=>{g.preventDefault(),u("");try{h(!0),s?await Q_(s.id,{name:s.name,color:s.color}):await G_(l),t(),i(null),o({name:"",color:"#3B82F6"})}catch(v){u(v.message||"Failed to save category")}finally{h(!1)}},p=async g=>{if(confirm("Are you sure you want to delete this category? All bills in this category will also be deleted."))try{h(!0),await K_(g.id),t()}catch(v){u(v.message||"Failed to delete category")}finally{h(!1)}};return a.jsx(Jn,{isOpen:n,onClose:r,title:"Manage Categories",size:"lg",children:a.jsxs("div",{className:"space-y-6",children:[c&&a.jsxs("div",{className:"flex items-center text-red-500 bg-red-50 p-4 rounded",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:c})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Existing Categories"}),a.jsx("div",{className:"grid gap-2",children:e.map(g=>a.jsx("div",{className:`p-3 rounded-lg border ${(s==null?void 0:s.id)===g.id?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:(s==null?void 0:s.id)===g.id?a.jsxs("form",{onSubmit:m,className:"flex items-center gap-2",children:[a.jsx(Y,{value:s.name,onChange:v=>i({...s,name:v.target.value}),placeholder:"Category name",required:!0}),a.jsx("input",{type:"color",value:s.color,onChange:v=>i({...s,color:v.target.value}),className:"h-10 w-20"}),a.jsx(W,{type:"submit",variant:"primary",size:"sm",isLoading:d,children:"Save"}),a.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>i(null),children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:g.color}}),a.jsx("span",{className:"font-medium",children:g.name})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>i(g),children:"Edit"}),a.jsx(W,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>p(g),disabled:d,children:"Delete"})]})]})},g.id))})]}),!s&&a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Add New Category"}),a.jsxs("form",{onSubmit:m,className:"flex items-center gap-2",children:[a.jsx(Y,{value:l.name,onChange:g=>o({...l,name:g.target.value}),placeholder:"Category name",required:!0}),a.jsx("input",{type:"color",value:l.color,onChange:g=>o({...l,color:g.target.value}),className:"h-10 w-20"}),a.jsx(W,{type:"submit",variant:"primary",size:"sm",leftIcon:a.jsx(Jt,{size:16}),isLoading:d,children:"Add"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(W,{variant:"outline",onClick:r,children:"Close"})})]})})},oj=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState([]),[l,o]=w.useState([]),[c,u]=w.useState(!0),[d,h]=w.useState(""),[m,p]=w.useState(!0),[g,v]=w.useState(!0),[j,x]=w.useState(!1),[f,y]=w.useState(!1),[_,N]=w.useState(!1),[b,S]=w.useState(),[T,F]=w.useState(!1),C=async()=>{try{u(!0);const[P,O,q,V]=await Promise.all([Bi(),zc(),Yr(),ta()]);t(P),r(O),i(q),o(V)}catch(P){h(P.message||"Failed to load bills"),console.error(P)}finally{u(!1)}};w.useEffect(()=>{C()},[]);const E=()=>{S(void 0),y(!0)},z=P=>{S(P),y(!0)},X=async P=>{if(confirm("Are you sure you want to delete this bill?"))try{await rw(P.id),await C()}catch(O){console.error("Failed to delete bill:",O),alert("Failed to delete bill. Please try again.")}},oe=async P=>{try{F(!0),b?await nw(b.id,P):await tw(P),y(!1),await C()}catch(O){throw console.error("Failed to save bill:",O),O}finally{F(!1)}};if(c)return a.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(P=>a.jsx("div",{className:"h-20 bg-gray-200 rounded"},P))});if(d)return a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:d})]});const je=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P),Se=P=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][P],be=P=>{if(P>3&&P<21)return"th";switch(P%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},$=P=>P.recurrence_interval==="yearly"&&P.start_date?H(new Date(P.start_date),"MMM dd"):P.recurrence_week_day!==null&&P.recurrence_week_day!==void 0?Se(P.recurrence_week_day):P.recurrence_day!==null&&P.recurrence_day!==void 0?`${P.recurrence_day}${be(P.recurrence_day)}`:"",A=P=>{if(P.bill_type==="one-time")return 0;switch(P.recurrence_interval){case"weekly":return P.amount*52/12;case"bi-weekly":return P.amount*26/12;case"quarterly":return P.amount/3;case"yearly":return P.amount/12;case"monthly":return P.amount;default:return 0}},R=P=>{var O,q;return P.card_id?((O=P.card)==null?void 0:O.type)==="credit"?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vt,{size:16,className:"text-purple-500"}),a.jsxs("span",{children:[P.card.name," ( ",P.card.last_four_digits,")"]})]}):((q=P.card)==null?void 0:q.type)==="debit"?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nn,{size:16,className:"text-blue-500"}),a.jsxs("span",{children:[P.card.bank_name," ( ",P.card.last_four_digits,")"]})]}):a.jsx("span",{className:"text-gray-500",children:"Unknown Payment Method"}):a.jsx("span",{className:"text-gray-500",children:"Direct Payment"})},M=e.filter(P=>P.bill_type==="recurring"),k=e.filter(P=>P.bill_type==="one-time"),I=M.reduce((P,O)=>P+A(O),0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bills"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(W,{variant:"outline",onClick:()=>N(!0),leftIcon:a.jsx(D0,{size:20}),children:"Customize Categories"}),a.jsx(W,{variant:"primary",onClick:E,leftIcon:a.jsx(Jt,{size:20}),children:"Add Bill"})]})]}),a.jsx(aj,{bills:e,categories:n,isExpanded:j,onToggleExpand:()=>x(!j)}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b flex justify-between items-center cursor-pointer",onClick:()=>p(!m),children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(O0,{size:20,className:"text-blue-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recurring Bills"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",M.length,")"]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[a.jsx(ge,{size:18,className:"text-green-600"}),a.jsx("span",{className:"font-medium",children:"Monthly Total:"}),a.jsx("span",{className:"text-green-600 font-semibold",children:je(I)})]}),m?a.jsx(Be,{size:20}):a.jsx(Ie,{size:20})]})]}),m&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Day"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(P=>{var O,q,V,G;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.name}),P.is_autopay&&a.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(ld,{size:12,className:"mr-1"}),"Auto"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-900",children:je(P.amount)}),P.recurrence_interval!=="monthly"&&a.jsxs("span",{className:"text-xs text-gray-500 block",children:["(",je(A(P)),"/mo)"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((O=P.recurrence_interval)==null?void 0:O.charAt(0).toUpperCase())+((q=P.recurrence_interval)==null?void 0:q.slice(1))}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$(P)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:((V=P.category)==null?void 0:V.color)||"#9CA3AF"}}),(G=P.category)==null?void 0:G.name]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:R(P)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>z(P),leftIcon:a.jsx(Qn,{size:16}),className:"mr-2",children:"Edit"}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>X(P),leftIcon:a.jsx(Ir,{size:16}),className:"text-red-600 hover:text-red-700",children:"Delete"})]})]},P.id)})})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b flex justify-between items-center cursor-pointer",onClick:()=>v(!g),children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Gn,{size:20,className:"text-gray-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"One-time Bills"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",k.length,")"]})]}),g?a.jsx(Be,{size:20}):a.jsx(Ie,{size:20})]}),g&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(P=>{var O,q;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.name}),P.is_autopay&&a.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(ld,{size:12,className:"mr-1"}),"Auto"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:je(P.amount)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gn,{size:16,className:"mr-1 text-gray-400"}),H(new Date(P.due_date),"MMM d, yyyy")]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:((O=P.category)==null?void 0:O.color)||"#9CA3AF"}}),(q=P.category)==null?void 0:q.name]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:R(P)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>z(P),leftIcon:a.jsx(Qn,{size:16}),className:"mr-2",children:"Edit"}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>X(P),leftIcon:a.jsx(Ir,{size:16}),className:"text-red-600 hover:text-red-700",children:"Delete"})]})]},P.id)})})]})})]}),a.jsx(Jn,{isOpen:f,onClose:()=>y(!1),title:b?"Edit Bill":"Add New Bill",size:"lg",children:a.jsx(ij,{bill:b,categories:n,creditCards:s,debitCards:l,onSubmit:oe,onCancel:()=>y(!1),isLoading:T})}),a.jsx(lj,{categories:n,onCategoriesChange:C,isOpen:_,onClose:()=>N(!1)})]})};async function cj(e){const{data:t}=await U.auth.getUser();if(!t.user)throw new Error("User not authenticated");const{data:n,error:r}=await U.from("credit_card_payments").insert({...e,user_id:t.user.id}).select().single();if(r)throw r;return n}const uj=({card:e,onSubmit:t,onCancel:n,isLoading:r=!1})=>{var d;const[s,i]=w.useState({name:"",bank_name:"",last_four_digits:"",current_balance:0,credit_limit:0,interest_rate:0,minimum_payment:0,due_date:H(new Date,"yyyy-MM-dd"),is_autopay:!1,payment_amount:0,payment_frequency:"monthly",payment_day:null,payment_week_day:null,payment_start_date:H(new Date,"yyyy-MM-dd"),payment_end_date:null,...e}),[l,o]=w.useState(""),c=async h=>{var m,p,g;h.preventDefault(),o("");try{if(!((m=s.name)!=null&&m.trim()))throw new Error("Card name is required");if(!((p=s.bank_name)!=null&&p.trim()))throw new Error("Bank name is required");if(!((g=s.last_four_digits)!=null&&g.trim())||!/^\d{4}$/.test(s.last_four_digits))throw new Error("Last 4 digits must be exactly 4 numbers");if(!s.credit_limit||s.credit_limit<=0)throw new Error("Credit limit must be greater than 0");if(s.current_balance>0&&(!s.minimum_payment||s.minimum_payment<=0))throw new Error("Minimum payment must be greater than 0 when there is a balance");if(s.current_balance>0&&(!s.payment_amount||s.payment_amount<(s.minimum_payment||0)))throw new Error("Payment amount must be at least the minimum payment when there is a balance");if(s.payment_frequency==="monthly"&&!s.payment_day)throw new Error("Please select a payment day for monthly payments");if(["weekly","bi-weekly"].includes(s.payment_frequency||"")&&s.payment_week_day===null)throw new Error("Please select a day of the week for weekly/bi-weekly payments");await t(s)}catch(v){o(v.message||"Failed to save credit card")}},u=h=>{const{name:m,value:p,type:g}=h.target;if(g==="number"){const v=parseFloat(p)||0;i(j=>m==="current_balance"&&v===0?{...j,[m]:v,due_date:null,minimum_payment:0}:{...j,[m]:v})}else if(g==="date")i(v=>({...v,[m]:p===""?null:p}));else if(g==="checkbox"){const v=h.target.checked;i(j=>({...j,[m]:v}))}else i(v=>({...v,[m]:p}));if(m==="payment_frequency"){const v=p;v==="monthly"?i(j=>({...j,payment_frequency:v,payment_day:j.payment_day||1,payment_week_day:null})):["weekly","bi-weekly"].includes(v)?i(j=>({...j,payment_frequency:v,payment_day:null,payment_week_day:j.payment_week_day||0})):v==="bi-monthly"&&i(j=>({...j,payment_frequency:v,payment_day:null,payment_week_day:null}))}};return a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:a.jsx("p",{className:"text-sm text-red-700",children:l})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Y,{label:"Card Name",name:"name",value:s.name,onChange:u,startAdornment:a.jsx(vt,{size:18,className:"text-gray-400"}),required:!0}),a.jsx(Y,{label:"Bank Name",name:"bank_name",value:s.bank_name,onChange:u,startAdornment:a.jsx(Ai,{size:18,className:"text-gray-400"}),required:!0}),a.jsx(Y,{label:"Last 4 Digits",name:"last_four_digits",value:s.last_four_digits,onChange:u,pattern:"\\d{4}",maxLength:4,required:!0,helperText:"Enter the last 4 digits of your card"}),a.jsx(Y,{type:"number",label:"Current Balance",name:"current_balance",value:s.current_balance,onChange:u,startAdornment:a.jsx(ge,{size:18,className:"text-gray-400"}),step:"0.01",min:"0",required:!0}),a.jsx(Y,{type:"number",label:"Credit Limit",name:"credit_limit",value:s.credit_limit,onChange:u,startAdornment:a.jsx(ge,{size:18,className:"text-gray-400"}),step:"0.01",min:"0",required:!0}),a.jsx(Y,{type:"number",label:"Interest Rate",name:"interest_rate",value:s.interest_rate,onChange:u,endAdornment:a.jsx(M0,{size:18,className:"text-gray-400"}),step:"0.01",min:"0",required:!0}),a.jsx(Y,{type:"number",label:"Minimum Payment",name:"minimum_payment",value:s.minimum_payment,onChange:u,startAdornment:a.jsx(ge,{size:18,className:"text-gray-400"}),step:"0.01",min:"0",required:!0}),a.jsx(Y,{type:"date",label:"Due Date",name:"due_date",value:s.due_date||"",onChange:u,startAdornment:a.jsx(Oe,{size:18,className:"text-gray-400"}),required:s.current_balance>0,disabled:s.current_balance===0,helperText:s.current_balance===0?"Due date not required when balance is 0":void 0}),a.jsxs("div",{className:"border-t pt-4 mt-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Payment Schedule"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Y,{type:"number",label:"Payment Amount",name:"payment_amount",value:s.payment_amount,onChange:u,startAdornment:a.jsx(ge,{size:18,className:"text-gray-400"}),step:"0.01",min:s.minimum_payment,required:!0,helperText:`Must be at least ${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s.minimum_payment||0)}`}),a.jsxs(Pe,{label:"Payment Frequency",name:"payment_frequency",value:s.payment_frequency,onChange:u,required:!0,children:[a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"bi-weekly",children:"Bi-weekly"}),a.jsx("option",{value:"bi-monthly",children:"Bi-monthly (15th & Last Day)"}),a.jsx("option",{value:"monthly",children:"Monthly"})]}),s.payment_frequency==="monthly"&&a.jsx(Y,{type:"number",label:"Payment Day",name:"payment_day",value:s.payment_day||"",onChange:u,min:1,max:31,required:!0,helperText:"Enter the day of the month (1-31)"}),["weekly","bi-weekly"].includes(s.payment_frequency||"")&&a.jsxs(Pe,{label:"Payment Day",name:"payment_week_day",value:((d=s.payment_week_day)==null?void 0:d.toString())||"",onChange:h=>u({...h,target:{...h.target,value:parseInt(h.target.value),name:"payment_week_day"}}),required:!0,children:[a.jsx("option",{value:"",children:"Select a day"}),a.jsx("option",{value:"0",children:"Sunday"}),a.jsx("option",{value:"1",children:"Monday"}),a.jsx("option",{value:"2",children:"Tuesday"}),a.jsx("option",{value:"3",children:"Wednesday"}),a.jsx("option",{value:"4",children:"Thursday"}),a.jsx("option",{value:"5",children:"Friday"}),a.jsx("option",{value:"6",children:"Saturday"})]}),a.jsx(Y,{type:"date",label:"Start Date",name:"payment_start_date",value:s.payment_start_date,onChange:u,startAdornment:a.jsx(Gn,{size:18,className:"text-gray-400"}),required:!0}),a.jsx(Y,{type:"date",label:"End Date (Optional)",name:"payment_end_date",value:s.payment_end_date||"",onChange:u,startAdornment:a.jsx(Gn,{size:18,className:"text-gray-400"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"is_autopay",name:"is_autopay",checked:s.is_autopay,onChange:u,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"is_autopay",className:"text-sm text-gray-700",children:"Auto-pay enabled"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(W,{type:"button",variant:"outline",onClick:n,disabled:r,children:"Cancel"}),a.jsx(W,{type:"submit",variant:"primary",isLoading:r,children:e?"Update Card":"Add Card"})]})]})},dj=({card:e,onSubmit:t,onCancel:n,isLoading:r=!1})=>{var d;const[s,i]=w.useState({credit_card_id:e.id,amount:e.payment_amount,payment_date:H(new Date,"yyyy-MM-dd"),previous_balance:e.current_balance,new_balance:Math.max(0,e.current_balance-e.payment_amount),payment_type:"one-time",recurrence_interval:void 0,start_date:void 0,end_date:void 0,recurrence_day:void 0,recurrence_week_day:void 0}),[l,o]=w.useState(""),c=async h=>{h.preventDefault(),o("");try{if(!s.amount||s.amount<=0)throw new Error("Payment amount must be greater than 0");if(s.payment_type==="recurring"){if(!s.recurrence_interval)throw new Error("Please select a recurrence interval");if(!s.start_date)throw new Error("Start date is required for recurring payments");if(s.recurrence_interval==="monthly"){if(!s.recurrence_day||s.recurrence_day<1||s.recurrence_day>31)throw new Error("Please select a valid day of the month (1-31)")}else if(["weekly","bi-weekly"].includes(s.recurrence_interval)&&(s.recurrence_week_day===void 0||s.recurrence_week_day<0||s.recurrence_week_day>6))throw new Error("Please select a valid day of the week")}await t(s)}catch(m){o(m.message||"Failed to save payment")}},u=h=>{const{name:m,value:p,type:g}=h.target;if(g==="number"){const v=parseFloat(p)||0;i(j=>{const x={...j,[m]:v};return m==="amount"&&(x.new_balance=Math.max(0,(j.previous_balance||0)-v)),x})}else i(v=>({...v,[m]:p}));m==="payment_type"&&p==="one-time"&&i(v=>({...v,payment_type:"one-time",recurrence_interval:void 0,start_date:void 0,end_date:void 0,recurrence_day:void 0,recurrence_week_day:void 0})),m==="recurrence_interval"&&(p==="monthly"?i(v=>({...v,recurrence_interval:p,recurrence_day:1,recurrence_week_day:void 0})):["weekly","bi-weekly"].includes(p)&&i(v=>({...v,recurrence_interval:p,recurrence_day:void 0,recurrence_week_day:0})))};return a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:a.jsx("p",{className:"text-sm text-red-700",children:l})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Y,{type:"number",label:"Payment Amount",name:"amount",value:s.amount,onChange:u,startAdornment:a.jsx(ge,{size:18,className:"text-gray-400"}),step:"0.01",min:"0",required:!0}),a.jsx(Y,{type:"date",label:"Payment Date",name:"payment_date",value:s.payment_date,onChange:u,startAdornment:a.jsx(Oe,{size:18,className:"text-gray-400"}),required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Previous Balance"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s.previous_balance||0)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"New Balance"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s.new_balance||0)})]})]}),a.jsx(Pe,{label:"Payment Type",name:"payment_type",value:s.payment_type,onChange:u,options:[{value:"one-time",label:"One-time Payment"},{value:"recurring",label:"Recurring Payment"}],required:!0}),s.payment_type==="recurring"&&a.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[a.jsx(Pe,{label:"Recurrence Interval",name:"recurrence_interval",value:s.recurrence_interval||"",onChange:u,options:[{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-weekly"},{value:"monthly",label:"Monthly"}],required:!0}),a.jsx(Y,{type:"date",label:"Start Date",name:"start_date",value:s.start_date||"",onChange:u,startAdornment:a.jsx(Oe,{size:18,className:"text-gray-400"}),required:!0}),a.jsx(Y,{type:"date",label:"End Date (Optional)",name:"end_date",value:s.end_date||"",onChange:u,startAdornment:a.jsx(Oe,{size:18,className:"text-gray-400"})}),s.recurrence_interval==="monthly"?a.jsx(Y,{type:"number",label:"Day of Month",name:"recurrence_day",value:s.recurrence_day||"",onChange:u,min:1,max:31,required:!0}):s.recurrence_interval&&["weekly","bi-weekly"].includes(s.recurrence_interval)?a.jsx(Pe,{label:"Day of Week",name:"recurrence_week_day",value:((d=s.recurrence_week_day)==null?void 0:d.toString())||"",onChange:h=>u({...h,target:{...h.target,value:parseInt(h.target.value),name:"recurrence_week_day"}}),options:[{value:"0",label:"Sunday"},{value:"1",label:"Monday"},{value:"2",label:"Tuesday"},{value:"3",label:"Wednesday"},{value:"4",label:"Thursday"},{value:"5",label:"Friday"},{value:"6",label:"Saturday"}],required:!0}):null]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(W,{type:"button",variant:"outline",onClick:n,disabled:r,children:"Cancel"}),a.jsx(W,{type:"submit",variant:"primary",isLoading:r,children:"Make Payment"})]})]})},hj=({creditCards:e})=>{const[t,n]=w.useState("balance-high"),[r,s]=w.useState(!1),i=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p),l=(p,g)=>g===0?0:p/g*100,o=[{label:"Highest Balance",value:"balance-high",sortFn:(p,g)=>g.current_balance-p.current_balance},{label:"Lowest Balance",value:"balance-low",sortFn:(p,g)=>p.current_balance-g.current_balance},{label:"Highest Utilization",value:"utilization-high",sortFn:(p,g)=>l(g.current_balance,g.credit_limit)-l(p.current_balance,p.credit_limit)},{label:"Lowest Utilization",value:"utilization-low",sortFn:(p,g)=>l(p.current_balance,p.credit_limit)-l(g.current_balance,g.credit_limit)},{label:"Highest Credit Limit",value:"limit-high",sortFn:(p,g)=>g.credit_limit-p.credit_limit},{label:"Lowest Credit Limit",value:"limit-low",sortFn:(p,g)=>p.credit_limit-g.credit_limit}],c=e.reduce((p,g)=>p+g.credit_limit,0),u=e.reduce((p,g)=>p+g.current_balance,0),d=l(u,c),h=o.find(p=>p.value===t)||o[0],m=[...e].sort(h.sortFn);return a.jsx(re,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Available Credit"}),a.jsx("p",{className:"text-2xl font-semibold text-green-600",children:i(c)})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Current Balance"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:i(u)})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Credit Utilization"}),a.jsxs("p",{className:"text-2xl font-semibold",style:{color:d>30?"#DC2626":"#059669"},children:[d.toFixed(1),"%"]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>s(!r),className:"flex items-center space-x-2 px-3 py-2 bg-white border rounded-lg text-sm text-gray-700 hover:bg-gray-50",children:[a.jsxs("span",{children:["Sort by: ",h.label]}),a.jsx(Ie,{className:"h-4 w-4"})]}),r&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border rounded-lg shadow-lg z-10",children:o.map(p=>a.jsx("button",{onClick:()=>{n(p.value),s(!1)},className:`block w-full text-left px-4 py-2 text-sm ${p.value===t?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-50"}`,children:p.label},p.value))})]})}),a.jsx("div",{className:"space-y-2",children:m.map(p=>{const g=l(p.current_balance,p.credit_limit);return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(vt,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Limit: ",i(p.credit_limit)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-gray-900",children:i(p.current_balance)}),a.jsxs("p",{className:"text-sm",style:{color:g>30?"#DC2626":"#059669"},children:[g.toFixed(1),"% utilized"]})]})]},p.id)})})]})})},mj=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(""),[l,o]=w.useState(!1),[c,u]=w.useState(!1),[d,h]=w.useState(),[m,p]=w.useState(!1),[g,v]=w.useState({}),j=async()=>{try{r(!0);const C=await Yr();t(C);const E={};for(const z of C)E[z.id]=await _(z);v(E)}catch(C){i(C.message||"Failed to load credit cards"),console.error(C)}finally{r(!1)}};w.useEffect(()=>{j()},[]);const x=async C=>{try{p(!0),d?await iw(d.id,C):await aw(C),o(!1),await j()}catch(E){throw E}finally{p(!1)}},f=async C=>{try{p(!0),await cj(C),u(!1),await j()}catch(E){throw E}finally{p(!1)}},y=async C=>{if(confirm("Are you sure you want to delete this credit card?"))try{await lw(C.id),await j()}catch(E){i(E.message||"Failed to delete credit card"),console.error(E)}},_=async C=>{const E=Ve(new Date,3),{data:z,error:X}=await U.from("credit_card_payments").select("*").eq("credit_card_id",C.id).gt("payment_date",new Date().toISOString()).lte("payment_date",E.toISOString()).order("payment_date",{ascending:!0});return X?(console.error("Error fetching scheduled payments:",X),[]):z};if(n)return a.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(C=>a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"},C))});if(s)return a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:s})]});const N=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(C),b=C=>C<=30?"bg-green-500":C<=50?"bg-yellow-500":"bg-red-500",S=C=>{const E=C.payment_amount;switch(C.payment_frequency){case"weekly":return`${N(E)} every ${T(C.payment_week_day||0)}`;case"bi-weekly":return`${N(E)} every other ${T(C.payment_week_day||0)}`;case"bi-monthly":return`${N(E)} on the 15th and last day`;case"monthly":return`${N(E)} on day ${C.payment_day}`;default:return"No payment schedule set"}},T=C=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][C],F=C=>C.credit_limit>0?C.current_balance/C.credit_limit*100:0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Credit Cards"}),a.jsx(W,{variant:"primary",onClick:()=>{h(void 0),o(!0)},leftIcon:a.jsx(Jt,{size:20}),children:"Add Credit Card"})]}),a.jsx(hj,{creditCards:e}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(C=>{var E;return a.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[C.bank_name,"  ",C.last_four_digits]}),a.jsx("p",{className:"text-sm text-gray-500",children:C.name})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{h(C),o(!0)},className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:a.jsx(Qn,{size:16})}),a.jsx("button",{onClick:()=>y(C),className:"p-1 hover:bg-red-100 rounded-full text-red-600",children:a.jsx(Ir,{size:16})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Current Balance"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N(C.current_balance)})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[a.jsx("span",{children:"Credit Utilization"}),a.jsxs("span",{children:[F(C).toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${b(F(C))}`,style:{width:`${Math.min(F(C),100)}%`}})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Credit Limit"}),a.jsx("p",{className:"font-medium text-gray-900",children:N(C.credit_limit)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Interest Rate"}),a.jsxs("p",{className:"font-medium text-gray-900",children:[C.interest_rate,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Minimum Payment"}),a.jsx("p",{className:"font-medium text-gray-900",children:N(C.minimum_payment)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Payment Schedule"}),a.jsx("p",{className:"font-medium text-gray-900",children:S(C)})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Recent Payments"}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>{h(C),u(!0)},leftIcon:a.jsx(ge,{size:16}),children:"Add Payment"})]}),a.jsx("div",{className:"space-y-2",children:C.recent_payments&&C.recent_payments.length>0?C.recent_payments.map(z=>a.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:N(z.amount)}),a.jsx("p",{className:"text-gray-500",children:H(L(z.payment_date),"MMM d, yyyy")})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-gray-500",children:"Balance after:"}),a.jsx("p",{className:"font-medium text-gray-900",children:N(z.new_balance)})]})]},z.id)):a.jsx("p",{className:"text-sm text-gray-500 p-2 bg-gray-50 rounded",children:"No recent payments"})})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Upcoming Payments"}),a.jsx("div",{className:"space-y-2",children:((E=g[C.id])==null?void 0:E.length)>0?g[C.id].map(z=>a.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:N(z.amount)}),a.jsx("p",{className:"text-gray-500",children:H(L(z.payment_date),"MMM d, yyyy")})]}),a.jsx("div",{children:a.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${z.payment_type==="recurring"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:z.payment_type==="recurring"?"Scheduled":"One-time"})})]},z.id)):a.jsx("p",{className:"text-sm text-gray-500 p-2 bg-gray-50 rounded",children:"No upcoming payments"})})]})]})]})},C.id)})}),a.jsx(Jn,{isOpen:l,onClose:()=>o(!1),title:d?"Edit Credit Card":"Add Credit Card",size:"lg",children:a.jsx(uj,{card:d,onSubmit:x,onCancel:()=>o(!1),isLoading:m})}),a.jsx(Jn,{isOpen:c,onClose:()=>u(!1),title:"Add Payment",size:"lg",children:d&&a.jsx(dj,{card:d,onSubmit:f,onCancel:()=>u(!1),isLoading:m})})]})},fj=({card:e,onSubmit:t,onCancel:n,isLoading:r=!1})=>{const[s,i]=w.useState({name:"",bank_name:"",last_four_digits:"",available_balance:0,account_type:"checking",is_primary:!1,auto_reload_enabled:!1,auto_reload_threshold:null,auto_reload_amount:null,...e}),[l,o]=w.useState(""),c=async d=>{var h,m,p;d.preventDefault(),o("");try{if(!((h=s.name)!=null&&h.trim()))throw new Error("Card name is required");if(!((m=s.bank_name)!=null&&m.trim()))throw new Error("Bank name is required");if(!((p=s.last_four_digits)!=null&&p.trim())||!/^\d{4}$/.test(s.last_four_digits))throw new Error("Last 4 digits must be exactly 4 numbers");if(s.auto_reload_enabled){if(!s.auto_reload_threshold||s.auto_reload_threshold<=0)throw new Error("Auto-reload threshold must be greater than 0");if(!s.auto_reload_amount||s.auto_reload_amount<=0)throw new Error("Auto-reload amount must be greater than 0")}await t(s)}catch(g){o(g.message||"Failed to save debit card")}},u=d=>{const{name:h,value:m,type:p}=d.target;if(p==="number")i(g=>({...g,[h]:parseFloat(m)||0}));else if(p==="checkbox"){const g=d.target.checked;i(v=>({...v,[h]:g,...h==="auto_reload_enabled"&&!g?{auto_reload_threshold:null,auto_reload_amount:null}:{}}))}else i(g=>({...g,[h]:m}))};return a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:a.jsx("p",{className:"text-sm text-red-700",children:l})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Y,{label:"Card Name",name:"name",value:s.name,onChange:u,startAdornment:a.jsx(vt,{size:18,className:"text-gray-400"}),required:!0}),a.jsx(Y,{label:"Bank Name",name:"bank_name",value:s.bank_name,onChange:u,startAdornment:a.jsx(Ai,{size:18,className:"text-gray-400"}),required:!0}),a.jsx(Y,{label:"Last 4 Digits",name:"last_four_digits",value:s.last_four_digits,onChange:u,pattern:"\\d{4}",maxLength:4,required:!0,helperText:"Enter the last 4 digits of your card"}),a.jsx(Y,{type:"number",label:"Available Balance",name:"available_balance",value:s.available_balance,onChange:u,startAdornment:a.jsx(ge,{size:18,className:"text-gray-400"}),step:"0.01",required:!0}),a.jsxs(Pe,{label:"Account Type",name:"account_type",value:s.account_type,onChange:u,required:!0,children:[a.jsx("option",{value:"",children:"Select account type"}),a.jsx("option",{value:"checking",children:"Checking"}),a.jsx("option",{value:"savings",children:"Savings"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"is_primary",name:"is_primary",checked:s.is_primary,onChange:u,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"is_primary",className:"text-sm text-gray-700",children:"Set as primary debit card"})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("input",{type:"checkbox",id:"auto_reload_enabled",name:"auto_reload_enabled",checked:s.auto_reload_enabled,onChange:u,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"auto_reload_enabled",className:"text-sm text-gray-700",children:"Enable auto-reload"})]}),s.auto_reload_enabled&&a.jsxs("div",{className:"space-y-4 pl-6",children:[a.jsx(Y,{type:"number",label:"Auto-reload Threshold",name:"auto_reload_threshold",value:s.auto_reload_threshold||"",onChange:u,startAdornment:a.jsx(ge,{size:18,className:"text-gray-400"}),step:"0.01",required:!0,helperText:"Balance threshold to trigger auto-reload"}),a.jsx(Y,{type:"number",label:"Auto-reload Amount",name:"auto_reload_amount",value:s.auto_reload_amount||"",onChange:u,startAdornment:a.jsx(ge,{size:18,className:"text-gray-400"}),step:"0.01",required:!0,helperText:"Amount to add when auto-reload is triggered"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(W,{type:"button",variant:"outline",onClick:n,disabled:r,children:"Cancel"}),a.jsx(W,{type:"submit",variant:"primary",isLoading:r,children:e?"Update Card":"Add Card"})]})]})},pj=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(""),[l,o]=w.useState(!1),[c,u]=w.useState(),[d,h]=w.useState(!1),m=async()=>{try{r(!0);const j=await ta();t(j)}catch(j){i(j.message||"Failed to load debit cards"),console.error(j)}finally{r(!1)}};w.useEffect(()=>{m()},[]);const p=async j=>{try{h(!0),c?await W_(c.id,j):await q_(j),o(!1),await m()}catch(x){throw x}finally{h(!1)}},g=async j=>{if(confirm("Are you sure you want to delete this debit card?"))try{await H_(j.id),await m()}catch(x){i(x.message||"Failed to delete debit card"),console.error(x)}};if(n)return a.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(j=>a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"},j))});if(s)return a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:s})]});const v=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Debit Cards"}),a.jsx(W,{variant:"primary",onClick:()=>{u(void 0),o(!0)},leftIcon:a.jsx(Jt,{size:20}),children:"Add Debit Card"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(j=>a.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:j.bank_name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[" ",j.last_four_digits]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{u(j),o(!0)},className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:a.jsx(Qn,{size:16})}),a.jsx("button",{onClick:()=>g(j),className:"p-1 hover:bg-red-100 rounded-full text-red-600",children:a.jsx(Ir,{size:16})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vt,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-500",children:j.name})]}),j.is_primary&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Primary"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Available Balance"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v(j.available_balance)})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Account Type"}),a.jsx("span",{className:"font-medium text-gray-900 capitalize",children:j.account_type})]}),j.auto_reload_enabled&&a.jsxs("div",{className:"mt-2 bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:"Auto-reload Settings"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Threshold"}),a.jsx("span",{className:"font-medium text-gray-900",children:v(j.auto_reload_threshold||0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Reload Amount"}),a.jsx("span",{className:"font-medium text-gray-900",children:v(j.auto_reload_amount||0)})]})]})]})]})]})]})},j.id))}),a.jsx(Jn,{isOpen:l,onClose:()=>o(!1),title:c?"Edit Debit Card":"Add Debit Card",size:"lg",children:a.jsx(fj,{card:c,onSubmit:p,onCancel:()=>o(!1),isLoading:d})})]})},yj=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState("");if(w.useEffect(()=>{(async()=>{try{r(!0);const u=await Lf();t(u)}catch(u){i(u.message||"Failed to load payoff plans"),console.error(u)}finally{r(!1)}})()},[]),n)return a.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(c=>a.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"},c))});if(s)return a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:s})]});const l=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c),o=c=>{switch(c){case"highest_interest":return"Highest Interest First";case"lowest_balance":return"Snowball (Lowest Balance First)";case"highest_balance":return"Highest Balance First";case"custom":return"Custom Order";default:return c}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payoff Plans"})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(c=>{var u,d,h;return a.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:c.name}),a.jsx("span",{className:"text-sm text-gray-500",children:o(c.strategy)})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Monthly Payment"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l(c.monthly_payment)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Time to Payoff"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[((u=c.payoff_timeline)==null?void 0:u.total_months)||0," months"]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Total Interest"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(tf,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:"text-lg font-semibold text-gray-900",children:l(((d=c.payoff_timeline)==null?void 0:d.total_interest)||0)})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Cards in Plan"}),a.jsx("div",{className:"space-y-2",children:(h=c.selected_cards)==null?void 0:h.map(m=>{var g;const p=(g=c.payoff_timeline)==null?void 0:g.cards.find(v=>v.card_id===m.id);return a.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded",children:[a.jsxs("div",{className:"flex items-center",children:[(p==null?void 0:p.months_to_payoff)===0?a.jsx(ci,{className:"h-4 w-4 text-green-500 mr-2"}):a.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:m.name})]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[(p==null?void 0:p.months_to_payoff)||0," months left"]})]},m.id)})})]})]})]})},c.id)})})]})},gj=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(null),[s,i]=w.useState(!0),[l,o]=w.useState("");if(w.useEffect(()=>{(async()=>{try{i(!0);const[h,m]=await Promise.all([cw(),dw()]);t(h),r(m)}catch(h){o(h.message||"Failed to load budget information"),console.error(h)}finally{i(!1)}})()},[]),s)return a.jsx("div",{className:"animate-pulse space-y-4",children:[1,2].map(d=>a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"},d))});if(l)return a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:l})]});const c=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),u=async()=>{try{if(n){const d=await uw({amount:n.spending,frequency:"monthly",is_auto_calculated:!0});t(d)}}catch(d){o(d.message||"Failed to create budget"),console.error(d)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Spending Budget"})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Budget"}),a.jsx(Wt,{className:"text-blue-500 h-6 w-6"})]}),e?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Monthly Spending Limit"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c(e.amount)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Frequency"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:e.frequency.charAt(0).toUpperCase()+e.frequency.slice(1)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Auto-calculated"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:e.is_auto_calculated?"Yes":"No"})]})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-500 mb-4",children:"No budget set yet"}),a.jsxs("button",{onClick:u,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(Jt,{className:"h-5 w-5 mr-2"}),"Create Budget"]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recommended Budget"}),a.jsx(N0,{className:"text-green-500 h-6 w-6"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Recommended Monthly Spending"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:c((n==null?void 0:n.spending)||0)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Recommended Debt Payment"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:c((n==null?void 0:n.debt_payment)||0)})]}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsx("p",{className:"text-sm text-gray-600",children:"This recommendation is based on your income, existing bills, and current debt levels. Adjusting your spending to match these recommendations can help you achieve your financial goals faster."})})]})]})})]})]})};async function xj(){const{data:e,error:t}=await U.from("purchase_goals").select("*").order("created_at",{ascending:!1});if(t)throw t;return e.map(n=>({...n,progress:n.target_amount>0?n.current_amount/n.target_amount*100:0}))}const vj=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState("");if(w.useEffect(()=>{(async()=>{try{r(!0);const c=await xj();t(c)}catch(c){i(c.message||"Failed to load purchase goals"),console.error(c)}finally{r(!1)}})()},[]),n)return a.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(o=>a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"},o))});if(s)return a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:s})]});const l=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchase Goals"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(o=>{var c;return a.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:o.name}),a.jsx(Kn,{className:"text-blue-500"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"}),a.jsxs("div",{className:"mt-1",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[a.jsx("span",{children:l(o.current_amount)}),a.jsx("span",{children:l(o.target_amount)})]}),a.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-500",style:{width:`${o.progress}%`}})}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[(c=o.progress)==null?void 0:c.toFixed(1),"% Complete"]})]})]}),o.target_date&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gn,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium text-gray-900",children:H(new Date(o.target_date),"MMM d, yyyy")})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Remaining"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:l(o.target_amount-o.current_amount)})]})]})]})},o.id)})})]})},wj=({profile:e,onSubmit:t,onCancel:n,isLoading:r=!1})=>{const[s,i]=w.useState({income_amount:(e==null?void 0:e.income_amount)||0,income_frequency:(e==null?void 0:e.income_frequency)||"monthly",income_day:(e==null?void 0:e.income_day)||null,income_start_date:(e==null?void 0:e.income_start_date)||H(new Date,"yyyy-MM-dd")}),[l,o]=w.useState(""),c=async d=>{d.preventDefault(),o("");try{if(!s.income_amount||s.income_amount<=0)throw new Error("Income amount must be greater than 0");if(s.income_frequency==="specific-date"&&!s.income_day)throw new Error("Please select a day of the month for specific date income");if(!s.income_start_date)throw new Error("Income start date is required");await t(s)}catch(h){o(h.message||"Failed to save profile")}},u=d=>{const{name:h,value:m,type:p}=d.target;i(p==="number"?g=>({...g,[h]:parseFloat(m)||0}):g=>({...g,[h]:m,...h==="income_frequency"&&m!=="specific-date"?{income_day:null}:{}}))};return a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:a.jsx("p",{className:"text-sm text-red-700",children:l})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Y,{type:"number",label:"Income Amount",name:"income_amount",value:s.income_amount,onChange:u,startAdornment:a.jsx(ge,{size:18,className:"text-gray-400"}),step:"0.01",min:"0",required:!0}),a.jsxs(Pe,{label:"Income Frequency",name:"income_frequency",value:s.income_frequency,onChange:u,required:!0,startAdornment:a.jsx(Oe,{size:18,className:"text-gray-400"}),children:[a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"bi-weekly",children:"Bi-weekly"}),a.jsx("option",{value:"bi-monthly",children:"Bi-monthly (15th & Last Day)"}),a.jsx("option",{value:"monthly",children:"Monthly"}),a.jsx("option",{value:"specific-date",children:"Specific Date"})]}),s.income_frequency==="specific-date"&&a.jsx(Y,{type:"number",label:"Day of Month",name:"income_day",value:s.income_day||"",onChange:u,min:"1",max:"31",required:!0,startAdornment:a.jsx(Oe,{size:18,className:"text-gray-400"}),helperText:"Enter a day between 1 and 31"}),a.jsx(Y,{type:"date",label:"Income Start Date",name:"income_start_date",value:s.income_start_date||"",onChange:u,startAdornment:a.jsx(Oe,{size:18,className:"text-gray-400"}),required:!0,helperText:"Select when your income payments begin"})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(W,{type:"button",variant:"outline",onClick:n,disabled:r,children:"Cancel"}),a.jsx(W,{type:"submit",variant:"primary",isLoading:r,children:"Save Changes"})]})]})},_j=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(!0),[s,i]=w.useState(""),[l,o]=w.useState(!1),[c,u]=w.useState(!1),d=nr();w.useEffect(()=>{(async()=>{try{r(!0);const y=await Gr();if(y===null){d("/login");return}t(y)}catch(y){if(y.message==="User not authenticated"){d("/login");return}i(y.message||"Failed to load profile"),console.error(y)}finally{r(!1)}})()},[d]);const h=async f=>{try{u(!0);const y=await ow(f);t(y),o(!1)}catch(y){throw y}finally{u(!1)}},m=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),p=f=>{switch(f){case"weekly":return"Weekly";case"bi-weekly":return"Bi-weekly";case"bi-monthly":return"Bi-monthly (15th & Last Day)";case"monthly":return"Monthly";case"specific-date":return"Specific Date";default:return f}},g=f=>f?H(f,"EEEE, MMMM d, yyyy"):"N/A",v=(f,y)=>{if(!f)return null;const _=new Date,N=Math.floor((f.getTime()-_.getTime())/(1e3*60*60*24)),b=Math.abs(N);return y?a.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:N===0?"Today":`in ${b} day${b===1?"":"s"}`}):a.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:N===0?"Today":`${b} day${b===1?"":"s"} ago`})},{lastPayDate:j,nextPayDate:x}=e?Ff(e):{lastPayDate:null,nextPayDate:null};return n?a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"}),a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})]}):s?a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:s})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile"})}),a.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:a.jsx(rf,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Financial Profile"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage your financial information"})]})]}),a.jsx("div",{className:"space-y-6",children:l?a.jsx(wj,{profile:e,onSubmit:h,onCancel:()=>o(!1),isLoading:c}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Income Details"}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>o(!0),leftIcon:a.jsx(Qn,{size:16}),children:"Edit"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ge,{className:"h-5 w-5 text-green-500"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Monthly Income"})]}),a.jsx("span",{className:"text-lg font-medium text-gray-900",children:m((e==null?void 0:e.income_amount)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Oe,{className:"h-5 w-5 text-blue-500"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Frequency"})]}),a.jsxs("span",{className:"text-lg font-medium text-gray-900",children:[p((e==null?void 0:e.income_frequency)||"monthly"),(e==null?void 0:e.income_day)&&e.income_frequency==="specific-date"&&` (Day ${e.income_day})`]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Oe,{className:"h-5 w-5 text-purple-500"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Start Date"})]}),a.jsx("span",{className:"text-lg font-medium text-gray-900",children:e!=null&&e.income_start_date?H(L(e.income_start_date),"MMM d, yyyy"):"Not set"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Last Pay Date"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("p",{className:"text-lg font-medium text-gray-900",children:g(j)}),v(j,!1)]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Next Pay Date"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("p",{className:"text-lg font-medium text-gray-900",children:g(x)}),v(x,!0)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Profile Created"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:H(L((e==null?void 0:e.created_at)||new Date().toISOString()),"MMM d, yyyy")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:H(L((e==null?void 0:e.updated_at)||new Date().toISOString()),"MMM d, yyyy")})]})]})]})})]})})]})},qf=({mode:e})=>{const t=nr(),[n,r]=w.useState(""),[s,i]=w.useState(""),[l,o]=w.useState(""),[c,u]=w.useState(!1),d=async h=>{h.preventDefault(),o(""),u(!0);try{e==="login"?await Jv(n,s):await Xv(n,s),t("/")}catch(m){o(m.message||"An error occurred")}finally{u(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:e==="login"?"Sign in to your account":"Create your account"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:e==="login"?a.jsxs(a.Fragment,{children:["Don't have an account?"," ",a.jsx("button",{onClick:()=>t("/signup"),className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]}):a.jsxs(a.Fragment,{children:["Already have an account?"," ",a.jsx("button",{onClick:()=>t("/login"),className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]}),l&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(_0,{size:20,className:"text-red-500 mr-2"}),a.jsx("p",{className:"text-sm text-red-700",children:l})]})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[a.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[a.jsx(Y,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,label:"Email address",startAdornment:a.jsx(E0,{size:18,className:"text-gray-400"}),value:n,onChange:h=>r(h.target.value),fullWidth:!0}),a.jsx(Y,{id:"password",name:"password",type:"password",autoComplete:e==="login"?"current-password":"new-password",required:!0,label:"Password",startAdornment:a.jsx(C0,{size:18,className:"text-gray-400"}),value:s,onChange:h=>i(h.target.value),fullWidth:!0})]}),a.jsx("div",{children:a.jsx(W,{type:"submit",variant:"primary",size:"lg",isLoading:c,fullWidth:!0,children:e==="login"?"Sign in":"Sign up"})})]})]})})},jj=()=>a.jsx(qf,{mode:"login"}),bj=()=>a.jsx(qf,{mode:"signup"}),Nj=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(null),[s,i]=w.useState(!0),[l,o]=w.useState(""),[c,u]=w.useState(!1),d=nr();if(w.useEffect(()=>{(async()=>{try{i(!0);const[y,_]=await Promise.all([Lc(),Gr()]);if(!_){d("/login");return}t(y),r(_)}catch(y){if(y.message==="User not authenticated"){d("/login");return}o(y.message||"Failed to load income data"),console.error(y)}finally{i(!1)}})()},[d]),s)return a.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(f=>a.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"},f))});if(l)return a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(dt,{className:"mr-2"}),a.jsx("span",{children:l})]});const h=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),m=f=>{switch(f){case"weekly":return"Weekly";case"bi-weekly":return"Bi-weekly";case"bi-monthly":return"Bi-monthly";case"monthly":return"Monthly";case"specific-date":return"Specific Date";default:return f}},p=f=>{const y=new Date,_=L(f.payment_date);if(Vt(_))return{label:"Today",className:"bg-yellow-100 text-yellow-800"};if(pi(_,y)){const N=Math.ceil((_.getTime()-y.getTime())/864e5);return{label:`in ${N} day${N===1?"":"s"}`,className:"bg-blue-100 text-blue-800"}}return null},g=[...e].sort((f,y)=>L(f.payment_date).getTime()-L(y.payment_date).getTime()),v=new Date,j=g.filter(f=>pi(L(f.payment_date),v)||Vt(L(f.payment_date))),x=g.filter(f=>Fr(L(f.payment_date),v)&&!Vt(L(f.payment_date)));return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Income"})}),a.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Income Details"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[h((n==null?void 0:n.income_amount)||0)," ",n==null?void 0:n.income_frequency]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ge,{className:"h-5 w-5 text-green-500"}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Started ",n!=null&&n.income_start_date?H(L(n.income_start_date),"MMM d, yyyy"):"Not set"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequency"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(f=>{const y=p(f);return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:H(L(f.payment_date),"MMM d, yyyy")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:h(f.amount)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m(f.frequency)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:y&&a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y.className}`,children:y.label})})]},f.id)})})]})}),x.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("button",{onClick:()=>u(!c),className:"flex items-center text-sm text-gray-500 hover:text-gray-700",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"h-4 w-4 mr-1"}),"Hide Past Paychecks"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"h-4 w-4 mr-1"}),"Show Past Paychecks (",x.length,")"]})}),c&&a.jsx("div",{className:"mt-4 overflow-x-auto",children:a.jsx("table",{className:"min-w-full divide-y divide-gray-200",children:a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(f=>a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:H(L(f.payment_date),"MMM d, yyyy")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-500",children:h(f.amount)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m(f.frequency)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Past"})]},f.id))})})})]})]})})]})},kj=({accounts:e,onAddAccount:t,onEditAccount:n})=>{const r=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l),s=l=>{switch(l){case"financial_institute":return a.jsx(Ai,{className:"h-6 w-6 text-[#1e293b]"});case"cash":return a.jsx(Nn,{className:"h-6 w-6 text-[#1e293b]"});case"piggy_bank":return a.jsx(Wt,{className:"h-6 w-6 text-[#1e293b]"});default:return a.jsx(Wt,{className:"h-6 w-6 text-[#1e293b]"})}},i=l=>{switch(l){case"financial_institute":return"Financial Institute";case"cash":return"Cash Savings";case"piggy_bank":return"Piggy Bank";default:return l}};return e.length===0?a.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-2xl p-8 text-center",children:[a.jsx(Wt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No savings accounts yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving by adding your first savings account"}),a.jsx(W,{variant:"primary",onClick:t,leftIcon:a.jsx(Jt,{size:20}),children:"Add Savings Account"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(l=>a.jsx(re,{className:"bg-white rounded-2xl shadow-md border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-[#1e293b] p-2 rounded-xl",children:s(l.account_type)}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-[#1e293b]",children:l.name}),a.jsx("p",{className:"text-sm text-gray-600",children:i(l.account_type)})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>n(l),leftIcon:a.jsx(Qn,{size:16}),children:"Edit"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Current Balance"}),a.jsx("p",{className:"text-2xl font-bold text-[#1e293b]",children:r(l.current_balance)})]}),l.target_balance&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Target Balance"}),a.jsx("span",{className:"font-medium text-[#1e293b]",children:r(l.target_balance)})]}),l.auto_transfer_enabled&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-[#1e293b]",children:"Auto-Transfer Settings"}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Threshold"}),a.jsx("span",{className:"font-medium text-[#1e293b]",children:r(l.auto_transfer_threshold||0)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Transfer Amount"}),a.jsx("span",{className:"font-medium text-[#1e293b]",children:r(l.auto_transfer_amount||0)})]})]})]})]})},l.id))})},Sj=({plans:e,onAddPlan:t,onAddPayment:n,onEditPlan:r,onDeletePlan:s,onDeletePayment:i})=>{const[l,o]=w.useState(new Set),[c,u]=w.useState({});w.useState(null);const[d,h]=w.useState(!1);w.useEffect(()=>{(async()=>{const y={};for(const _ of e)try{const N=await X_(_.savings_id);y[_.id]=N}catch(N){console.error(`Failed to fetch payments for plan ${_.id}:`,N),y[_.id]=[]}u(y)})()},[e]);const m=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),p=f=>{o(y=>{const _=new Set(y);return _.has(f)?_.delete(f):_.add(f),_})},g=f=>{var _;const y=Lr(new Date);return((_=c[f.id])==null?void 0:_.filter(N=>pi(L(N.payment_date),y)).sort((N,b)=>L(N.payment_date).getTime()-L(b.payment_date).getTime()))||[]},v=f=>{var _;const y=Lr(new Date);return((_=c[f.id])==null?void 0:_.filter(N=>Fr(L(N.payment_date),y)).sort((N,b)=>L(b.payment_date).getTime()-L(N.payment_date).getTime()))||[]},j=f=>{prompt('Type "DELETE" to confirm deletion:')==="DELETE"&&i(f)},x=async(f,y)=>{try{let _=null;y===null?_=!0:y===!0&&(_=!1),await tj(f,_),u(N=>{const b={...N};return Object.keys(b).forEach(S=>{b[S]=b[S].map(T=>T.id===f?{...T,paid_status:_}:T)}),b})}catch(_){console.error("Failed to update payment status:",_)}};return e.length===0?a.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-2xl p-8 text-center",children:[a.jsx(Kn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No savings plans yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Create a plan to reach your savings goals"}),a.jsx(W,{variant:"primary",onClick:t,leftIcon:a.jsx(Jt,{size:20}),children:"Create Savings Plan"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(f=>{const y=l.has(f.id),_=g(f),N=v(f);return a.jsx(re,{className:"bg-white rounded-2xl shadow-md border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-[#1e293b]",children:f.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Target Date: ",f.target_date?H(L(f.target_date),"MMM d, yyyy"):"No target date"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[f.is_active&&a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Active"}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>r(f),className:"p-1 text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:a.jsx(Qn,{size:16})}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>s(f.id),className:"p-1 text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(Ir,{size:16})})]})]}),a.jsxs("div",{className:"space-y-2",children:[f.goal_amount>0&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Goal Amount"}),a.jsx("span",{className:"font-bold text-[#1e293b]",children:m(f.goal_amount)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Current Progress"}),a.jsx("span",{className:"font-bold text-[#1e293b]",children:m(f.current_amount)})]}),f.goal_amount>0&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-[#f97316] h-2.5 rounded-full",style:{width:`${Math.min(f.current_amount/f.goal_amount*100,100)}%`}})})]}),a.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Payment Schedule"}),a.jsxs("p",{className:"font-medium text-[#1e293b]",children:[m(f.payment_amount)," ",f.payment_frequency||"monthly"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[f.schedule_type||"Custom Schedule","  ",f.payment_type||"Monthly"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>n(f.id),children:"Add Payment"}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>p(f.id),className:"p-1",children:y?a.jsx(Be,{size:20}):a.jsx(Ie,{size:20})})]})]}),y&&a.jsxs("div",{className:"mt-4 space-y-4",children:[_.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Upcoming Payments"}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>h(!d),className:"text-gray-600 hover:text-gray-900",children:d?"Hide Actions":"Show Actions"})]}),a.jsx("div",{className:"space-y-2",children:_.map(b=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-600",children:H(L(b.payment_date),"MMM d, yyyy")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium text-[#1e293b]",children:m(b.amount)}),d&&a.jsxs(a.Fragment,{children:[a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>x(b.id,b.paid_status),className:"p-1",children:a.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${b.paid_status===!0?"bg-green-100 text-green-600 hover:bg-green-200":b.paid_status===!1?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:b.paid_status===!0?a.jsx(ci,{size:14}):b.paid_status===!1?a.jsx(sf,{size:14}):a.jsx(ci,{size:14})})}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>j(b.id),className:"p-1 text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(Ir,{size:16})})]})]})]},b.id))})]}),N.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Payment History"}),a.jsx("div",{className:"space-y-2",children:N.map(b=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-600",children:H(L(b.payment_date),"MMM d, yyyy")}),a.jsxs("span",{className:`font-medium ${b.payment_type==="deposit"?"text-green-600":"text-red-600"}`,children:[b.payment_type==="deposit"?"+":"-",m(b.amount)]})]},b.id))})]}),_.length===0&&N.length===0&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No payments recorded yet"})]})]})]})},f.id)})})},Cj=({accounts:e,plans:t,recentPayments:n})=>{const r=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l),s=e.reduce((l,o)=>l+o.current_balance,0),i=t.reduce((l,o)=>{const c=o.payment_amount;switch(o.payment_frequency){case"weekly":return l+c*4;case"bi-weekly":return l+c*2;case"bi-monthly":return l+c*2;case"monthly":default:return l+c}},0);return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(re,{className:"p-6 bg-white rounded-2xl shadow-md border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"bg-[#1e293b] p-3 rounded-xl",children:a.jsx(Wt,{className:"h-6 w-6 text-[#f97316]"})}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-base text-gray-600",children:"Total Savings"}),a.jsx("p",{className:"text-2xl font-bold text-[#1e293b]",children:r(s)})]})]}),a.jsx("div",{className:"flex items-center justify-between text-sm",children:a.jsxs("span",{className:"text-gray-600",children:["Across ",e.length," account",e.length!==1?"s":""]})})]}),a.jsxs(re,{className:"p-6 bg-white rounded-2xl shadow-md border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"bg-[#1e293b] p-3 rounded-xl",children:a.jsx(Kn,{className:"h-6 w-6 text-[#f97316]"})}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-base text-gray-600",children:"Monthly Goal"}),a.jsx("p",{className:"text-2xl font-bold text-[#1e293b]",children:r(i)})]})]}),a.jsx("div",{className:"flex items-center justify-between text-sm",children:a.jsxs("span",{className:"text-gray-600",children:["From ",t.length," active plan",t.length!==1?"s":""]})})]}),a.jsxs(re,{className:"p-6 bg-white rounded-2xl shadow-md border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"bg-[#1e293b] p-3 rounded-xl",children:a.jsx(Oe,{className:"h-6 w-6 text-[#f97316]"})}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-base text-gray-600",children:"Recent Activity"}),a.jsxs("p",{className:"text-2xl font-bold text-[#1e293b]",children:[n.length," transaction",n.length!==1?"s":""]})]})]}),a.jsx("div",{className:"space-y-2",children:n.slice(0,2).map(l=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[l.payment_type==="deposit"?a.jsx(b0,{className:"h-4 w-4 text-green-500"}):a.jsx(j0,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-gray-600",children:H(L(l.payment_date),"MMM d")})]}),a.jsxs("span",{className:l.payment_type==="deposit"?"text-green-600":"text-red-600",children:[l.payment_type==="deposit"?"+":"-",r(l.amount)]})]},l.id))})]})]})},Pj=({account:e,onSubmit:t,onCancel:n,isLoading:r=!1})=>{const[s,i]=w.useState({name:"",account_type:"financial_institute",institution_name:"",current_balance:0,target_balance:null,notes:"",is_primary:!1,auto_transfer_enabled:!1,auto_transfer_threshold:null,auto_transfer_amount:null,...e}),[l,o]=w.useState(""),c=async d=>{var h,m;d.preventDefault(),o("");try{if(!((h=s.name)!=null&&h.trim()))throw new Error("Account name is required");if(!s.account_type)throw new Error("Account type is required");if(s.account_type==="financial_institute"&&!((m=s.institution_name)!=null&&m.trim()))throw new Error("Institution name is required for financial institute accounts");if(s.auto_transfer_enabled){if(!s.auto_transfer_threshold||s.auto_transfer_threshold<=0)throw new Error("Auto-transfer threshold must be greater than 0");if(!s.auto_transfer_amount||s.auto_transfer_amount<=0)throw new Error("Auto-transfer amount must be greater than 0")}await t(s)}catch(p){let g=p.message||"Failed to save savings account";g.includes("duplicate key")&&(g="There was an error creating the account. Please try again."),o(g);const v=document.querySelector(".error-message");v==null||v.scrollIntoView({behavior:"smooth",block:"center"})}},u=d=>{const{name:h,value:m,type:p}=d.target;if(p==="number")i(g=>({...g,[h]:parseFloat(m)||0}));else if(p==="checkbox"){const g=d.target.checked;i(v=>({...v,[h]:g,...h==="auto_transfer_enabled"&&!g?{auto_transfer_threshold:null,auto_transfer_amount:null}:{}}))}else i(g=>({...g,[h]:m}))};return a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l&&a.jsx("div",{className:"error-message bg-red-50 border-l-4 border-red-500 p-4 rounded",children:a.jsx("p",{className:"text-sm text-red-700",children:l})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Y,{label:"Account Name",name:"name",value:s.name,onChange:u,required:!0}),a.jsxs(Pe,{label:"Account Type",name:"account_type",value:s.account_type,onChange:u,required:!0,children:[a.jsx("option",{value:"financial_institute",children:"Financial Institute"}),a.jsx("option",{value:"cash",children:"Cash"}),a.jsx("option",{value:"piggy_bank",children:"Piggy Bank"})]}),s.account_type==="financial_institute"&&a.jsx(Y,{label:"Institution Name",name:"institution_name",value:s.institution_name,onChange:u,required:!0,startAdornment:a.jsx(Ai,{size:18,className:"text-gray-400"})}),a.jsx(Y,{type:"number",label:"Current Balance",name:"current_balance",value:s.current_balance,onChange:u,startAdornment:a.jsx(Nn,{size:18,className:"text-gray-400"}),step:"0.01",required:!0}),a.jsx(Y,{type:"number",label:"Target Balance (Optional)",name:"target_balance",value:s.target_balance||"",onChange:u,startAdornment:a.jsx(Wt,{size:18,className:"text-gray-400"}),step:"0.01"}),a.jsx(Y,{label:"Notes (Optional)",name:"notes",value:s.notes,onChange:u}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"is_primary",name:"is_primary",checked:s.is_primary,onChange:u,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"is_primary",className:"text-sm text-gray-700",children:"Set as primary savings account"})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("input",{type:"checkbox",id:"auto_transfer_enabled",name:"auto_transfer_enabled",checked:s.auto_transfer_enabled,onChange:u,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"auto_transfer_enabled",className:"text-sm text-gray-700",children:"Enable auto-transfer"})]}),s.auto_transfer_enabled&&a.jsxs("div",{className:"space-y-4 pl-6",children:[a.jsx(Y,{type:"number",label:"Auto-transfer Threshold",name:"auto_transfer_threshold",value:s.auto_transfer_threshold||"",onChange:u,startAdornment:a.jsx(Nn,{size:18,className:"text-gray-400"}),step:"0.01",required:!0,helperText:"Balance threshold to trigger auto-transfer"}),a.jsx(Y,{type:"number",label:"Auto-transfer Amount",name:"auto_transfer_amount",value:s.auto_transfer_amount||"",onChange:u,startAdornment:a.jsx(Nn,{size:18,className:"text-gray-400"}),step:"0.01",required:!0,helperText:"Amount to transfer when threshold is reached"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(W,{type:"button",variant:"outline",onClick:n,disabled:r,children:"Cancel"}),a.jsx(W,{type:"submit",variant:"primary",isLoading:r,children:e?"Update Account":"Add Account"})]})]})},Ej=({account:e,plan:t,onSubmit:n,onCancel:r,isLoading:s=!1})=>{const i=nr(),[l,o]=w.useState("initial"),[c,u]=w.useState(t?t.goal_amount>0?"goal_amount":"running_savings":null),[d,h]=w.useState({id:t==null?void 0:t.id,savings_id:e.id,name:(t==null?void 0:t.name)||"",goal_amount:(t==null?void 0:t.goal_amount)||0,target_date:(t==null?void 0:t.target_date)||null,current_amount:e.current_balance,payment_amount:(t==null?void 0:t.payment_amount)||0,payment_day:(t==null?void 0:t.payment_day)||1,payment_week_day:(t==null?void 0:t.payment_week_day)||null,start_date:(t==null?void 0:t.start_date)||H(new Date,"yyyy-MM-dd"),is_active:(t==null?void 0:t.is_active)??!0,plan_type:(t==null?void 0:t.plan_type)||"goal_amount",schedule_type:(t==null?void 0:t.schedule_type)||"Custom Schedule",payment_type:(t==null?void 0:t.payment_type)||"Monthly"}),[m,p]=w.useState(null),[g,v]=w.useState(null),[j,x]=w.useState(""),[f,y]=w.useState({monthly:0,biweekly:0,weekly:0}),[_,N]=w.useState(t?{monthlyPayment:t.payment_amount,paycheckPayment:t.payment_frequency==="paycheck"?t.payment_amount/2:t.payment_amount,monthsToTarget:t.target_date?ba(L(t.target_date),new Date):12,totalPayments:t.target_date?ba(L(t.target_date),new Date):12,targetDate:t.target_date?L(t.target_date):Ve(new Date,12)}:null),[b,S]=w.useState([]);w.useEffect(()=>{(async()=>{try{const[k,I,P]=await Promise.all([Uc(),Gr(),V_()]);let O=(I==null?void 0:I.income_amount)||0;switch(I==null?void 0:I.income_frequency){case"weekly":O*=4.33;break;case"bi-weekly":O*=2.17;break;case"bi-monthly":O*=2;break}p({...k,income:O}),v(I),S(P)}catch(k){console.error("Failed to load financial data:",k)}})()},[]),w.useEffect(()=>{if(d.goal_amount&&d.target_date){const M=L(d.target_date),k=L(d.start_date||H(new Date,"yyyy-MM-dd")),I=ba(M,k);if(I>0){const O=(d.goal_amount-(d.current_amount||0))/I;let q=0,V=0;if(g)switch(g.income_frequency){case"weekly":V=O/4.33,q=V*2;break;case"bi-weekly":q=O/2.17,V=q/2;break;case"bi-monthly":q=O/2,V=q/2;break;case"monthly":q=O/2,V=O/4.33;break;case"specific-date":q=O/2,V=O/4.33;break}y({monthly:O,biweekly:q,weekly:V})}}},[d.goal_amount,d.target_date,d.current_amount,d.start_date,g]);const T=()=>{var M;if(l==="initial"){if(!((M=d.name)!=null&&M.trim())){x("Plan name is required");return}if(!c){x("Please select a plan type");return}o(c==="running_savings"?"payment_frequency":"details")}else if(l==="details"){if(c==="goal_amount"&&!d.goal_amount){x("Goal amount is required");return}o("payment_frequency")}else l==="payment_frequency"&&o("scenarios")},F=async M=>{M.preventDefault(),x(null);try{let k=null,I=null,P="Custom Schedule",O="Monthly";d.schedule_type==="Per Paycheck"&&g?(k=g.payment_day,I=g.payment_week_day,P="Per Paycheck",O=g.income_frequency==="weekly"?"Weekly":g.income_frequency==="bi-weekly"?"Bi-Weekly":g.income_frequency==="bi-monthly"?"Bi-Monthly":"Monthly"):(k=d.payment_day||1,I=null,O="Monthly");const q={...d,savings_id:e.id,payment_amount:d.schedule_type==="Per Paycheck"?_.paycheckPayment:_.monthlyPayment,payment_day:k,payment_week_day:I,is_active:!0,plan_type:c,target_date:c==="goal_amount"?d.target_date:null,goal_amount:c==="goal_amount"?d.goal_amount:0,schedule_type:P,payment_type:O};if(t)await n({...q,id:t.id,created_at:t.created_at});else{const{id:V,created_at:G,...ce}=q;await n(ce)}i("/savings")}catch(k){x(k instanceof Error?k.message:"Failed to save savings plan")}},C=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(M),E=M=>{h(M==="paycheck"&&g?k=>({...k,schedule_type:"Per Paycheck",payment_type:g.income_frequency==="weekly"?"Weekly":g.income_frequency==="bi-weekly"?"Bi-Weekly":g.income_frequency==="bi-monthly"?"Bi-Monthly":"Monthly",payment_day:g.payment_day,payment_week_day:g.payment_week_day,payment_amount:f[M]||0}):k=>({...k,schedule_type:"Custom Schedule",payment_type:"Monthly",payment_amount:f[M]||0,payment_day:M==="monthly"?1:null,payment_week_day:["weekly","bi-weekly"].includes(M)?1:null}))},z=M=>{N(M),h(k=>({...k,payment_amount:d.schedule_type==="Per Paycheck"?M.paycheckPayment:M.monthlyPayment,target_date:H(M.targetDate,"yyyy-MM-dd")})),o("review")},X=()=>a.jsxs(re,{className:"p-8 bg-gradient-to-br from-white to-blue-50 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Your Savings Plan"}),a.jsx(W,{variant:"outline",onClick:r,children:"Cancel"})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx(Y,{label:"Plan Name",name:"name",value:d.name,onChange:M=>h(k=>({...k,name:M.target.value})),startAdornment:a.jsx(Kn,{size:18,className:"text-blue-500"}),required:!0,className:"bg-white/80 backdrop-blur-sm"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Select Plan Type"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:`p-6 border-2 rounded-xl cursor-pointer transition-all ${c==="goal_amount"?"border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100/50 shadow-lg":"border-gray-200 hover:border-blue-300 hover:bg-blue-50/50"}`,onClick:()=>u("goal_amount"),children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${c==="goal_amount"?"bg-blue-500":"bg-gray-100"}`,children:a.jsx(Kn,{size:24,className:c==="goal_amount"?"text-white":"text-gray-500"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Savings Goal Amount"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Set a specific amount to save"})]})]})}),a.jsx("div",{className:`p-6 border-2 rounded-xl cursor-pointer transition-all ${c==="running_savings"?"border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100/50 shadow-lg":"border-gray-200 hover:border-blue-300 hover:bg-blue-50/50"}`,onClick:()=>u("running_savings"),children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${c==="running_savings"?"bg-blue-500":"bg-gray-100"}`,children:a.jsx(nf,{size:24,className:c==="running_savings"?"text-white":"text-gray-500"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Running Savings"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Save a consistent amount regularly"})]})]})})]})]})]})]}),oe=()=>a.jsxs(re,{className:"p-8 bg-gradient-to-br from-white to-indigo-50 border border-indigo-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Plan Details"}),a.jsx(W,{variant:"outline",onClick:()=>o("initial"),children:"Back"})]}),a.jsx("div",{className:"space-y-8",children:c==="goal_amount"&&a.jsxs(a.Fragment,{children:[a.jsx(Y,{type:"number",label:"Goal Amount",name:"goal_amount",value:d.goal_amount,onChange:M=>h(k=>({...k,goal_amount:parseFloat(M.target.value)||0})),startAdornment:a.jsx(ge,{size:18,className:"text-indigo-500"}),step:"0.01",min:"0",required:!0,className:"bg-white/80 backdrop-blur-sm"}),a.jsx(Y,{type:"date",label:"Target Date (Optional)",name:"target_date",value:d.target_date||"",onChange:M=>h(k=>({...k,target_date:M.target.value||null})),startAdornment:a.jsx(Oe,{size:18,className:"text-indigo-500"}),className:"bg-white/80 backdrop-blur-sm"})]})})]}),je=()=>a.jsxs(re,{className:"p-8 bg-gradient-to-br from-white to-purple-50 border border-purple-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Schedule"}),a.jsx(W,{variant:"outline",onClick:()=>o(c==="running_savings"?"initial":"details"),children:"Back"})]}),a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:`p-6 border-2 rounded-xl cursor-pointer transition-all ${d.schedule_type==="Custom Schedule"?"border-purple-500 bg-gradient-to-br from-purple-50 to-purple-100/50 shadow-lg":"border-gray-200 hover:border-purple-300 hover:bg-purple-50/50"}`,onClick:()=>E("monthly"),children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${d.schedule_type==="Custom Schedule"?"bg-purple-500":"bg-gray-100"}`,children:a.jsx(Oe,{size:24,className:d.schedule_type==="Custom Schedule"?"text-white":"text-gray-500"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Monthly Payments"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Pay on the same day each month"})]})]})}),a.jsx("div",{className:`p-6 border-2 rounded-xl cursor-pointer transition-all ${d.schedule_type==="Per Paycheck"?"border-purple-500 bg-gradient-to-br from-purple-50 to-purple-100/50 shadow-lg":"border-gray-200 hover:border-purple-300 hover:bg-purple-50/50"}`,onClick:()=>E("paycheck"),children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${d.schedule_type==="Per Paycheck"?"bg-purple-500":"bg-gray-100"}`,children:a.jsx(ge,{size:24,className:d.schedule_type==="Per Paycheck"?"text-white":"text-gray-500"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Paycheck-Based"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Pay when you receive your paycheck"})]})]})})]})})]}),Se=()=>a.jsxs(re,{className:"p-8 mb-8 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 border border-blue-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-8",children:"Your Financial Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-sm border border-blue-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Monthly Income"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:C((m==null?void 0:m.income)||0)})]}),a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-sm border border-blue-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Monthly Bills"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:C((m==null?void 0:m.total_bills)||0)})]}),a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-sm border border-blue-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Available for Savings"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:C(((m==null?void 0:m.income)||0)-((m==null?void 0:m.total_bills)||0))})]})]})]}),be=()=>c==="goal_amount"?$():A(),$=()=>{const M=((m==null?void 0:m.income)||0)-((m==null?void 0:m.total_bills)||0),k=d.goal_amount-(d.current_amount||0),I=!!d.target_date,P=d.schedule_type==="Per Paycheck",O=V=>{const G=M*(V/100),ce=P?G/2:G;if(I){const Te=L(d.target_date),pe=L(d.start_date||H(new Date,"yyyy-MM-dd")),K=ba(Te,pe);return{monthlyPayment:G,paycheckPayment:ce,monthsToTarget:K,isFeasible:G>=k/K,totalPayments:Math.ceil(k/G)}}return{monthlyPayment:G,paycheckPayment:ce,monthsToTarget:Math.ceil(k/G),isFeasible:!0,totalPayments:Math.ceil(k/G)}},q=[{percentage:100,label:"Aggressive Savings",description:"Use 100% of available savings"},{percentage:50,label:"Balanced Approach",description:"Use 50% of available savings"},{percentage:25,label:"Conservative Savings",description:"Use 25% of available savings"}];return a.jsxs(a.Fragment,{children:[Se(),a.jsxs(re,{className:"p-8 bg-gradient-to-br from-white to-blue-50 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Savings Scenarios"}),a.jsx(W,{variant:"outline",onClick:()=>o("payment_frequency"),children:"Back"})]}),a.jsxs("div",{className:"space-y-8",children:[q.map((V,G)=>{const{monthlyPayment:ce,paycheckPayment:Te,monthsToTarget:pe,isFeasible:K,totalPayments:ne}=O(V.percentage),It=Ve(new Date,pe);return a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border-2 border-blue-100 rounded-xl p-8 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:V.label}),a.jsx("span",{className:"px-4 py-2 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:V.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[P?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-xl border border-blue-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Per Paycheck"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C(Te)})]}),a.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-xl border border-blue-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Monthly Total"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C(ce)})]})]}):a.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-xl border border-blue-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Monthly Payment"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C(ce)})]}),a.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-xl border border-blue-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Payments"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ne})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Estimated Completion"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex space-x-1",children:Array.from({length:Math.min(12,pe)}).map((Zt,Rt)=>a.jsx("div",{className:`w-2 h-2 rounded-full ${Rt<pe?"bg-blue-500":"bg-gray-200"}`},Rt))}),a.jsx("span",{className:"text-sm text-gray-600",children:H(It,"MMM yyyy")})]})]}),!K&&I&&a.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:a.jsx("p",{className:"text-sm text-yellow-700",children:"This scenario would require more than your available savings to meet the target date. Consider adjusting your target date or choosing a different scenario."})}),a.jsx("div",{className:"mt-6",children:a.jsx(W,{variant:"primary",onClick:()=>z({monthlyPayment:ce,paycheckPayment:Te,monthsToTarget:pe,totalPayments:ne,targetDate:It}),disabled:!K&&I,children:"Select Scenario"})})]},G)}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-100 rounded-xl p-8",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Custom Scenario"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[P?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Per Paycheck Amount"}),a.jsx(Y,{type:"number",value:d.payment_amount/2,onChange:V=>{const G=parseFloat(V.target.value)||0;h(ce=>({...ce,payment_amount:G*2}))},step:"0.01",min:"0",className:"bg-white/80 backdrop-blur-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Total"}),a.jsx(Y,{type:"number",value:d.payment_amount,onChange:V=>h(G=>({...G,payment_amount:parseFloat(V.target.value)||0})),step:"0.01",min:"0",disabled:!0,className:"bg-white/80 backdrop-blur-sm"})]})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Payment"}),a.jsx(Y,{type:"number",value:d.payment_amount,onChange:V=>h(G=>({...G,payment_amount:parseFloat(V.target.value)||0})),step:"0.01",min:"0",className:"bg-white/80 backdrop-blur-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Percentage of Available Savings"}),a.jsx(Y,{type:"number",value:d.payment_amount/M*100||0,onChange:V=>{const G=parseFloat(V.target.value)||0;h(ce=>({...ce,payment_amount:M*(G/100)}))},step:"1",min:"0",max:"100",className:"bg-white/80 backdrop-blur-sm"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(W,{variant:"primary",onClick:()=>{const V=Math.ceil(k/d.payment_amount),G=Ve(new Date,V);h(ce=>({...ce,target_date:H(G,"yyyy-MM-dd")}))},children:"See Scenario"})})]})]})]})]})},A=()=>{const M=((m==null?void 0:m.income)||0)-((m==null?void 0:m.total_bills)||0),k=d.schedule_type==="Per Paycheck",I=O=>{const q=M*(O/100),V=k?q/2:q;return{threeMonths:q*3,sixMonths:q*6,twelveMonths:q*12,monthlyPayment:q,paycheckPayment:V}},P=[{percentage:25,label:"Conservative Savings",description:"Use 25% of available savings"},{percentage:50,label:"Balanced Approach",description:"Use 50% of available savings"},{percentage:75,label:"Aggressive Savings",description:"Use 75% of available savings"}];return a.jsxs(a.Fragment,{children:[Se(),a.jsxs(re,{className:"p-8 bg-gradient-to-br from-white to-blue-50 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Savings Projections"}),a.jsx(W,{variant:"outline",onClick:()=>o("payment_frequency"),children:"Back"})]}),a.jsxs("div",{className:"space-y-8",children:[P.map((O,q)=>{const{threeMonths:V,sixMonths:G,twelveMonths:ce,monthlyPayment:Te,paycheckPayment:pe}=I(O.percentage);return a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border-2 border-blue-100 rounded-xl p-8 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:O.label}),a.jsx("span",{className:"px-4 py-2 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:O.description})]}),k?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-xl border border-blue-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Per Paycheck"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C(pe)})]}),a.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-xl border border-blue-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Monthly Total"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C(Te)})]})]}):a.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-xl border border-blue-100 mb-8",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Monthly Payment"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C(Te)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-blue-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"3 Months"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C(V)}),a.jsx("div",{className:"mt-4 flex space-x-1",children:Array.from({length:3}).map((K,ne)=>a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"},ne))})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-blue-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"6 Months"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C(G)}),a.jsx("div",{className:"mt-4 flex space-x-1",children:Array.from({length:6}).map((K,ne)=>a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"},ne))})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-blue-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"12 Months"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C(ce)}),a.jsx("div",{className:"mt-4 flex space-x-1",children:Array.from({length:12}).map((K,ne)=>a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"},ne))})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(W,{variant:"primary",onClick:()=>z({monthlyPayment:Te,paycheckPayment:pe,monthsToTarget:12,totalPayments:12,targetDate:Ve(new Date,12)}),children:"Select Scenario"})})]},q)}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-100 rounded-xl p-8",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Custom Scenario"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[k?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Per Paycheck Amount"}),a.jsx(Y,{type:"number",value:d.payment_amount/2,onChange:O=>{const q=parseFloat(O.target.value)||0;h(V=>({...V,payment_amount:q*2}))},step:"0.01",min:"0",className:"bg-white/80 backdrop-blur-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Total"}),a.jsx(Y,{type:"number",value:d.payment_amount,onChange:O=>h(q=>({...q,payment_amount:parseFloat(O.target.value)||0})),step:"0.01",min:"0",disabled:!0,className:"bg-white/80 backdrop-blur-sm"})]})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Payment"}),a.jsx(Y,{type:"number",value:d.payment_amount,onChange:O=>h(q=>({...q,payment_amount:parseFloat(O.target.value)||0})),step:"0.01",min:"0",className:"bg-white/80 backdrop-blur-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Percentage of Available Savings"}),a.jsx(Y,{type:"number",value:d.payment_amount/M*100||0,onChange:O=>{const q=parseFloat(O.target.value)||0;h(V=>({...V,payment_amount:M*(q/100)}))},step:"1",min:"0",max:"100",className:"bg-white/80 backdrop-blur-sm"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(W,{variant:"primary",onClick:()=>{const{threeMonths:O,sixMonths:q,twelveMonths:V}=I(d.payment_amount/M*100);h(G=>({...G,custom_scenario:{threeMonths:O,sixMonths:q,twelveMonths:V}}))},children:"Run Scenario"})})]})]})]})]})},R=()=>{if(!_)return null;const M=O=>{if(O==="Per Paycheck")switch(g==null?void 0:g.income_frequency){case"weekly":return"Weekly";case"bi-weekly":return"Bi-Weekly";case"bi-monthly":return"Bi-Monthly";case"monthly":return"Monthly";default:return"Paycheck-Based"}return"Monthly"},k=()=>d.schedule_type==="Custom Schedule"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Day of Month"}),a.jsx(Y,{type:"number",value:d.payment_day||"",onChange:O=>h(q=>({...q,payment_day:parseInt(O.target.value)||null})),min:"1",max:"31",className:"bg-white/80 backdrop-blur-sm"})]}):null,P=(()=>{const O=[],q=new Date,V=d.schedule_type==="Per Paycheck",G=V?_.paycheckPayment:_.monthlyPayment;let ce=d.current_amount||0;if(V&&b.length>0){const Te=b.slice(0,24);let pe="",K=0,ne=[];Te.forEach((It,Zt)=>{const Rt=L(It.payment_date),Qr=H(Rt,"MMMM yyyy");Qr!==pe&&(pe&&O.push({month:pe,payments:ne,monthTotal:K,runningTotal:ce}),pe=Qr,K=0,ne=[]),ne.push({date:H(Rt,"MMM d, yyyy"),amount:G}),K+=G,ce+=G}),pe&&O.push({month:pe,payments:ne,monthTotal:K,runningTotal:ce})}else for(let Te=0;Te<12;Te++){const pe=Ve(q,Te),K=G;ce+=K,O.push({month:H(pe,"MMMM yyyy"),payments:[{date:H(pe,"MMM d, yyyy"),amount:G}],monthTotal:K,runningTotal:ce})}return O})();return a.jsxs(re,{className:"p-8 bg-gradient-to-br from-white to-green-50 border border-green-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Review Your Savings Plan"}),a.jsx(W,{variant:"outline",onClick:()=>o("scenarios"),children:"Back"})]}),a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-xl border border-green-100 mb-8",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Plan Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Plan Name"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:d.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Payment Frequency"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:M(d.schedule_type||"")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Payment Amount"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:C(d.payment_amount)})]}),c==="goal_amount"&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Target Date"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:H(_.targetDate,"MMMM d, yyyy")})]})]}),k()]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"12-Month Breakdown"}),P.map((O,q)=>a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-xl border border-green-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900",children:O.month}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Month Total"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:C(O.monthTotal)})]})]}),a.jsx("div",{className:"space-y-3",children:O.payments.map((V,G)=>a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-0",children:[a.jsx("p",{className:"text-sm text-gray-600",children:V.date}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:C(V.amount)})]},G))}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Running Total"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:C(O.runningTotal)})]})]},q))]})]})};return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Savings Plan"})}),j&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-700",children:j})}),l==="initial"&&X(),l==="details"&&oe(),l==="payment_frequency"&&je(),l==="scenarios"&&be(),l==="review"&&R(),a.jsx("div",{className:"flex justify-end space-x-4",children:l==="review"?a.jsx(W,{type:"submit",variant:"primary",onClick:F,isLoading:s,children:t?"Update Savings Plan":"Confirm Savings Plan"}):l!=="scenarios"?a.jsx(W,{type:"button",variant:"primary",onClick:T,disabled:s,children:"Next"}):null})]})},Tj=({accounts:e,payment:t,onSubmit:n,onCancel:r,isLoading:s=!1})=>{var h;const[i,l]=w.useState({savings_id:(t==null?void 0:t.savings_id)||((h=e[0])==null?void 0:h.id)||"",amount:(t==null?void 0:t.amount)||0,payment_type:(t==null?void 0:t.payment_type)||"deposit",payment_date:(t==null?void 0:t.payment_date)||H(new Date,"yyyy-MM-dd"),payment_method:(t==null?void 0:t.payment_method)||"bank_transfer",notes:(t==null?void 0:t.notes)||null}),[o,c]=w.useState(""),u=async m=>{if(m.preventDefault(),c(""),!i.savings_id){c("Please select a savings account");return}if(!i.amount||i.amount<=0){c("Please enter a valid amount");return}if(!i.payment_date){c("Please select a payment date");return}try{await n({savings_id:i.savings_id,amount:i.amount,payment_date:i.payment_date,payment_type:i.payment_type,payment_method:i.payment_method,notes:i.notes||null})}catch(p){c(p instanceof Error?p.message:"Failed to save payment")}},d=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m);return a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-700",children:o})}),a.jsx(re,{className:"p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Savings Account"}),a.jsxs(Pe,{value:i.savings_id,onChange:m=>l(p=>({...p,savings_id:m.target.value})),className:"w-full",children:[a.jsx("option",{value:"",children:"Select an account"}),e.map(m=>a.jsxs("option",{value:m.id,children:[m.name," - ",d(m.current_balance)]},m.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ge,{className:"h-5 w-5 text-gray-400"})}),a.jsx(Y,{type:"number",value:i.amount,onChange:m=>l(p=>({...p,amount:parseFloat(m.target.value)||0})),step:"0.01",min:"0",className:"pl-10",placeholder:"0.00"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),a.jsxs(Pe,{value:i.payment_type,onChange:m=>l(p=>({...p,payment_type:m.target.value})),className:"w-full",children:[a.jsx("option",{value:"deposit",children:"Deposit"}),a.jsx("option",{value:"withdrawal",children:"Withdrawal"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Date"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Oe,{className:"h-5 w-5 text-gray-400"})}),a.jsx(Y,{type:"date",value:i.payment_date,onChange:m=>l(p=>({...p,payment_date:m.target.value})),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(vt,{className:"h-5 w-5 text-gray-400"})}),a.jsxs(Pe,{value:i.payment_method,onChange:m=>l(p=>({...p,payment_method:m.target.value})),className:"w-full pl-10",children:[a.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),a.jsx("option",{value:"cash",children:"Cash"}),a.jsx("option",{value:"debit_card",children:"Debit Card"}),a.jsx("option",{value:"direct_deposit",children:"Direct Deposit"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:a.jsx(No,{className:"h-5 w-5 text-gray-400"})}),a.jsx("textarea",{value:i.notes||"",onChange:m=>l(p=>({...p,notes:m.target.value||null})),className:"w-full pl-10 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Add any additional notes..."})]})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx(W,{type:"button",variant:"outline",onClick:r,disabled:s,children:"Cancel"}),a.jsx(W,{type:"submit",variant:"primary",isLoading:s,children:t?"Update Payment":"Add Payment"})]})]})};async function Dj(){const{data:e,error:t}=await U.from("savings").select("*").order("is_primary",{ascending:!1}).order("created_at",{ascending:!0});if(t)throw t;return e}async function Mj(e){const{data:t}=await U.auth.getUser();if(!t.user)throw new Error("User not authenticated");try{const{data:n,error:r}=await U.from("savings").insert({...e,user_id:t.user.id}).select().single();if(r)throw r.code==="23505"?new Error("A savings account with this ID already exists. Please try again."):r;return n}catch(n){throw new Error(n.message||"Failed to create savings account")}}async function Oj(e,t){const{data:n,error:r}=await U.from("savings").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return n}async function Aj(){const{data:e,error:t}=await U.from("savings_plans").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}async function $j(e){const{data:t}=await U.auth.getUser();if(!t.user)throw new Error("User not authenticated");const{data:n,error:r}=await U.from("savings_plans").insert({...e,user_id:t.user.id,schedule_type:e.schedule_type||"Custom Schedule",payment_type:e.payment_type||"Monthly",plan_type:e.plan_type||"goal_amount"}).select().single();if(r)throw r;return n}async function Ij(e,t){const{data:n,error:r}=await U.from("savings_plans").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return n}async function Rj(e){const{error:t}=await U.from("savings_plans").delete().eq("id",e);if(t)throw t;return!0}const Uj=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState([]),[l,o]=w.useState(!0),[c,u]=w.useState(""),[d,h]=w.useState(!1),[m,p]=w.useState(!1),[g,v]=w.useState(!1),[j,x]=w.useState(null),[f,y]=w.useState(null),[_,N]=w.useState(null),[b,S]=w.useState(!1);w.useEffect(()=>{T()},[]);const T=async()=>{try{o(!0);const[A,R,M]=await Promise.all([Dj(),Aj(),zf(5)]);t(A),r(R),i(M)}catch(A){u(A instanceof Error?A.message:"Failed to load savings data")}finally{o(!1)}},F=async A=>{try{S(!0),await Mj(A),await T(),h(!1),x(null)}catch(R){throw R}finally{S(!1)}},C=async A=>{try{if(S(!0),!(j!=null&&j.id))throw new Error("No account selected for update");await Oj(j.id,A),await T(),h(!1),x(null)}catch(R){throw R}finally{S(!1)}},E=async A=>{try{S(!0),await $j(A),await T(),p(!1),x(null)}catch(R){throw R}finally{S(!1)}},z=async A=>{try{if(S(!0),!A.id)throw new Error("No plan selected for update");const{id:R,...M}=A;await Ij(R,M),await T(),p(!1),x(null),N(null)}catch(R){throw R}finally{S(!1)}},X=A=>{x(A),h(!0)},oe=async A=>{try{if(S(!0),!n.find(M=>M.id===A))throw new Error("Savings plan not found");y(A),v(!0)}catch(R){throw R}finally{S(!1)}},je=async A=>{try{S(!0);const R=n.find(M=>M.id===f);if(!R)throw new Error("Savings plan not found");await Z_({...A,savings_id:R.savings_id}),await T(),v(!1),y(null)}catch(R){throw R}finally{S(!1)}},Se=A=>{x(e.find(R=>R.id===A.savings_id)||null),N(A),p(!0)},be=async A=>{if(confirm("Are you sure you want to delete this savings plan?"))try{await Rj(A),await T()}catch(R){u(R instanceof Error?R.message:"Failed to delete savings plan")}},$=async A=>{try{await ej(A),await T()}catch(R){u(R instanceof Error?R.message:"Failed to delete payment")}};return l?a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-12 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(A=>a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"},A))})]}):c?a.jsx("div",{className:"bg-red-50 text-red-500 p-4 rounded-lg flex items-center",children:a.jsx("span",{children:c})}):m&&j?a.jsx(Ej,{account:j,plan:_,onSubmit:_?z:E,onCancel:()=>{p(!1),x(null),N(null)},isLoading:b}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-[#1e293b]",children:"Savings"}),a.jsxs("div",{className:"flex space-x-4",children:[e.length>0&&a.jsx(W,{variant:"outline",onClick:()=>p(!0),leftIcon:a.jsx(Kn,{size:20}),children:"Create Savings Plan"}),a.jsx(W,{variant:"primary",onClick:()=>{x(null),h(!0)},leftIcon:a.jsx(Jt,{size:20}),children:"Add Savings Account"})]})]}),a.jsx(Cj,{accounts:e,plans:n,recentPayments:s}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-[#1e293b]",children:"Savings Accounts"}),a.jsx(kj,{accounts:e,onAddAccount:()=>{x(null),h(!0)},onEditAccount:X})]}),e.length>0&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-[#1e293b]",children:"Savings Plans"}),a.jsx(W,{variant:"outline",onClick:()=>{x(e[0]),p(!0)},leftIcon:a.jsx(Jt,{size:20}),children:"Create Plan"})]}),a.jsx(Sj,{plans:n,onAddPlan:()=>{x(e[0]),p(!0)},onAddPayment:oe,onEditPlan:Se,onDeletePlan:be,onDeletePayment:$})]}),a.jsx(Jn,{isOpen:d,onClose:()=>{h(!1),x(null)},title:j?"Edit Savings Account":"Add Savings Account",size:"lg",children:a.jsx(Pj,{account:j||void 0,onSubmit:j?C:F,onCancel:()=>{h(!1),x(null)},isLoading:b})}),a.jsx(Jn,{isOpen:g,onClose:()=>{v(!1),y(null)},title:"Add Payment",size:"lg",children:a.jsx(Tj,{accounts:e,payment:null,onSubmit:je,onCancel:()=>{v(!1),y(null)},isLoading:b})})]})};function Lj(){return a.jsx(p0,{children:a.jsxs(nd,{children:[a.jsx(We,{path:"/login",element:a.jsx(jj,{})}),a.jsx(We,{path:"/signup",element:a.jsx(bj,{})}),a.jsx(We,{path:"/*",element:a.jsx(ew,{children:a.jsxs(nd,{children:[a.jsx(We,{path:"/",element:a.jsx(sj,{})}),a.jsx(We,{path:"/bills",element:a.jsx(oj,{})}),a.jsx(We,{path:"/credit-cards",element:a.jsx(mj,{})}),a.jsx(We,{path:"/debit-cards",element:a.jsx(pj,{})}),a.jsx(We,{path:"/savings",element:a.jsx(Uj,{})}),a.jsx(We,{path:"/payoff-plans",element:a.jsx(yj,{})}),a.jsx(We,{path:"/budget",element:a.jsx(gj,{})}),a.jsx(We,{path:"/goals",element:a.jsx(vj,{})}),a.jsx(We,{path:"/profile",element:a.jsx(_j,{})}),a.jsx(We,{path:"/income",element:a.jsx(Nj,{})}),a.jsx(We,{path:"/income-book",element:a.jsx(Bf,{})})]})})})]})})}zm(document.getElementById("root")).render(a.jsx(w.StrictMode,{children:a.jsx(Lj,{})}));export{Hf as g};
